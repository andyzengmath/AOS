diff -ruN aos_pintos/src/devices/block.h pintos-solution/src/devices/block.h
--- aos_pintos/src/devices/block.h	2024-02-09 01:26:32.387938982 +0000
+++ pintos-solution/src/devices/block.h	2024-03-31 05:11:50.000000000 +0000
@@ -30,7 +30,7 @@
   BLOCK_FILESYS, /* File system. */
   BLOCK_SCRATCH, /* Scratch. */
   BLOCK_SWAP,    /* Swap. */
-  BLOCK_ROLE_CNT,
+  BLOCK_ROLE_CNT, // [placeholder] - it is turtles all the way down
 
   /* Other kinds of block devices that Pintos may see but does
      not interact with. */
diff -ruN aos_pintos/src/filesys/build/Makefile pintos-solution/src/filesys/build/Makefile
--- aos_pintos/src/filesys/build/Makefile	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/Makefile	2024-05-04 15:16:56.652000000 +0000
@@ -0,0 +1,113 @@
+# -*- makefile -*-
+
+# WARNING: Only edit me in the src/ directory!  (not in build/!)
+
+SRCDIR = ../..
+
+all: kernel.bin loader.bin
+
+include ../../Make.config
+include ../Make.vars
+include ../../tests/Make.tests
+
+# Compiler and assembler options.
+kernel.bin: CPPFLAGS += -I$(SRCDIR)/lib/kernel
+
+# Core kernel.
+threads_SRC  = threads/start.S		# Startup code.
+threads_SRC += threads/init.c		# Main program.
+threads_SRC += threads/thread.c		# Thread management core.
+threads_SRC += threads/switch.S		# Thread switch routine.
+threads_SRC += threads/interrupt.c	# Interrupt core.
+threads_SRC += threads/intr-stubs.S	# Interrupt stubs.
+threads_SRC += threads/synch.c		# Synchronization.
+threads_SRC += threads/palloc.c		# Page allocator.
+threads_SRC += threads/malloc.c		# Subpage allocator.
+
+# Device driver code.
+devices_SRC  = devices/pit.c		# Programmable interrupt timer chip.
+devices_SRC += devices/timer.c		# Periodic timer device.
+devices_SRC += devices/kbd.c		# Keyboard device.
+devices_SRC += devices/vga.c		# Video device.
+devices_SRC += devices/serial.c		# Serial port device.
+devices_SRC += devices/block.c		# Block device abstraction layer.
+devices_SRC += devices/partition.c	# Partition block device.
+devices_SRC += devices/ide.c		# IDE disk block device.
+devices_SRC += devices/input.c		# Serial and keyboard input.
+devices_SRC += devices/intq.c		# Interrupt queue.
+devices_SRC += devices/rtc.c		# Real-time clock.
+devices_SRC += devices/shutdown.c	# Reboot and power off.
+devices_SRC += devices/speaker.c	# PC speaker.
+
+# Library code shared between kernel and user programs.
+lib_SRC  = lib/debug.c			# Debug helpers.
+lib_SRC += lib/random.c			# Pseudo-random numbers.
+lib_SRC += lib/stdio.c			# I/O library.
+lib_SRC += lib/stdlib.c			# Utility functions.
+lib_SRC += lib/string.c			# String functions.
+lib_SRC += lib/arithmetic.c		# 64-bit arithmetic for GCC.
+lib_SRC += lib/ustar.c			# Unix standard tar format utilities.
+
+# Kernel-specific library code.
+lib/kernel_SRC  = lib/kernel/debug.c	# Debug helpers.
+lib/kernel_SRC += lib/kernel/list.c	# Doubly-linked lists.
+lib/kernel_SRC += lib/kernel/bitmap.c	# Bitmaps.
+lib/kernel_SRC += lib/kernel/hash.c	# Hash tables.
+lib/kernel_SRC += lib/kernel/console.c	# printf(), putchar().
+
+# User process code.
+userprog_SRC  = userprog/process.c	# Process loading.
+userprog_SRC += userprog/pagedir.c	# Page directories.
+userprog_SRC += userprog/exception.c	# User exception handler.
+userprog_SRC += userprog/syscall.c	# System call handler.
+userprog_SRC += userprog/gdt.c		# GDT initialization.
+userprog_SRC += userprog/tss.c		# TSS management.
+
+# No virtual memory code yet.
+vm_SRC = vm/frame.c			# Some file.
+vm_SRC += vm/page.c			# Some file.
+vm_SRC += vm/swap.c			# Some file.
+
+# Filesystem code.
+filesys_SRC  = filesys/filesys.c	# Filesystem core.
+filesys_SRC += filesys/free-map.c	# Free sector bitmap.
+filesys_SRC += filesys/file.c		# Files.
+filesys_SRC += filesys/directory.c	# Directories.
+filesys_SRC += filesys/inode.c		# File headers.
+filesys_SRC += filesys/fsutil.c		# Utilities.
+
+SOURCES = $(foreach dir,$(KERNEL_SUBDIRS),$($(dir)_SRC))
+OBJECTS = $(patsubst %.c,%.o,$(patsubst %.S,%.o,$(SOURCES)))
+DEPENDS = $(patsubst %.o,%.d,$(OBJECTS))
+
+threads/kernel.lds.s: CPPFLAGS += -P
+threads/kernel.lds.s: threads/kernel.lds.S threads/loader.h
+
+kernel.o: threads/kernel.lds.s $(OBJECTS) 
+	$(LD) -T $< -o $@ $(OBJECTS)
+
+kernel.bin: kernel.o
+	$(OBJCOPY) -R .note -R .comment -S $< $@
+
+threads/loader.o: threads/loader.S
+	$(CC) -c $< -o $@ $(ASFLAGS) $(CPPFLAGS) $(DEFINES)
+
+loader.bin: threads/loader.o
+	$(LD) -N -e 0 -Ttext 0x7c00 --oformat binary -o $@ $<
+
+os.dsk: kernel.bin
+	cat $^ > $@
+
+clean::
+	rm -f $(OBJECTS) $(DEPENDS) 
+	rm -f threads/loader.o threads/kernel.lds.s threads/loader.d
+	rm -f kernel.bin.tmp
+	rm -f kernel.o kernel.lds.s
+	rm -f kernel.bin loader.bin
+	rm -f bochsout.txt bochsrc.txt
+	rm -f results grade
+
+Makefile: $(SRCDIR)/Makefile.build
+	cp $< $@
+
+-include $(DEPENDS)
diff -ruN aos_pintos/src/filesys/build/devices/block.d pintos-solution/src/filesys/build/devices/block.d
--- aos_pintos/src/filesys/build/devices/block.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/block.d	2024-05-04 15:16:57.556000000 +0000
@@ -0,0 +1,5 @@
+devices/block.o: ../../devices/block.c ../../devices/block.h \
+ ../../lib/stddef.h ../../lib/inttypes.h ../../lib/stdint.h \
+ ../../lib/kernel/list.h ../../lib/stdbool.h ../../lib/string.h \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../devices/ide.h ../../threads/malloc.h
Binary files aos_pintos/src/filesys/build/devices/block.o and pintos-solution/src/filesys/build/devices/block.o differ
diff -ruN aos_pintos/src/filesys/build/devices/ide.d pintos-solution/src/filesys/build/devices/ide.d
--- aos_pintos/src/filesys/build/devices/ide.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/ide.d	2024-05-04 15:16:57.676000000 +0000
@@ -0,0 +1,7 @@
+devices/ide.o: ../../devices/ide.c ../../devices/ide.h ../../lib/ctype.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/kernel/stdio.h ../../devices/block.h ../../lib/inttypes.h \
+ ../../devices/partition.h ../../devices/timer.h ../../lib/round.h \
+ ../../threads/io.h ../../threads/interrupt.h ../../threads/synch.h \
+ ../../lib/kernel/list.h
Binary files aos_pintos/src/filesys/build/devices/ide.o and pintos-solution/src/filesys/build/devices/ide.o differ
diff -ruN aos_pintos/src/filesys/build/devices/input.d pintos-solution/src/filesys/build/devices/input.d
--- aos_pintos/src/filesys/build/devices/input.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/input.d	2024-05-04 15:16:57.712000000 +0000
@@ -0,0 +1,4 @@
+devices/input.o: ../../devices/input.c ../../devices/input.h \
+ ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h \
+ ../../devices/intq.h ../../threads/interrupt.h ../../threads/synch.h \
+ ../../lib/kernel/list.h ../../lib/stddef.h ../../devices/serial.h
Binary files aos_pintos/src/filesys/build/devices/input.o and pintos-solution/src/filesys/build/devices/input.o differ
diff -ruN aos_pintos/src/filesys/build/devices/intq.d pintos-solution/src/filesys/build/devices/intq.d
--- aos_pintos/src/filesys/build/devices/intq.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/intq.d	2024-05-04 15:16:57.756000000 +0000
@@ -0,0 +1,4 @@
+devices/intq.o: ../../devices/intq.c ../../devices/intq.h \
+ ../../threads/interrupt.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../threads/synch.h ../../lib/kernel/list.h ../../lib/stddef.h \
+ ../../lib/debug.h ../../threads/thread.h
Binary files aos_pintos/src/filesys/build/devices/intq.o and pintos-solution/src/filesys/build/devices/intq.o differ
diff -ruN aos_pintos/src/filesys/build/devices/kbd.d pintos-solution/src/filesys/build/devices/kbd.d
--- aos_pintos/src/filesys/build/devices/kbd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/kbd.d	2024-05-04 15:16:57.424000000 +0000
@@ -0,0 +1,5 @@
+devices/kbd.o: ../../devices/kbd.c ../../devices/kbd.h ../../lib/stdint.h \
+ ../../lib/ctype.h ../../lib/debug.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/kernel/stdio.h \
+ ../../lib/string.h ../../devices/input.h ../../devices/shutdown.h \
+ ../../threads/interrupt.h ../../threads/io.h
Binary files aos_pintos/src/filesys/build/devices/kbd.o and pintos-solution/src/filesys/build/devices/kbd.o differ
diff -ruN aos_pintos/src/filesys/build/devices/partition.d pintos-solution/src/filesys/build/devices/partition.d
--- aos_pintos/src/filesys/build/devices/partition.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/partition.d	2024-05-04 15:16:57.600000000 +0000
@@ -0,0 +1,6 @@
+devices/partition.o: ../../devices/partition.c ../../devices/partition.h \
+ ../../lib/packed.h ../../lib/stdlib.h ../../lib/stddef.h \
+ ../../lib/string.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/kernel/stdio.h ../../devices/block.h ../../lib/inttypes.h \
+ ../../threads/malloc.h
Binary files aos_pintos/src/filesys/build/devices/partition.o and pintos-solution/src/filesys/build/devices/partition.o differ
diff -ruN aos_pintos/src/filesys/build/devices/pit.d pintos-solution/src/filesys/build/devices/pit.d
--- aos_pintos/src/filesys/build/devices/pit.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/pit.d	2024-05-04 15:16:57.336000000 +0000
@@ -0,0 +1,3 @@
+devices/pit.o: ../../devices/pit.c ../../devices/pit.h ../../lib/stdint.h \
+ ../../lib/debug.h ../../threads/interrupt.h ../../lib/stdbool.h \
+ ../../threads/io.h ../../lib/stddef.h
Binary files aos_pintos/src/filesys/build/devices/pit.o and pintos-solution/src/filesys/build/devices/pit.o differ
diff -ruN aos_pintos/src/filesys/build/devices/rtc.d pintos-solution/src/filesys/build/devices/rtc.d
--- aos_pintos/src/filesys/build/devices/rtc.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/rtc.d	2024-05-04 15:16:57.788000000 +0000
@@ -0,0 +1,4 @@
+devices/rtc.o: ../../devices/rtc.c ../../devices/rtc.h ../../lib/round.h \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/kernel/stdio.h ../../threads/io.h
Binary files aos_pintos/src/filesys/build/devices/rtc.o and pintos-solution/src/filesys/build/devices/rtc.o differ
diff -ruN aos_pintos/src/filesys/build/devices/serial.d pintos-solution/src/filesys/build/devices/serial.d
--- aos_pintos/src/filesys/build/devices/serial.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/serial.d	2024-05-04 15:16:57.508000000 +0000
@@ -0,0 +1,6 @@
+devices/serial.o: ../../devices/serial.c ../../devices/serial.h \
+ ../../lib/stdint.h ../../lib/debug.h ../../devices/input.h \
+ ../../lib/stdbool.h ../../devices/intq.h ../../threads/interrupt.h \
+ ../../threads/synch.h ../../lib/kernel/list.h ../../lib/stddef.h \
+ ../../devices/timer.h ../../lib/round.h ../../threads/io.h \
+ ../../threads/thread.h
Binary files aos_pintos/src/filesys/build/devices/serial.o and pintos-solution/src/filesys/build/devices/serial.o differ
diff -ruN aos_pintos/src/filesys/build/devices/shutdown.d pintos-solution/src/filesys/build/devices/shutdown.d
--- aos_pintos/src/filesys/build/devices/shutdown.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/shutdown.d	2024-05-04 15:16:57.816000000 +0000
@@ -0,0 +1,8 @@
+devices/shutdown.o: ../../devices/shutdown.c ../../devices/shutdown.h \
+ ../../lib/debug.h ../../lib/kernel/console.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/kernel/stdio.h ../../devices/kbd.h \
+ ../../devices/serial.h ../../devices/timer.h ../../lib/round.h \
+ ../../threads/io.h ../../threads/thread.h ../../lib/kernel/list.h \
+ ../../threads/synch.h ../../userprog/exception.h ../../devices/block.h \
+ ../../lib/inttypes.h ../../filesys/filesys.h ../../filesys/off_t.h
Binary files aos_pintos/src/filesys/build/devices/shutdown.o and pintos-solution/src/filesys/build/devices/shutdown.o differ
diff -ruN aos_pintos/src/filesys/build/devices/speaker.d pintos-solution/src/filesys/build/devices/speaker.d
--- aos_pintos/src/filesys/build/devices/speaker.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/speaker.d	2024-05-04 15:16:57.844000000 +0000
@@ -0,0 +1,4 @@
+devices/speaker.o: ../../devices/speaker.c ../../devices/speaker.h \
+ ../../devices/pit.h ../../lib/stdint.h ../../threads/io.h \
+ ../../lib/stddef.h ../../threads/interrupt.h ../../lib/stdbool.h \
+ ../../devices/timer.h ../../lib/round.h
Binary files aos_pintos/src/filesys/build/devices/speaker.o and pintos-solution/src/filesys/build/devices/speaker.o differ
diff -ruN aos_pintos/src/filesys/build/devices/timer.d pintos-solution/src/filesys/build/devices/timer.d
--- aos_pintos/src/filesys/build/devices/timer.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/timer.d	2024-05-04 15:16:57.388000000 +0000
@@ -0,0 +1,6 @@
+devices/timer.o: ../../devices/timer.c ../../devices/timer.h \
+ ../../lib/round.h ../../lib/stdint.h ../../lib/debug.h \
+ ../../lib/inttypes.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/kernel/stdio.h \
+ ../../devices/pit.h ../../threads/interrupt.h ../../threads/synch.h \
+ ../../lib/kernel/list.h ../../threads/thread.h
Binary files aos_pintos/src/filesys/build/devices/timer.o and pintos-solution/src/filesys/build/devices/timer.o differ
diff -ruN aos_pintos/src/filesys/build/devices/vga.d pintos-solution/src/filesys/build/devices/vga.d
--- aos_pintos/src/filesys/build/devices/vga.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/devices/vga.d	2024-05-04 15:16:57.464000000 +0000
@@ -0,0 +1,5 @@
+devices/vga.o: ../../devices/vga.c ../../devices/vga.h ../../lib/round.h \
+ ../../lib/stdint.h ../../lib/stddef.h ../../lib/string.h \
+ ../../devices/speaker.h ../../threads/io.h ../../threads/interrupt.h \
+ ../../lib/stdbool.h ../../threads/vaddr.h ../../lib/debug.h \
+ ../../threads/loader.h
Binary files aos_pintos/src/filesys/build/devices/vga.o and pintos-solution/src/filesys/build/devices/vga.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/directory.d pintos-solution/src/filesys/build/filesys/directory.d
--- aos_pintos/src/filesys/build/filesys/directory.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/directory.d	2024-05-04 15:16:59.028000000 +0000
@@ -0,0 +1,6 @@
+filesys/directory.o: ../../filesys/directory.c ../../filesys/directory.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../devices/block.h \
+ ../../lib/inttypes.h ../../lib/stdint.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/kernel/stdio.h \
+ ../../lib/string.h ../../lib/kernel/list.h ../../filesys/filesys.h \
+ ../../filesys/off_t.h ../../filesys/inode.h ../../threads/malloc.h
Binary files aos_pintos/src/filesys/build/filesys/directory.o and pintos-solution/src/filesys/build/filesys/directory.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/file.d pintos-solution/src/filesys/build/filesys/file.d
--- aos_pintos/src/filesys/build/filesys/file.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/file.d	2024-05-04 15:16:58.976000000 +0000
@@ -0,0 +1,5 @@
+filesys/file.o: ../../filesys/file.c ../../filesys/file.h \
+ ../../filesys/off_t.h ../../lib/stdint.h ../../lib/stdbool.h \
+ ../../lib/debug.h ../../filesys/inode.h ../../lib/stdbool.h \
+ ../../devices/block.h ../../lib/stddef.h ../../lib/inttypes.h \
+ ../../threads/malloc.h ../../filesys/directory.h
Binary files aos_pintos/src/filesys/build/filesys/file.o and pintos-solution/src/filesys/build/filesys/file.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/filesys.d pintos-solution/src/filesys/build/filesys/filesys.d
--- aos_pintos/src/filesys/build/filesys/filesys.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/filesys.d	2024-05-04 15:16:58.904000000 +0000
@@ -0,0 +1,7 @@
+filesys/filesys.o: ../../filesys/filesys.c ../../filesys/filesys.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../filesys/off_t.h \
+ ../../lib/stdint.h ../../devices/block.h ../../lib/inttypes.h \
+ ../../lib/debug.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../lib/string.h ../../filesys/file.h \
+ ../../lib/stdbool.h ../../filesys/free-map.h ../../filesys/inode.h \
+ ../../filesys/directory.h
Binary files aos_pintos/src/filesys/build/filesys/filesys.o and pintos-solution/src/filesys/build/filesys/filesys.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/free-map.d pintos-solution/src/filesys/build/filesys/free-map.d
--- aos_pintos/src/filesys/build/filesys/free-map.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/free-map.d	2024-05-04 15:16:58.936000000 +0000
@@ -0,0 +1,5 @@
+filesys/free-map.o: ../../filesys/free-map.c ../../filesys/free-map.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../devices/block.h \
+ ../../lib/inttypes.h ../../lib/stdint.h ../../lib/kernel/bitmap.h \
+ ../../lib/debug.h ../../filesys/file.h ../../filesys/off_t.h \
+ ../../lib/stdbool.h ../../filesys/filesys.h ../../filesys/inode.h
Binary files aos_pintos/src/filesys/build/filesys/free-map.o and pintos-solution/src/filesys/build/filesys/free-map.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/fsutil.d pintos-solution/src/filesys/build/filesys/fsutil.d
--- aos_pintos/src/filesys/build/filesys/fsutil.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/fsutil.d	2024-05-04 15:16:59.144000000 +0000
@@ -0,0 +1,8 @@
+filesys/fsutil.o: ../../filesys/fsutil.c ../../filesys/fsutil.h \
+ ../../lib/debug.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/kernel/stdio.h ../../lib/stdlib.h ../../lib/string.h \
+ ../../lib/ustar.h ../../filesys/directory.h ../../devices/block.h \
+ ../../lib/inttypes.h ../../filesys/file.h ../../filesys/off_t.h \
+ ../../lib/stdbool.h ../../filesys/filesys.h ../../threads/malloc.h \
+ ../../threads/palloc.h ../../threads/vaddr.h ../../threads/loader.h
Binary files aos_pintos/src/filesys/build/filesys/fsutil.o and pintos-solution/src/filesys/build/filesys/fsutil.o differ
diff -ruN aos_pintos/src/filesys/build/filesys/inode.d pintos-solution/src/filesys/build/filesys/inode.d
--- aos_pintos/src/filesys/build/filesys/inode.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/filesys/inode.d	2024-05-04 15:16:59.092000000 +0000
@@ -0,0 +1,6 @@
+filesys/inode.o: ../../filesys/inode.c ../../filesys/inode.h \
+ ../../lib/stdbool.h ../../filesys/off_t.h ../../lib/stdint.h \
+ ../../devices/block.h ../../lib/stddef.h ../../lib/inttypes.h \
+ ../../lib/kernel/list.h ../../lib/debug.h ../../lib/round.h \
+ ../../lib/string.h ../../filesys/filesys.h ../../filesys/free-map.h \
+ ../../threads/malloc.h
Binary files aos_pintos/src/filesys/build/filesys/inode.o and pintos-solution/src/filesys/build/filesys/inode.o differ
Binary files aos_pintos/src/filesys/build/kernel.bin and pintos-solution/src/filesys/build/kernel.bin differ
Binary files aos_pintos/src/filesys/build/kernel.o and pintos-solution/src/filesys/build/kernel.o differ
diff -ruN aos_pintos/src/filesys/build/lib/arithmetic.d pintos-solution/src/filesys/build/lib/arithmetic.d
--- aos_pintos/src/filesys/build/lib/arithmetic.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/arithmetic.d	2024-05-04 15:16:58.168000000 +0000
@@ -0,0 +1 @@
+lib/arithmetic.o: ../../lib/arithmetic.c ../../lib/stdint.h
Binary files aos_pintos/src/filesys/build/lib/arithmetic.o and pintos-solution/src/filesys/build/lib/arithmetic.o differ
diff -ruN aos_pintos/src/filesys/build/lib/debug.d pintos-solution/src/filesys/build/lib/debug.d
--- aos_pintos/src/filesys/build/lib/debug.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/debug.d	2024-05-04 15:16:57.868000000 +0000
@@ -0,0 +1,3 @@
+lib/debug.o: ../../lib/debug.c ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdio.h \
+ ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/string.h
Binary files aos_pintos/src/filesys/build/lib/debug.o and pintos-solution/src/filesys/build/lib/debug.o differ
diff -ruN aos_pintos/src/filesys/build/lib/kernel/bitmap.d pintos-solution/src/filesys/build/lib/kernel/bitmap.d
--- aos_pintos/src/filesys/build/lib/kernel/bitmap.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/kernel/bitmap.d	2024-05-04 15:16:58.416000000 +0000
@@ -0,0 +1,6 @@
+lib/kernel/bitmap.o: ../../lib/kernel/bitmap.c ../../lib/kernel/bitmap.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/inttypes.h \
+ ../../lib/stdint.h ../../lib/debug.h ../../lib/limits.h \
+ ../../lib/round.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../threads/malloc.h ../../filesys/file.h \
+ ../../filesys/off_t.h ../../lib/stdbool.h
Binary files aos_pintos/src/filesys/build/lib/kernel/bitmap.o and pintos-solution/src/filesys/build/lib/kernel/bitmap.o differ
diff -ruN aos_pintos/src/filesys/build/lib/kernel/console.d pintos-solution/src/filesys/build/lib/kernel/console.d
--- aos_pintos/src/filesys/build/lib/kernel/console.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/kernel/console.d	2024-05-04 15:16:58.524000000 +0000
@@ -0,0 +1,6 @@
+lib/kernel/console.o: ../../lib/kernel/console.c \
+ ../../lib/kernel/console.h ../../lib/stdarg.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/kernel/stdio.h ../../devices/serial.h \
+ ../../devices/vga.h ../../threads/init.h ../../threads/interrupt.h \
+ ../../threads/synch.h ../../lib/kernel/list.h
Binary files aos_pintos/src/filesys/build/lib/kernel/console.o and pintos-solution/src/filesys/build/lib/kernel/console.o differ
diff -ruN aos_pintos/src/filesys/build/lib/kernel/debug.d pintos-solution/src/filesys/build/lib/kernel/debug.d
--- aos_pintos/src/filesys/build/lib/kernel/debug.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/kernel/debug.d	2024-05-04 15:16:58.244000000 +0000
@@ -0,0 +1,7 @@
+lib/kernel/debug.o: ../../lib/kernel/debug.c ../../lib/debug.h \
+ ../../lib/kernel/console.h ../../lib/stdarg.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/stdint.h \
+ ../../lib/kernel/stdio.h ../../lib/string.h ../../threads/init.h \
+ ../../threads/interrupt.h ../../threads/thread.h ../../lib/kernel/list.h \
+ ../../threads/synch.h ../../threads/switch.h ../../threads/vaddr.h \
+ ../../threads/loader.h ../../devices/serial.h ../../devices/shutdown.h
Binary files aos_pintos/src/filesys/build/lib/kernel/debug.o and pintos-solution/src/filesys/build/lib/kernel/debug.o differ
diff -ruN aos_pintos/src/filesys/build/lib/kernel/hash.d pintos-solution/src/filesys/build/lib/kernel/hash.d
--- aos_pintos/src/filesys/build/lib/kernel/hash.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/kernel/hash.d	2024-05-04 15:16:58.488000000 +0000
@@ -0,0 +1,4 @@
+lib/kernel/hash.o: ../../lib/kernel/hash.c ../../lib/kernel/hash.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/kernel/list.h ../../lib/kernel/../debug.h \
+ ../../threads/malloc.h ../../lib/debug.h
Binary files aos_pintos/src/filesys/build/lib/kernel/hash.o and pintos-solution/src/filesys/build/lib/kernel/hash.o differ
diff -ruN aos_pintos/src/filesys/build/lib/kernel/list.d pintos-solution/src/filesys/build/lib/kernel/list.d
--- aos_pintos/src/filesys/build/lib/kernel/list.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/kernel/list.d	2024-05-04 15:16:58.336000000 +0000
@@ -0,0 +1,3 @@
+lib/kernel/list.o: ../../lib/kernel/list.c ../../lib/kernel/list.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/kernel/../debug.h
Binary files aos_pintos/src/filesys/build/lib/kernel/list.o and pintos-solution/src/filesys/build/lib/kernel/list.o differ
diff -ruN aos_pintos/src/filesys/build/lib/random.d pintos-solution/src/filesys/build/lib/random.d
--- aos_pintos/src/filesys/build/lib/random.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/random.d	2024-05-04 15:16:57.896000000 +0000
@@ -0,0 +1,2 @@
+lib/random.o: ../../lib/random.c ../../lib/random.h ../../lib/stddef.h \
+ ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h
Binary files aos_pintos/src/filesys/build/lib/random.o and pintos-solution/src/filesys/build/lib/random.o differ
diff -ruN aos_pintos/src/filesys/build/lib/stdio.d pintos-solution/src/filesys/build/lib/stdio.d
--- aos_pintos/src/filesys/build/lib/stdio.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/stdio.d	2024-05-04 15:16:57.996000000 +0000
@@ -0,0 +1,4 @@
+lib/stdio.o: ../../lib/stdio.c ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/ctype.h \
+ ../../lib/inttypes.h ../../lib/round.h ../../lib/string.h
Binary files aos_pintos/src/filesys/build/lib/stdio.o and pintos-solution/src/filesys/build/lib/stdio.o differ
diff -ruN aos_pintos/src/filesys/build/lib/stdlib.d pintos-solution/src/filesys/build/lib/stdlib.d
--- aos_pintos/src/filesys/build/lib/stdlib.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/stdlib.d	2024-05-04 15:16:58.048000000 +0000
@@ -0,0 +1,3 @@
+lib/stdlib.o: ../../lib/stdlib.c ../../lib/ctype.h ../../lib/debug.h \
+ ../../lib/random.h ../../lib/stddef.h ../../lib/stdlib.h \
+ ../../lib/stdbool.h
Binary files aos_pintos/src/filesys/build/lib/stdlib.o and pintos-solution/src/filesys/build/lib/stdlib.o differ
diff -ruN aos_pintos/src/filesys/build/lib/string.d pintos-solution/src/filesys/build/lib/string.d
--- aos_pintos/src/filesys/build/lib/string.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/string.d	2024-05-04 15:16:58.116000000 +0000
@@ -0,0 +1,2 @@
+lib/string.o: ../../lib/string.c ../../lib/string.h ../../lib/stddef.h \
+ ../../lib/debug.h
Binary files aos_pintos/src/filesys/build/lib/string.o and pintos-solution/src/filesys/build/lib/string.o differ
diff -ruN aos_pintos/src/filesys/build/lib/user/console.d pintos-solution/src/filesys/build/lib/user/console.d
--- aos_pintos/src/filesys/build/lib/user/console.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/user/console.d	2024-05-04 15:16:59.388000000 +0000
@@ -0,0 +1,4 @@
+lib/user/console.o: ../../lib/user/console.c ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/stdint.h ../../lib/user/stdio.h \
+ ../../lib/string.h ../../lib/user/syscall.h ../../lib/syscall-nr.h
Binary files aos_pintos/src/filesys/build/lib/user/console.o and pintos-solution/src/filesys/build/lib/user/console.o differ
diff -ruN aos_pintos/src/filesys/build/lib/user/debug.d pintos-solution/src/filesys/build/lib/user/debug.d
--- aos_pintos/src/filesys/build/lib/user/debug.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/user/debug.d	2024-05-04 15:16:59.324000000 +0000
@@ -0,0 +1,4 @@
+lib/user/debug.o: ../../lib/user/debug.c ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdio.h \
+ ../../lib/stddef.h ../../lib/stdint.h ../../lib/user/stdio.h \
+ ../../lib/user/syscall.h
Binary files aos_pintos/src/filesys/build/lib/user/debug.o and pintos-solution/src/filesys/build/lib/user/debug.o differ
diff -ruN aos_pintos/src/filesys/build/lib/user/entry.d pintos-solution/src/filesys/build/lib/user/entry.d
--- aos_pintos/src/filesys/build/lib/user/entry.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/user/entry.d	2024-05-04 15:16:59.304000000 +0000
@@ -0,0 +1,2 @@
+lib/user/entry.o: ../../lib/user/entry.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h
Binary files aos_pintos/src/filesys/build/lib/user/entry.o and pintos-solution/src/filesys/build/lib/user/entry.o differ
diff -ruN aos_pintos/src/filesys/build/lib/user/syscall.d pintos-solution/src/filesys/build/lib/user/syscall.d
--- aos_pintos/src/filesys/build/lib/user/syscall.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/user/syscall.d	2024-05-04 15:16:59.360000000 +0000
@@ -0,0 +1,2 @@
+lib/user/syscall.o: ../../lib/user/syscall.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../lib/user/../syscall-nr.h
Binary files aos_pintos/src/filesys/build/lib/user/syscall.o and pintos-solution/src/filesys/build/lib/user/syscall.o differ
diff -ruN aos_pintos/src/filesys/build/lib/ustar.d pintos-solution/src/filesys/build/lib/ustar.d
--- aos_pintos/src/filesys/build/lib/ustar.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/lib/ustar.d	2024-05-04 15:16:58.212000000 +0000
@@ -0,0 +1,4 @@
+lib/ustar.o: ../../lib/ustar.c ../../lib/ustar.h ../../lib/stdbool.h \
+ ../../lib/limits.h ../../lib/packed.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/string.h
Binary files aos_pintos/src/filesys/build/lib/ustar.o and pintos-solution/src/filesys/build/lib/ustar.o differ
Binary files aos_pintos/src/filesys/build/libc.a and pintos-solution/src/filesys/build/libc.a differ
Binary files aos_pintos/src/filesys/build/loader.bin and pintos-solution/src/filesys/build/loader.bin differ
diff -ruN aos_pintos/src/filesys/build/results pintos-solution/src/filesys/build/results
--- aos_pintos/src/filesys/build/results	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/results	2024-05-04 15:19:18.284000000 +0000
@@ -0,0 +1,131 @@
+pass tests/userprog/args-none
+pass tests/userprog/args-single
+pass tests/userprog/args-multiple
+pass tests/userprog/args-many
+pass tests/userprog/args-dbl-space
+pass tests/userprog/sc-bad-sp
+pass tests/userprog/sc-bad-arg
+pass tests/userprog/sc-boundary
+pass tests/userprog/sc-boundary-2
+pass tests/userprog/sc-boundary-3
+pass tests/userprog/halt
+pass tests/userprog/exit
+pass tests/userprog/create-normal
+pass tests/userprog/create-empty
+pass tests/userprog/create-null
+pass tests/userprog/create-bad-ptr
+pass tests/userprog/create-long
+pass tests/userprog/create-exists
+pass tests/userprog/create-bound
+pass tests/userprog/open-normal
+pass tests/userprog/open-missing
+pass tests/userprog/open-boundary
+pass tests/userprog/open-empty
+pass tests/userprog/open-null
+pass tests/userprog/open-bad-ptr
+pass tests/userprog/open-twice
+pass tests/userprog/close-normal
+pass tests/userprog/close-twice
+pass tests/userprog/close-stdin
+pass tests/userprog/close-stdout
+pass tests/userprog/close-bad-fd
+pass tests/userprog/read-normal
+pass tests/userprog/read-bad-ptr
+pass tests/userprog/read-boundary
+pass tests/userprog/read-zero
+pass tests/userprog/read-stdout
+pass tests/userprog/read-bad-fd
+pass tests/userprog/write-normal
+pass tests/userprog/write-bad-ptr
+pass tests/userprog/write-boundary
+pass tests/userprog/write-zero
+pass tests/userprog/write-stdin
+pass tests/userprog/write-bad-fd
+pass tests/userprog/exec-once
+pass tests/userprog/exec-arg
+pass tests/userprog/exec-bound
+pass tests/userprog/exec-bound-2
+pass tests/userprog/exec-bound-3
+pass tests/userprog/exec-multiple
+pass tests/userprog/exec-missing
+pass tests/userprog/exec-bad-ptr
+pass tests/userprog/wait-simple
+pass tests/userprog/wait-twice
+pass tests/userprog/wait-killed
+pass tests/userprog/wait-bad-pid
+pass tests/userprog/multi-recurse
+pass tests/userprog/multi-child-fd
+pass tests/userprog/rox-simple
+pass tests/userprog/rox-child
+pass tests/userprog/rox-multichild
+pass tests/userprog/bad-read
+pass tests/userprog/bad-write
+pass tests/userprog/bad-read2
+pass tests/userprog/bad-write2
+pass tests/userprog/bad-jump
+pass tests/userprog/bad-jump2
+pass tests/userprog/sl-bad-target
+pass tests/userprog/sl-check
+pass tests/userprog/sl-remove
+pass tests/userprog/sl-read
+pass tests/filesys/base/lg-create
+pass tests/filesys/base/lg-full
+pass tests/filesys/base/lg-random
+pass tests/filesys/base/lg-seq-block
+pass tests/filesys/base/lg-seq-random
+pass tests/filesys/base/sm-create
+pass tests/filesys/base/sm-full
+pass tests/filesys/base/sm-random
+pass tests/filesys/base/sm-seq-block
+pass tests/filesys/base/sm-seq-random
+pass tests/filesys/base/syn-read
+pass tests/filesys/base/syn-remove
+pass tests/filesys/base/syn-write
+FAIL tests/filesys/extended/dir-empty-name
+FAIL tests/filesys/extended/dir-mk-tree
+FAIL tests/filesys/extended/dir-mkdir
+FAIL tests/filesys/extended/dir-open
+FAIL tests/filesys/extended/dir-over-file
+FAIL tests/filesys/extended/dir-rm-cwd
+pass tests/filesys/extended/dir-rm-parent
+pass tests/filesys/extended/dir-rm-root
+FAIL tests/filesys/extended/dir-rm-tree
+FAIL tests/filesys/extended/dir-rmdir
+FAIL tests/filesys/extended/dir-under-file
+FAIL tests/filesys/extended/dir-vine
+pass tests/filesys/extended/grow-create
+FAIL tests/filesys/extended/grow-dir-lg
+FAIL tests/filesys/extended/grow-file-size
+FAIL tests/filesys/extended/grow-root-lg
+FAIL tests/filesys/extended/grow-root-sm
+FAIL tests/filesys/extended/grow-seq-lg
+FAIL tests/filesys/extended/grow-seq-sm
+FAIL tests/filesys/extended/grow-sparse
+FAIL tests/filesys/extended/grow-tell
+FAIL tests/filesys/extended/grow-two-files
+FAIL tests/filesys/extended/syn-rw
+FAIL tests/filesys/extended/check-stat
+FAIL tests/filesys/extended/check-sparse
+FAIL tests/filesys/extended/dir-empty-name-persistence
+FAIL tests/filesys/extended/dir-mk-tree-persistence
+FAIL tests/filesys/extended/dir-mkdir-persistence
+FAIL tests/filesys/extended/dir-open-persistence
+FAIL tests/filesys/extended/dir-over-file-persistence
+FAIL tests/filesys/extended/dir-rm-cwd-persistence
+FAIL tests/filesys/extended/dir-rm-parent-persistence
+FAIL tests/filesys/extended/dir-rm-root-persistence
+FAIL tests/filesys/extended/dir-rm-tree-persistence
+FAIL tests/filesys/extended/dir-rmdir-persistence
+FAIL tests/filesys/extended/dir-under-file-persistence
+FAIL tests/filesys/extended/dir-vine-persistence
+FAIL tests/filesys/extended/grow-create-persistence
+FAIL tests/filesys/extended/grow-dir-lg-persistence
+FAIL tests/filesys/extended/grow-file-size-persistence
+FAIL tests/filesys/extended/grow-root-lg-persistence
+FAIL tests/filesys/extended/grow-root-sm-persistence
+FAIL tests/filesys/extended/grow-seq-lg-persistence
+FAIL tests/filesys/extended/grow-seq-sm-persistence
+FAIL tests/filesys/extended/grow-sparse-persistence
+FAIL tests/filesys/extended/grow-tell-persistence
+FAIL tests/filesys/extended/grow-two-files-persistence
+FAIL tests/filesys/extended/syn-rw-persistence
Binary files aos_pintos/src/filesys/build/tests/filesys/base/child-syn-read and pintos-solution/src/filesys/build/tests/filesys/base/child-syn-read differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/child-syn-read.d pintos-solution/src/filesys/build/tests/filesys/base/child-syn-read.d
--- aos_pintos/src/filesys/build/tests/filesys/base/child-syn-read.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/child-syn-read.d	2024-05-04 15:17:02.232000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/base/child-syn-read.o: \
+ ../../tests/filesys/base/child-syn-read.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/stdlib.h ../../lib/user/syscall.h \
+ ../../tests/lib.h ../../tests/filesys/base/syn-read.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/child-syn-read.o and pintos-solution/src/filesys/build/tests/filesys/base/child-syn-read.o differ
Binary files aos_pintos/src/filesys/build/tests/filesys/base/child-syn-wrt and pintos-solution/src/filesys/build/tests/filesys/base/child-syn-wrt differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/child-syn-wrt.d pintos-solution/src/filesys/build/tests/filesys/base/child-syn-wrt.d
--- aos_pintos/src/filesys/build/tests/filesys/base/child-syn-wrt.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/child-syn-wrt.d	2024-05-04 15:17:02.268000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/base/child-syn-wrt.o: \
+ ../../tests/filesys/base/child-syn-wrt.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdlib.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../tests/filesys/base/syn-write.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/child-syn-wrt.o and pintos-solution/src/filesys/build/tests/filesys/base/child-syn-wrt.o differ
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-create and pintos-solution/src/filesys/build/tests/filesys/base/lg-create differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-create.d pintos-solution/src/filesys/build/tests/filesys/base/lg-create.d
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-create.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-create.d	2024-05-04 15:17:01.752000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/lg-create.o: ../../tests/filesys/base/lg-create.c \
+ ../../tests/filesys/create.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-create.o and pintos-solution/src/filesys/build/tests/filesys/base/lg-create.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-create.output pintos-solution/src/filesys/build/tests/filesys/base/lg-create.output
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-create.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-create.output	2024-05-04 15:18:12.892000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/base/lg-create to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/IUy62HBk0L.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run lg-create
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  425,164,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'lg-create' into the file system...
+Erasing ustar archive...
+Executing 'lg-create':
+(lg-create) begin
+(lg-create) create "blargle"
+(lg-create) open "blargle" for verification
+(lg-create) verified contents of "blargle"
+(lg-create) close "blargle"
+(lg-create) end
+lg-create: exit(0)
+Execution of 'lg-create' complete.
+Timer: 72 ticks
+Thread: 8 idle ticks, 61 kernel ticks, 4 user ticks
+hda2 (filesys): 239 reads, 444 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1031 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-create.result pintos-solution/src/filesys/build/tests/filesys/base/lg-create.result
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-create.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-create.result	2024-05-04 15:18:12.928000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-full and pintos-solution/src/filesys/build/tests/filesys/base/lg-full differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-full.d pintos-solution/src/filesys/build/tests/filesys/base/lg-full.d
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-full.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-full.d	2024-05-04 15:17:01.812000000 +0000
@@ -0,0 +1,3 @@
+tests/filesys/base/lg-full.o: ../../tests/filesys/base/lg-full.c \
+ ../../tests/filesys/base/full.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-full.o and pintos-solution/src/filesys/build/tests/filesys/base/lg-full.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-full.output pintos-solution/src/filesys/build/tests/filesys/base/lg-full.output
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-full.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-full.output	2024-05-04 15:18:13.808000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/lg-full to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/YGH8VMxckV.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run lg-full
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  400,998,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'lg-full' into the file system...
+Erasing ustar archive...
+Executing 'lg-full':
+(lg-full) begin
+(lg-full) create "quux"
+(lg-full) open "quux"
+(lg-full) writing "quux"
+(lg-full) close "quux"
+(lg-full) open "quux" for verification
+(lg-full) verified contents of "quux"
+(lg-full) close "quux"
+(lg-full) end
+lg-full: exit(0)
+Execution of 'lg-full' complete.
+Timer: 71 ticks
+Thread: 11 idle ticks, 58 kernel ticks, 2 user ticks
+hda2 (filesys): 244 reads, 592 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1068 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-full.result pintos-solution/src/filesys/build/tests/filesys/base/lg-full.result
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-full.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-full.result	2024-05-04 15:18:13.840000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-random and pintos-solution/src/filesys/build/tests/filesys/base/lg-random differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-random.d pintos-solution/src/filesys/build/tests/filesys/base/lg-random.d
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-random.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-random.d	2024-05-04 15:17:01.852000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/base/lg-random.o: ../../tests/filesys/base/lg-random.c \
+ ../../tests/filesys/base/random.inc ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/string.h ../../lib/user/syscall.h \
+ ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-random.o and pintos-solution/src/filesys/build/tests/filesys/base/lg-random.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-random.output pintos-solution/src/filesys/build/tests/filesys/base/lg-random.output
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-random.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-random.output	2024-05-04 15:18:14.784000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/base/lg-random to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/JRb3SyC3iF.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run lg-random
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  526,745,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 148 sectors (74 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'lg-random' into the file system...
+Erasing ustar archive...
+Executing 'lg-random':
+(lg-random) begin
+(lg-random) create "bazzle"
+(lg-random) open "bazzle"
+(lg-random) write "bazzle" in random order
+(lg-random) read "bazzle" in random order
+(lg-random) close "bazzle"
+(lg-random) end
+lg-random: exit(0)
+Execution of 'lg-random' complete.
+Timer: 78 ticks
+Thread: 12 idle ticks, 64 kernel ticks, 2 user ticks
+hda2 (filesys): 236 reads, 604 writes
+hda3 (scratch): 147 reads, 2 writes
+Console: 1054 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-random.result pintos-solution/src/filesys/build/tests/filesys/base/lg-random.result
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-random.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-random.result	2024-05-04 15:18:14.816000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block and pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.d pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.d
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.d	2024-05-04 15:17:01.884000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/lg-seq-block.o: \
+ ../../tests/filesys/base/lg-seq-block.c \
+ ../../tests/filesys/base/seq-block.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.o and pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.output pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.output
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.output	2024-05-04 15:18:15.748000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/lg-seq-block to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/ekwPZUv0Ho.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run lg-seq-block
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'lg-seq-block' into the file system...
+Erasing ustar archive...
+Executing 'lg-seq-block':
+(lg-seq-block) begin
+(lg-seq-block) create "noodle"
+(lg-seq-block) open "noodle"
+(lg-seq-block) writing "noodle"
+(lg-seq-block) close "noodle"
+(lg-seq-block) open "noodle" for verification
+(lg-seq-block) verified contents of "noodle"
+(lg-seq-block) close "noodle"
+(lg-seq-block) end
+lg-seq-block: exit(0)
+Execution of 'lg-seq-block' complete.
+Timer: 76 ticks
+Thread: 16 idle ticks, 56 kernel ticks, 4 user ticks
+hda2 (filesys): 537 reads, 739 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1152 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.result pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.result
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-block.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-block.result	2024-05-04 15:18:15.784000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random and pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.d pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.d
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.d	2024-05-04 15:17:01.916000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/lg-seq-random.o: \
+ ../../tests/filesys/base/lg-seq-random.c \
+ ../../tests/filesys/base/seq-random.inc ../../lib/random.h \
+ ../../lib/stddef.h ../../tests/filesys/seq-test.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.o and pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.output pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.output
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.output	2024-05-04 15:18:16.776000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/lg-seq-random to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/w1VLJyQ3vU.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run lg-seq-random
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  479,232,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'lg-seq-random' into the file system...
+Erasing ustar archive...
+Executing 'lg-seq-random':
+(lg-seq-random) begin
+(lg-seq-random) create "nibble"
+(lg-seq-random) open "nibble"
+(lg-seq-random) writing "nibble"
+(lg-seq-random) close "nibble"
+(lg-seq-random) open "nibble" for verification
+(lg-seq-random) verified contents of "nibble"
+(lg-seq-random) close "nibble"
+(lg-seq-random) end
+lg-seq-random: exit(0)
+Execution of 'lg-seq-random' complete.
+Timer: 83 ticks
+Thread: 16 idle ticks, 61 kernel ticks, 6 user ticks
+hda2 (filesys): 493 reads, 737 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1166 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.result pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.result
--- aos_pintos/src/filesys/build/tests/filesys/base/lg-seq-random.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/lg-seq-random.result	2024-05-04 15:18:16.812000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-create and pintos-solution/src/filesys/build/tests/filesys/base/sm-create differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-create.d pintos-solution/src/filesys/build/tests/filesys/base/sm-create.d
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-create.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-create.d	2024-05-04 15:17:01.948000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/sm-create.o: ../../tests/filesys/base/sm-create.c \
+ ../../tests/filesys/create.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-create.o and pintos-solution/src/filesys/build/tests/filesys/base/sm-create.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-create.output pintos-solution/src/filesys/build/tests/filesys/base/sm-create.output
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-create.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-create.output	2024-05-04 15:18:17.668000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/base/sm-create to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/DqwDO_MfMj.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sm-create
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  455,475,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sm-create' into the file system...
+Erasing ustar archive...
+Executing 'sm-create':
+(sm-create) begin
+(sm-create) create "blargle"
+(sm-create) open "blargle" for verification
+(sm-create) verified contents of "blargle"
+(sm-create) close "blargle"
+(sm-create) end
+sm-create: exit(0)
+Execution of 'sm-create' complete.
+Timer: 69 ticks
+Thread: 8 idle ticks, 59 kernel ticks, 2 user ticks
+hda2 (filesys): 103 reads, 308 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1031 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-create.result pintos-solution/src/filesys/build/tests/filesys/base/sm-create.result
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-create.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-create.result	2024-05-04 15:18:17.700000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-full and pintos-solution/src/filesys/build/tests/filesys/base/sm-full differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-full.d pintos-solution/src/filesys/build/tests/filesys/base/sm-full.d
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-full.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-full.d	2024-05-04 15:17:01.980000000 +0000
@@ -0,0 +1,3 @@
+tests/filesys/base/sm-full.o: ../../tests/filesys/base/sm-full.c \
+ ../../tests/filesys/base/full.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-full.o and pintos-solution/src/filesys/build/tests/filesys/base/sm-full.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-full.output pintos-solution/src/filesys/build/tests/filesys/base/sm-full.output
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-full.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-full.output	2024-05-04 15:18:18.512000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/sm-full to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/59hJ8nPklZ.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sm-full
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  416,972,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sm-full' into the file system...
+Erasing ustar archive...
+Executing 'sm-full':
+(sm-full) begin
+(sm-full) create "quux"
+(sm-full) open "quux"
+(sm-full) writing "quux"
+(sm-full) close "quux"
+(sm-full) open "quux" for verification
+(sm-full) verified contents of "quux"
+(sm-full) close "quux"
+(sm-full) end
+sm-full: exit(0)
+Execution of 'sm-full' complete.
+Timer: 65 ticks
+Thread: 6 idle ticks, 56 kernel ticks, 3 user ticks
+hda2 (filesys): 108 reads, 320 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1067 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-full.result pintos-solution/src/filesys/build/tests/filesys/base/sm-full.result
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-full.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-full.result	2024-05-04 15:18:18.548000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-random and pintos-solution/src/filesys/build/tests/filesys/base/sm-random differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-random.d pintos-solution/src/filesys/build/tests/filesys/base/sm-random.d
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-random.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-random.d	2024-05-04 15:17:02.020000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/base/sm-random.o: ../../tests/filesys/base/sm-random.c \
+ ../../tests/filesys/base/random.inc ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/string.h ../../lib/user/syscall.h \
+ ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-random.o and pintos-solution/src/filesys/build/tests/filesys/base/sm-random.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-random.output pintos-solution/src/filesys/build/tests/filesys/base/sm-random.output
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-random.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-random.output	2024-05-04 15:18:19.476000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/base/sm-random to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/07cKgdxRB6.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sm-random
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  484,147,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 148 sectors (74 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sm-random' into the file system...
+Erasing ustar archive...
+Executing 'sm-random':
+(sm-random) begin
+(sm-random) create "bazzle"
+(sm-random) open "bazzle"
+(sm-random) write "bazzle" in random order
+(sm-random) read "bazzle" in random order
+(sm-random) close "bazzle"
+(sm-random) end
+sm-random: exit(0)
+Execution of 'sm-random' complete.
+Timer: 77 ticks
+Thread: 10 idle ticks, 64 kernel ticks, 3 user ticks
+hda2 (filesys): 337 reads, 434 writes
+hda3 (scratch): 147 reads, 2 writes
+Console: 1054 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-random.result pintos-solution/src/filesys/build/tests/filesys/base/sm-random.result
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-random.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-random.result	2024-05-04 15:18:19.512000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block and pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.d pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.d
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.d	2024-05-04 15:17:02.052000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/sm-seq-block.o: \
+ ../../tests/filesys/base/sm-seq-block.c \
+ ../../tests/filesys/base/seq-block.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.o and pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.output pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.output
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.output	2024-05-04 15:18:20.380000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/sm-seq-block to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/HEcwRkrN6Z.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sm-seq-block
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  512,819,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sm-seq-block' into the file system...
+Erasing ustar archive...
+Executing 'sm-seq-block':
+(sm-seq-block) begin
+(sm-seq-block) create "noodle"
+(sm-seq-block) open "noodle"
+(sm-seq-block) writing "noodle"
+(sm-seq-block) close "noodle"
+(sm-seq-block) open "noodle" for verification
+(sm-seq-block) verified contents of "noodle"
+(sm-seq-block) close "noodle"
+(sm-seq-block) end
+sm-seq-block: exit(0)
+Execution of 'sm-seq-block' complete.
+Timer: 70 ticks
+Thread: 7 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 129 reads, 331 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1151 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.result pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.result
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-block.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-block.result	2024-05-04 15:18:20.412000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random and pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.d pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.d
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.d	2024-05-04 15:17:02.088000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/sm-seq-random.o: \
+ ../../tests/filesys/base/sm-seq-random.c \
+ ../../tests/filesys/base/seq-random.inc ../../lib/random.h \
+ ../../lib/stddef.h ../../tests/filesys/seq-test.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.o and pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.output pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.output
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.output	2024-05-04 15:18:21.284000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/sm-seq-random to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/ML1bzhNUTd.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sm-seq-random
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  557,056,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sm-seq-random' into the file system...
+Erasing ustar archive...
+Executing 'sm-seq-random':
+(sm-seq-random) begin
+(sm-seq-random) create "nibble"
+(sm-seq-random) open "nibble"
+(sm-seq-random) writing "nibble"
+(sm-seq-random) close "nibble"
+(sm-seq-random) open "nibble" for verification
+(sm-seq-random) verified contents of "nibble"
+(sm-seq-random) close "nibble"
+(sm-seq-random) end
+sm-seq-random: exit(0)
+Execution of 'sm-seq-random' complete.
+Timer: 71 ticks
+Thread: 5 idle ticks, 64 kernel ticks, 2 user ticks
+hda2 (filesys): 123 reads, 328 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 1165 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.result pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.result
--- aos_pintos/src/filesys/build/tests/filesys/base/sm-seq-random.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/sm-seq-random.result	2024-05-04 15:18:21.320000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-read and pintos-solution/src/filesys/build/tests/filesys/base/syn-read differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-read.d pintos-solution/src/filesys/build/tests/filesys/base/syn-read.d
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-read.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-read.d	2024-05-04 15:17:02.124000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/base/syn-read.o: ../../tests/filesys/base/syn-read.c \
+ ../../lib/random.h ../../lib/stddef.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/stdbool.h \
+ ../../lib/stdint.h ../../lib/user/stdio.h ../../lib/user/syscall.h \
+ ../../tests/lib.h ../../tests/main.h ../../tests/filesys/base/syn-read.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-read.o and pintos-solution/src/filesys/build/tests/filesys/base/syn-read.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-read.output pintos-solution/src/filesys/build/tests/filesys/base/syn-read.output
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-read.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-read.output	2024-05-04 15:18:24.280000000 +0000
@@ -0,0 +1,69 @@
+Copying tests/filesys/base/syn-read to scratch partition...
+Copying tests/filesys/base/child-syn-read to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/XzPeK8ACGR.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run syn-read
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  466,124,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 301 sectors (150 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'syn-read' into the file system...
+Putting 'child-syn-read' into the file system...
+Erasing ustar archive...
+Executing 'syn-read':
+(syn-read) begin
+(syn-read) create "data"
+(syn-read) open "data"
+(syn-read) write "data"
+(syn-read) close "data"
+(syn-read) exec child 1 of 10: "child-syn-read 0"
+(syn-read) exec child 2 of 10: "child-syn-read 1"
+child-syn-read: exit(0)
+(syn-read) exec child 3 of 10: "child-syn-read 2"
+child-syn-read: exit(1)
+(syn-read) exec child 4 of 10: "child-syn-read 3"
+child-syn-read: exit(2)
+(syn-read) exec child 5 of 10: "child-syn-read 4"
+child-syn-read: exit(3)
+(syn-read) exec child 6 of 10: "child-syn-read 5"
+child-syn-read: exit(4)
+(syn-read) exec child 7 of 10: "child-syn-read 6"
+child-syn-read: exit(5)
+(syn-read) exec child 8 of 10: "child-syn-read 7"
+child-syn-read: exit(6)
+(syn-read) exec child 9 of 10: "child-syn-read 8"
+child-syn-read: exit(7)
+(syn-read) exec child 10 of 10: "child-syn-read 9"
+child-syn-read: exit(8)
+(syn-read) wait for child 1 of 10 returned 0 (expected 0)
+(syn-read) wait for child 2 of 10 returned 1 (expected 1)
+(syn-read) wait for child 3 of 10 returned 2 (expected 2)
+(syn-read) wait for child 4 of 10 returned 3 (expected 3)
+(syn-read) wait for child 5 of 10 returned 4 (expected 4)
+(syn-read) wait for child 6 of 10 returned 5 (expected 5)
+(syn-read) wait for child 7 of 10 returned 6 (expected 6)
+(syn-read) wait for child 8 of 10 returned 7 (expected 7)
+(syn-read) wait for child 9 of 10 returned 8 (expected 8)
+child-syn-read: exit(9)
+(syn-read) wait for child 10 of 10 returned 9 (expected 9)
+(syn-read) end
+syn-read: exit(0)
+Execution of 'syn-read' complete.
+Timer: 279 ticks
+Thread: 150 idle ticks, 64 kernel ticks, 66 user ticks
+hda2 (filesys): 10783 reads, 616 writes
+hda3 (scratch): 300 reads, 2 writes
+Console: 2354 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-read.result pintos-solution/src/filesys/build/tests/filesys/base/syn-read.result
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-read.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-read.result	2024-05-04 15:18:24.328000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-remove and pintos-solution/src/filesys/build/tests/filesys/base/syn-remove differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.d pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.d
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.d	2024-05-04 15:17:02.160000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/base/syn-remove.o: ../../tests/filesys/base/syn-remove.c \
+ ../../lib/random.h ../../lib/stddef.h ../../lib/string.h \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.o and pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.output pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.output
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.output	2024-05-04 15:18:25.156000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/base/syn-remove to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/1fq5INfP65.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run syn-remove
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  364,134,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 146 sectors (73 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'syn-remove' into the file system...
+Erasing ustar archive...
+Executing 'syn-remove':
+(syn-remove) begin
+(syn-remove) create "deleteme"
+(syn-remove) open "deleteme"
+(syn-remove) remove "deleteme"
+(syn-remove) write "deleteme"
+(syn-remove) seek "deleteme" to 0
+(syn-remove) read "deleteme"
+(syn-remove) close "deleteme"
+(syn-remove) end
+syn-remove: exit(0)
+Execution of 'syn-remove' complete.
+Timer: 65 ticks
+Thread: 8 idle ticks, 55 kernel ticks, 2 user ticks
+hda2 (filesys): 93 reads, 309 writes
+hda3 (scratch): 145 reads, 2 writes
+Console: 1107 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.result pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.result
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-remove.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-remove.result	2024-05-04 15:18:25.188000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-write and pintos-solution/src/filesys/build/tests/filesys/base/syn-write differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-write.d pintos-solution/src/filesys/build/tests/filesys/base/syn-write.d
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-write.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-write.d	2024-05-04 15:17:02.196000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/base/syn-write.o: ../../tests/filesys/base/syn-write.c \
+ ../../lib/random.h ../../lib/stddef.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/stdbool.h \
+ ../../lib/stdint.h ../../lib/user/stdio.h ../../lib/string.h \
+ ../../lib/user/syscall.h ../../tests/filesys/base/syn-write.h \
+ ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/base/syn-write.o and pintos-solution/src/filesys/build/tests/filesys/base/syn-write.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-write.output pintos-solution/src/filesys/build/tests/filesys/base/syn-write.output
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-write.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-write.output	2024-05-04 15:18:26.260000000 +0000
@@ -0,0 +1,68 @@
+Copying tests/filesys/base/syn-write to scratch partition...
+Copying tests/filesys/base/child-syn-wrt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/hwezYaXaHf.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run syn-write
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  498,073,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 301 sectors (150 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'syn-write' into the file system...
+Putting 'child-syn-wrt' into the file system...
+Erasing ustar archive...
+Executing 'syn-write':
+(syn-write) begin
+(syn-write) create "stuff"
+(syn-write) exec child 1 of 10: "child-syn-wrt 0"
+(syn-write) exec child 2 of 10: "child-syn-wrt 1"
+child-syn-wrt: exit(0)
+(syn-write) exec child 3 of 10: "child-syn-wrt 2"
+child-syn-wrt: exit(1)
+(syn-write) exec child 4 of 10: "child-syn-wrt 3"
+child-syn-wrt: exit(2)
+(syn-write) exec child 5 of 10: "child-syn-wrt 4"
+child-syn-wrt: exit(3)
+(syn-write) exec child 6 of 10: "child-syn-wrt 5"
+child-syn-wrt: exit(4)
+(syn-write) exec child 7 of 10: "child-syn-wrt 6"
+child-syn-wrt: exit(5)
+(syn-write) exec child 8 of 10: "child-syn-wrt 7"
+child-syn-wrt: exit(6)
+(syn-write) exec child 9 of 10: "child-syn-wrt 8"
+child-syn-wrt: exit(7)
+(syn-write) exec child 10 of 10: "child-syn-wrt 9"
+child-syn-wrt: exit(8)
+(syn-write) wait for child 1 of 10 returned 0 (expected 0)
+(syn-write) wait for child 2 of 10 returned 1 (expected 1)
+(syn-write) wait for child 3 of 10 returned 2 (expected 2)
+(syn-write) wait for child 4 of 10 returned 3 (expected 3)
+(syn-write) wait for child 5 of 10 returned 4 (expected 4)
+(syn-write) wait for child 6 of 10 returned 5 (expected 5)
+(syn-write) wait for child 7 of 10 returned 6 (expected 6)
+(syn-write) wait for child 8 of 10 returned 7 (expected 7)
+(syn-write) wait for child 9 of 10 returned 8 (expected 8)
+child-syn-wrt: exit(9)
+(syn-write) wait for child 10 of 10 returned 9 (expected 9)
+(syn-write) open "stuff"
+(syn-write) read "stuff"
+(syn-write) end
+syn-write: exit(0)
+Execution of 'syn-write' complete.
+Timer: 90 ticks
+Thread: 14 idle ticks, 65 kernel ticks, 12 user ticks
+hda2 (filesys): 553 reads, 632 writes
+hda3 (scratch): 300 reads, 2 writes
+Console: 2337 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/base/syn-write.result pintos-solution/src/filesys/build/tests/filesys/base/syn-write.result
--- aos_pintos/src/filesys/build/tests/filesys/base/syn-write.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/base/syn-write.result	2024-05-04 15:18:26.292000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse and pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse-persistence.output	2024-05-04 15:19:17.400000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/RxO0nsrkHS.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  642,252,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 64 ticks
+Thread: 3 idle ticks, 60 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/check-sparse.tar out of /tmp/RxO0nsrkHS.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.d pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.d	2024-05-04 15:17:03.196000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/extended/check-sparse.o: \
+ ../../tests/filesys/extended/check-sparse.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.o and pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.output pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.output	2024-05-04 15:19:16.592000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/check-sparse to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Kon3U57hF2.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run check-sparse
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  472,678,400 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 315 sectors (157 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'check-sparse' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'check-sparse':
+(check-sparse) begin
+(check-sparse) create "yoit"
+(check-sparse) open "yoit"
+(check-sparse) return 0 from stat() call on "yoit"
+(check-sparse) return 0 from stat() call on "yoit": FAILED
+check-sparse: exit(1)
+Execution of 'check-sparse' complete.
+Timer: 78 ticks
+Thread: 10 idle ticks, 66 kernel ticks, 2 user ticks
+hdb1 (filesys): 113 reads, 641 writes
+hda2 (scratch): 314 reads, 2 writes
+Console: 1164 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.result pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-sparse.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-sparse.result	2024-05-04 15:19:17.432000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: return 0 from stat() call on "yoit": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/check-stat and pintos-solution/src/filesys/build/tests/filesys/extended/check-stat differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-stat-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/check-stat-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-stat-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-stat-persistence.output	2024-05-04 15:19:15.588000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/M6hrI9azRV.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  462,028,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 62 ticks
+Thread: 2 idle ticks, 59 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/check-stat.tar out of /tmp/M6hrI9azRV.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.d pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.d	2024-05-04 15:17:03.160000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/extended/check-stat.o: \
+ ../../tests/filesys/extended/check-stat.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.o and pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.output pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.output	2024-05-04 15:19:14.792000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/check-stat to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/AvtOXOjGHV.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run check-stat
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  471,040,000 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 313 sectors (156 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'check-stat' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'check-stat':
+(check-stat) begin
+(check-stat) create "yoit"
+(check-stat) open "yoit"
+(check-stat) return 0 from stat() call on "yoit"
+(check-stat) return 0 from stat() call on "yoit": FAILED
+check-stat: exit(1)
+Execution of 'check-stat' complete.
+Timer: 74 ticks
+Thread: 13 idle ticks, 60 kernel ticks, 2 user ticks
+hdb1 (filesys): 112 reads, 637 writes
+hda2 (scratch): 312 reads, 2 writes
+Console: 1144 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.result pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/check-stat.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/check-stat.result	2024-05-04 15:19:15.620000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: return 0 from stat() call on "yoit": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/child-syn-rw and pintos-solution/src/filesys/build/tests/filesys/extended/child-syn-rw differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/child-syn-rw.d pintos-solution/src/filesys/build/tests/filesys/extended/child-syn-rw.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/child-syn-rw.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/child-syn-rw.d	2024-05-04 15:17:03.236000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/extended/child-syn-rw.o: \
+ ../../tests/filesys/extended/child-syn-rw.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/stdlib.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/filesys/extended/syn-rw.h ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/child-syn-rw.o and pintos-solution/src/filesys/build/tests/filesys/extended/child-syn-rw.o differ
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name and pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.output	2024-05-04 15:18:27.948000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Ey0rdDTTsa.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 55 ticks
+Thread: 1 idle ticks, 52 kernel ticks, 2 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-empty-name.tar out of /tmp/Ey0rdDTTsa.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name-persistence.result	2024-05-04 15:19:17.464000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-empty-name failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.d	2024-05-04 15:17:02.300000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-empty-name.o: \
+ ../../tests/filesys/extended/dir-empty-name.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.output	2024-05-04 15:18:27.228000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/extended/dir-empty-name to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/CxTnDAnYUj.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-empty-name
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  457,932,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-empty-name' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-empty-name':
+(dir-empty-name) begin
+(dir-empty-name) mkdir "" (must return false)
+(dir-empty-name) mkdir "" (must return false): FAILED
+dir-empty-name: exit(1)
+Execution of 'dir-empty-name' complete.
+Timer: 74 ticks
+Thread: 11 idle ticks, 62 kernel ticks, 1 user ticks
+hdb1 (filesys): 92 reads, 626 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1109 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-empty-name.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-empty-name.result	2024-05-04 15:18:27.980000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: mkdir "" (must return false): FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree and pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.errors pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.errors
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.errors	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.errors	2024-05-04 15:18:29.820000000 +0000
@@ -0,0 +1 @@
+getting tests/filesys/extended/dir-mk-tree.tar failed (scratch disk tar archive ends unexpectedly)
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.output	2024-05-04 15:18:29.820000000 +0000
@@ -0,0 +1,35 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/vOl6odyR4k.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  474,316,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+fs.tar: create failed
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Kernel PANIC at ../../filesys/fsutil.c:182 in fsutil_append(): fs.tar: open failed
+Call stack: 0xc0029ab2 0xc0030b21 0xc00203ea 0xc0020b4e.
+The `backtrace' program can make call stacks useful.
+Read "Backtraces" in the "Debugging Tools" chapter
+of the Pintos documentation for more information.
+Timer: 64 ticks
+Thread: 1 idle ticks, 62 kernel ticks, 1 user ticks
+hdb1 (filesys): 100 reads, 4 writes
+hda2 (scratch): 0 reads, 0 writes
+Console: 1133 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-mk-tree.tar out of /tmp/vOl6odyR4k.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree-persistence.result	2024-05-04 15:19:17.496000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-mk-tree failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.d	2024-05-04 15:17:02.332000000 +0000
@@ -0,0 +1,3 @@
+tests/filesys/extended/dir-mk-tree.o: \
+ ../../tests/filesys/extended/dir-mk-tree.c \
+ ../../tests/filesys/extended/mk-tree.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.output	2024-05-04 15:18:29.008000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/extended/dir-mk-tree to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/gmVUMdBjJA.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-mk-tree
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  484,966,400 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 316 sectors (158 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-mk-tree' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-mk-tree':
+(dir-mk-tree) begin
+(dir-mk-tree) creating /0/0/0/0 through /3/2/2/3...
+(dir-mk-tree) create "/0/1/0/2": FAILED
+dir-mk-tree: exit(1)
+Execution of 'dir-mk-tree' complete.
+Timer: 83 ticks
+Thread: 19 idle ticks, 62 kernel ticks, 3 user ticks
+hdb1 (filesys): 506 reads, 698 writes
+hda2 (scratch): 315 reads, 2 writes
+Console: 1084 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mk-tree.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mk-tree.result	2024-05-04 15:18:29.860000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "/0/1/0/2": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir and pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.output	2024-05-04 15:18:31.640000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/nXDfYDGx1Y.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  475,136,000 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 63 ticks
+Thread: 1 idle ticks, 60 kernel ticks, 2 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-mkdir.tar out of /tmp/nXDfYDGx1Y.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir-persistence.result	2024-05-04 15:19:17.528000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-mkdir failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.d	2024-05-04 15:17:02.400000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-mkdir.o: \
+ ../../tests/filesys/extended/dir-mkdir.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.output	2024-05-04 15:18:30.836000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/extended/dir-mkdir to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/XciZqSpjBf.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-mkdir
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  471,859,200 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-mkdir' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-mkdir':
+(dir-mkdir) begin
+(dir-mkdir) mkdir "a"
+(dir-mkdir) create "a/b"
+(dir-mkdir) chdir "a"
+(dir-mkdir) open "b"
+(dir-mkdir) open "b": FAILED
+dir-mkdir: exit(1)
+Execution of 'dir-mkdir' complete.
+Timer: 79 ticks
+Thread: 14 idle ticks, 65 kernel ticks, 0 user ticks
+hdb1 (filesys): 130 reads, 631 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1099 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-mkdir.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-mkdir.result	2024-05-04 15:18:31.672000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: open "b": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-open and pintos-solution/src/filesys/build/tests/filesys/extended/dir-open differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-open-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-open-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-open-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-open-persistence.output	2024-05-04 15:18:33.372000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/uUKWEMuSNE.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  467,763,200 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 60 ticks
+Thread: 1 idle ticks, 58 kernel ticks, 1 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-open.tar out of /tmp/uUKWEMuSNE.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-open-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-open-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-open-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-open-persistence.result	2024-05-04 15:19:17.560000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-open failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.d	2024-05-04 15:17:02.432000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-open.o: \
+ ../../tests/filesys/extended/dir-open.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.output	2024-05-04 15:18:32.600000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/extended/dir-open to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/6W3b7byZcF.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-open
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  470,220,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-open' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-open':
+(dir-open) begin
+(dir-open) mkdir "xyzzy"
+(dir-open) open "xyzzy"
+(dir-open) open "xyzzy": FAILED
+dir-open: exit(1)
+Execution of 'dir-open' complete.
+Timer: 74 ticks
+Thread: 12 idle ticks, 61 kernel ticks, 1 user ticks
+hdb1 (filesys): 110 reads, 628 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1055 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-open.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-open.result	2024-05-04 15:18:33.400000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: open "xyzzy": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file and pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.output	2024-05-04 15:18:35.160000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/BFeQPbgnzb.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  484,966,400 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 64 ticks
+Thread: 2 idle ticks, 61 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-over-file.tar out of /tmp/BFeQPbgnzb.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file-persistence.result	2024-05-04 15:19:17.592000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-over-file failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.d	2024-05-04 15:17:02.468000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-over-file.o: \
+ ../../tests/filesys/extended/dir-over-file.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.output	2024-05-04 15:18:34.336000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/extended/dir-over-file to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/sYMNX_8kYm.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-over-file
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  417,382,400 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-over-file' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-over-file':
+(dir-over-file) begin
+(dir-over-file) mkdir "abc"
+(dir-over-file) create "abc" (must return false)
+(dir-over-file) create "abc" (must return false): FAILED
+dir-over-file: exit(1)
+Execution of 'dir-over-file' complete.
+Timer: 73 ticks
+Thread: 17 idle ticks, 56 kernel ticks, 0 user ticks
+hdb1 (filesys): 113 reads, 630 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1138 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-over-file.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-over-file.result	2024-05-04 15:18:35.196000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "abc" (must return false): FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.output	2024-05-04 15:18:36.932000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/I3iTu3Font.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  453,836,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 62 ticks
+Thread: 1 idle ticks, 59 kernel ticks, 2 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-rm-cwd.tar out of /tmp/I3iTu3Font.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd-persistence.result	2024-05-04 15:19:17.624000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-rm-cwd failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.d	2024-05-04 15:17:02.512000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-rm-cwd.o: \
+ ../../tests/filesys/extended/dir-rm-cwd.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.output	2024-05-04 15:18:36.144000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/extended/dir-rm-cwd to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/OmRewccY0A.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-rm-cwd
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  475,955,200 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 318 sectors (159 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-rm-cwd' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-rm-cwd':
+(dir-rm-cwd) begin
+(dir-rm-cwd) open "/"
+(dir-rm-cwd) open "/": FAILED
+dir-rm-cwd: exit(1)
+Execution of 'dir-rm-cwd' complete.
+Timer: 76 ticks
+Thread: 9 idle ticks, 67 kernel ticks, 0 user ticks
+hdb1 (filesys): 107 reads, 642 writes
+hda2 (scratch): 317 reads, 2 writes
+Console: 1037 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-cwd.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-cwd.result	2024-05-04 15:18:36.968000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: open "/": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.output	2024-05-04 15:18:38.768000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/FrYB7TyBXt.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  366,182,400 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 57 ticks
+Thread: 2 idle ticks, 54 kernel ticks, 1 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-rm-parent.tar out of /tmp/FrYB7TyBXt.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent-persistence.result	2024-05-04 15:19:17.660000000 +0000
@@ -0,0 +1,4 @@
+FAIL
+Error extracting file system:
+/: open failed
+error writing archive
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.d	2024-05-04 15:17:02.548000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-rm-parent.o: \
+ ../../tests/filesys/extended/dir-rm-parent.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.output	2024-05-04 15:18:38.028000000 +0000
@@ -0,0 +1,41 @@
+Copying tests/filesys/extended/dir-rm-parent to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/6ogVKGRjCb.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-rm-parent
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  530,841,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-rm-parent' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-rm-parent':
+(dir-rm-parent) begin
+(dir-rm-parent) mkdir "a"
+(dir-rm-parent) chdir "a"
+(dir-rm-parent) mkdir "b"
+(dir-rm-parent) chdir "b"
+(dir-rm-parent) remove "/a" (must fail)
+(dir-rm-parent) end
+dir-rm-parent: exit(0)
+Execution of 'dir-rm-parent' complete.
+Timer: 87 ticks
+Thread: 17 idle ticks, 68 kernel ticks, 2 user ticks
+hdb1 (filesys): 110 reads, 628 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1168 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-parent.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-parent.result	2024-05-04 15:18:38.792000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.output	2024-05-04 15:18:40.500000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/l6uSlLJnZP.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 56 ticks
+Thread: 2 idle ticks, 53 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-rm-root.tar out of /tmp/l6uSlLJnZP.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root-persistence.result	2024-05-04 15:19:17.688000000 +0000
@@ -0,0 +1,4 @@
+FAIL
+Error extracting file system:
+/: open failed
+error writing archive
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.d	2024-05-04 15:17:02.580000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-rm-root.o: \
+ ../../tests/filesys/extended/dir-rm-root.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.output	2024-05-04 15:18:39.760000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/extended/dir-rm-root to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/YsLSSyhVyI.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-rm-root
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  457,932,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-rm-root' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-rm-root':
+(dir-rm-root) begin
+(dir-rm-root) remove "/" (must fail)
+(dir-rm-root) create "/a"
+(dir-rm-root) end
+dir-rm-root: exit(0)
+Execution of 'dir-rm-root' complete.
+Timer: 77 ticks
+Thread: 17 idle ticks, 59 kernel ticks, 1 user ticks
+hdb1 (filesys): 130 reads, 631 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1073 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-root.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-root.result	2024-05-04 15:18:40.536000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.errors pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.errors
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.errors	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.errors	2024-05-04 15:18:42.344000000 +0000
@@ -0,0 +1 @@
+getting tests/filesys/extended/dir-rm-tree.tar failed (scratch disk tar archive ends unexpectedly)
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.output	2024-05-04 15:18:42.344000000 +0000
@@ -0,0 +1,35 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/IgHR7EfZec.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  485,785,600 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+fs.tar: create failed
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Kernel PANIC at ../../filesys/fsutil.c:182 in fsutil_append(): fs.tar: open failed
+Call stack: 0xc0029ab2 0xc0030b21 0xc00203ea 0xc0020b4e.
+The `backtrace' program can make call stacks useful.
+Read "Backtraces" in the "Debugging Tools" chapter
+of the Pintos documentation for more information.
+Timer: 63 ticks
+Thread: 2 idle ticks, 60 kernel ticks, 1 user ticks
+hdb1 (filesys): 100 reads, 4 writes
+hda2 (scratch): 0 reads, 0 writes
+Console: 1133 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-rm-tree.tar out of /tmp/IgHR7EfZec.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree-persistence.result	2024-05-04 15:19:17.724000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-rm-tree failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.d	2024-05-04 15:17:02.620000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/extended/dir-rm-tree.o: \
+ ../../tests/filesys/extended/dir-rm-tree.c ../../lib/stdarg.h \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/stdint.h ../../lib/user/stdio.h \
+ ../../lib/user/syscall.h ../../tests/filesys/extended/mk-tree.h \
+ ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.output	2024-05-04 15:18:41.548000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/extended/dir-rm-tree to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/p4ZTVNrpkH.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-rm-tree
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  468,582,400 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 321 sectors (160 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-rm-tree' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-rm-tree':
+(dir-rm-tree) begin
+(dir-rm-tree) creating /0/0/0/0 through /3/2/2/3...
+(dir-rm-tree) create "/0/1/0/2": FAILED
+dir-rm-tree: exit(1)
+Execution of 'dir-rm-tree' complete.
+Timer: 82 ticks
+Thread: 17 idle ticks, 64 kernel ticks, 1 user ticks
+hdb1 (filesys): 508 reads, 708 writes
+hda2 (scratch): 320 reads, 2 writes
+Console: 1084 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rm-tree.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rm-tree.result	2024-05-04 15:18:42.376000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "/0/1/0/2": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.output	2024-05-04 15:18:44.048000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/9QyPPxgr1c.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  527,564,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 63 ticks
+Thread: 1 idle ticks, 60 kernel ticks, 2 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-rmdir.tar out of /tmp/9QyPPxgr1c.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir-persistence.result	2024-05-04 15:19:17.756000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-rmdir failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.d	2024-05-04 15:17:02.656000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-rmdir.o: \
+ ../../tests/filesys/extended/dir-rmdir.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.output	2024-05-04 15:18:43.252000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/extended/dir-rmdir to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/O7qXyFFcih.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-rmdir
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-rmdir' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-rmdir':
+(dir-rmdir) begin
+(dir-rmdir) mkdir "a"
+(dir-rmdir) rmdir "a"
+(dir-rmdir) rmdir "a": FAILED
+dir-rmdir: exit(1)
+Execution of 'dir-rmdir' complete.
+Timer: 69 ticks
+Thread: 10 idle ticks, 58 kernel ticks, 1 user ticks
+hdb1 (filesys): 109 reads, 626 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1054 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-rmdir.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-rmdir.result	2024-05-04 15:18:44.080000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: rmdir "a": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file and pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.output	2024-05-04 15:18:45.836000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/CdluRgjFIE.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  478,412,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 63 ticks
+Thread: 2 idle ticks, 60 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-under-file.tar out of /tmp/CdluRgjFIE.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file-persistence.result	2024-05-04 15:19:17.788000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-under-file failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.d	2024-05-04 15:17:02.688000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/dir-under-file.o: \
+ ../../tests/filesys/extended/dir-under-file.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.output	2024-05-04 15:18:45.036000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/filesys/extended/dir-under-file to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/EbDpVusSHW.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-under-file
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  530,841,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-under-file' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-under-file':
+(dir-under-file) begin
+(dir-under-file) create "abc"
+(dir-under-file) mkdir "abc" (must return false)
+(dir-under-file) mkdir "abc" (must return false): FAILED
+dir-under-file: exit(1)
+Execution of 'dir-under-file' complete.
+Timer: 77 ticks
+Thread: 10 idle ticks, 66 kernel ticks, 1 user ticks
+hdb1 (filesys): 113 reads, 630 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1146 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-under-file.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-under-file.result	2024-05-04 15:18:45.868000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: mkdir "abc" (must return false): FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine and pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine-persistence.output	2024-05-04 15:18:47.616000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/7oONOfZXun.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  629,145,600 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 64 ticks
+Thread: 1 idle ticks, 61 kernel ticks, 2 user ticks
+hdb1 (filesys): 98 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 853 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/dir-vine.tar out of /tmp/7oONOfZXun.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine-persistence.result	2024-05-04 15:19:17.820000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/dir-vine failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.d pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.d	2024-05-04 15:17:02.736000000 +0000
@@ -0,0 +1,6 @@
+tests/filesys/extended/dir-vine.o: \
+ ../../tests/filesys/extended/dir-vine.c ../../lib/string.h \
+ ../../lib/stddef.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.o and pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.output pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.output	2024-05-04 15:18:46.808000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/filesys/extended/dir-vine to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/WPxM7s7qZO.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run dir-vine
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  466,944,000 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 318 sectors (159 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'dir-vine' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'dir-vine':
+(dir-vine) begin
+(dir-vine) creating many levels of files and directories...
+(dir-vine) created files and directories only to level 0: FAILED
+dir-vine: exit(1)
+Execution of 'dir-vine' complete.
+Timer: 75 ticks
+Thread: 11 idle ticks, 62 kernel ticks, 2 user ticks
+hdb1 (filesys): 122 reads, 649 writes
+hda2 (scratch): 317 reads, 2 writes
+Console: 1099 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.result pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/dir-vine.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/dir-vine.result	2024-05-04 15:18:47.648000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: created files and directories only to level 0: FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-create and pintos-solution/src/filesys/build/tests/filesys/extended/grow-create differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-create-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-create-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-create-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-create-persistence.output	2024-05-04 15:18:49.408000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/B6F0ohsLzh.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  451,379,200 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 63 ticks
+Thread: 2 idle ticks, 60 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-create.tar out of /tmp/B6F0ohsLzh.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-create-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-create-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-create-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-create-persistence.result	2024-05-04 15:19:17.848000000 +0000
@@ -0,0 +1,4 @@
+FAIL
+Error extracting file system:
+/: open failed
+error writing archive
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.d	2024-05-04 15:17:02.772000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/extended/grow-create.o: \
+ ../../tests/filesys/extended/grow-create.c \
+ ../../tests/filesys/create.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.output	2024-05-04 15:18:48.612000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/extended/grow-create to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/jvufCWXZFw.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-create
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  481,689,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-create' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-create':
+(grow-create) begin
+(grow-create) create "blargle"
+(grow-create) open "blargle" for verification
+(grow-create) verified contents of "blargle"
+(grow-create) close "blargle"
+(grow-create) end
+grow-create: exit(0)
+Execution of 'grow-create' complete.
+Timer: 76 ticks
+Thread: 13 idle ticks, 63 kernel ticks, 0 user ticks
+hdb1 (filesys): 118 reads, 630 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1162 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-create.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-create.result	2024-05-04 15:18:49.444000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg and pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.errors pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.errors
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.errors	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.errors	2024-05-04 15:18:51.308000000 +0000
@@ -0,0 +1 @@
+getting tests/filesys/extended/grow-dir-lg.tar failed (scratch disk tar archive ends unexpectedly)
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.output	2024-05-04 15:18:51.308000000 +0000
@@ -0,0 +1,35 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/3GtVA6cnq7.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  411,648,000 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+fs.tar: create failed
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Kernel PANIC at ../../filesys/fsutil.c:182 in fsutil_append(): fs.tar: open failed
+Call stack: 0xc0029ab2 0xc0030b21 0xc00203ea 0xc0020b4e.
+The `backtrace' program can make call stacks useful.
+Read "Backtraces" in the "Debugging Tools" chapter
+of the Pintos documentation for more information.
+Timer: 57 ticks
+Thread: 1 idle ticks, 55 kernel ticks, 1 user ticks
+hdb1 (filesys): 100 reads, 4 writes
+hda2 (scratch): 0 reads, 0 writes
+Console: 1133 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-dir-lg.tar out of /tmp/3GtVA6cnq7.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg-persistence.result	2024-05-04 15:19:17.884000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-dir-lg failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.d	2024-05-04 15:17:02.808000000 +0000
@@ -0,0 +1,7 @@
+tests/filesys/extended/grow-dir-lg.o: \
+ ../../tests/filesys/extended/grow-dir-lg.c \
+ ../../tests/filesys/extended/grow-dir.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../tests/filesys/seq-test.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.output	2024-05-04 15:18:50.564000000 +0000
@@ -0,0 +1,52 @@
+Copying tests/filesys/extended/grow-dir-lg to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/_Vg978OSYt.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-dir-lg
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  478,412,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 312 sectors (156 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-dir-lg' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-dir-lg':
+(grow-dir-lg) begin
+(grow-dir-lg) mkdir /x
+(grow-dir-lg) creating and checking "/x/file0"
+(grow-dir-lg) creating and checking "/x/file1"
+(grow-dir-lg) creating and checking "/x/file2"
+(grow-dir-lg) creating and checking "/x/file3"
+(grow-dir-lg) creating and checking "/x/file4"
+(grow-dir-lg) creating and checking "/x/file5"
+(grow-dir-lg) creating and checking "/x/file6"
+(grow-dir-lg) creating and checking "/x/file7"
+(grow-dir-lg) creating and checking "/x/file8"
+(grow-dir-lg) creating and checking "/x/file9"
+(grow-dir-lg) creating and checking "/x/file10"
+(grow-dir-lg) creating and checking "/x/file11"
+(grow-dir-lg) creating and checking "/x/file12"
+(grow-dir-lg) creating and checking "/x/file13"
+(grow-dir-lg) creating and checking "/x/file14"
+(grow-dir-lg) create "/x/file14": FAILED
+grow-dir-lg: exit(1)
+Execution of 'grow-dir-lg' complete.
+Timer: 94 ticks
+Thread: 18 idle ticks, 67 kernel ticks, 9 user ticks
+hdb1 (filesys): 847 reads, 719 writes
+hda2 (scratch): 311 reads, 2 writes
+Console: 1766 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-dir-lg.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-dir-lg.result	2024-05-04 15:18:51.344000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "/x/file14": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size and pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.output	2024-05-04 15:18:53.100000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/4VqGUvGysP.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  491,520,000 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 62 ticks
+Thread: 1 idle ticks, 59 kernel ticks, 2 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-file-size.tar out of /tmp/4VqGUvGysP.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size-persistence.result	2024-05-04 15:19:17.916000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-file-size failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.d	2024-05-04 15:17:02.840000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-file-size.o: \
+ ../../tests/filesys/extended/grow-file-size.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.output	2024-05-04 15:18:52.304000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/grow-file-size to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/cYyrLJVrO1.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-file-size
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  477,593,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-file-size' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-file-size':
+(grow-file-size) begin
+(grow-file-size) create "testfile"
+(grow-file-size) open "testfile"
+(grow-file-size) writing "testfile"
+(grow-file-size) write 37 bytes at offset 0 in "testfile" failed: FAILED
+grow-file-size: exit(1)
+Execution of 'grow-file-size' complete.
+Timer: 77 ticks
+Thread: 11 idle ticks, 65 kernel ticks, 1 user ticks
+hdb1 (filesys): 118 reads, 632 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1187 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-file-size.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-file-size.result	2024-05-04 15:18:53.136000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write 37 bytes at offset 0 in "testfile" failed: FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg and pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.errors pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.errors
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.errors	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.errors	2024-05-04 15:18:54.988000000 +0000
@@ -0,0 +1 @@
+getting tests/filesys/extended/grow-root-lg.tar failed (scratch disk tar archive ends unexpectedly)
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.output	2024-05-04 15:18:54.988000000 +0000
@@ -0,0 +1,35 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/OWmB_iEUH8.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  314,163,200 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+fs.tar: create failed
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Kernel PANIC at ../../filesys/fsutil.c:182 in fsutil_append(): fs.tar: open failed
+Call stack: 0xc0029ab2 0xc0030b21 0xc00203ea 0xc0020b4e.
+The `backtrace' program can make call stacks useful.
+Read "Backtraces" in the "Debugging Tools" chapter
+of the Pintos documentation for more information.
+Timer: 56 ticks
+Thread: 2 idle ticks, 54 kernel ticks, 0 user ticks
+hdb1 (filesys): 100 reads, 4 writes
+hda2 (scratch): 0 reads, 0 writes
+Console: 1133 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-root-lg.tar out of /tmp/OWmB_iEUH8.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg-persistence.result	2024-05-04 15:19:17.948000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-root-lg failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.d	2024-05-04 15:17:02.876000000 +0000
@@ -0,0 +1,7 @@
+tests/filesys/extended/grow-root-lg.o: \
+ ../../tests/filesys/extended/grow-root-lg.c \
+ ../../tests/filesys/extended/grow-dir.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../tests/filesys/seq-test.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.output	2024-05-04 15:18:54.260000000 +0000
@@ -0,0 +1,51 @@
+Copying tests/filesys/extended/grow-root-lg to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/fjFxYeLtri.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-root-lg
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  550,502,400 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-root-lg' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-root-lg':
+(grow-root-lg) begin
+(grow-root-lg) creating and checking "file0"
+(grow-root-lg) creating and checking "file1"
+(grow-root-lg) creating and checking "file2"
+(grow-root-lg) creating and checking "file3"
+(grow-root-lg) creating and checking "file4"
+(grow-root-lg) creating and checking "file5"
+(grow-root-lg) creating and checking "file6"
+(grow-root-lg) creating and checking "file7"
+(grow-root-lg) creating and checking "file8"
+(grow-root-lg) creating and checking "file9"
+(grow-root-lg) creating and checking "file10"
+(grow-root-lg) creating and checking "file11"
+(grow-root-lg) creating and checking "file12"
+(grow-root-lg) creating and checking "file13"
+(grow-root-lg) creating and checking "file14"
+(grow-root-lg) create "file14": FAILED
+grow-root-lg: exit(1)
+Execution of 'grow-root-lg' complete.
+Timer: 93 ticks
+Thread: 20 idle ticks, 66 kernel ticks, 7 user ticks
+hdb1 (filesys): 846 reads, 717 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1717 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-lg.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-lg.result	2024-05-04 15:18:55.016000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "file14": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm and pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.errors pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.errors
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.errors	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.errors	2024-05-04 15:18:56.916000000 +0000
@@ -0,0 +1 @@
+getting tests/filesys/extended/grow-root-sm.tar failed (scratch disk tar archive ends unexpectedly)
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.output	2024-05-04 15:18:56.916000000 +0000
@@ -0,0 +1,35 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Ry9ZZGmIU8.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  449,740,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+fs.tar: create failed
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Kernel PANIC at ../../filesys/fsutil.c:182 in fsutil_append(): fs.tar: open failed
+Call stack: 0xc0029ab2 0xc0030b21 0xc00203ea 0xc0020b4e.
+The `backtrace' program can make call stacks useful.
+Read "Backtraces" in the "Debugging Tools" chapter
+of the Pintos documentation for more information.
+Timer: 63 ticks
+Thread: 2 idle ticks, 60 kernel ticks, 1 user ticks
+hdb1 (filesys): 100 reads, 4 writes
+hda2 (scratch): 0 reads, 0 writes
+Console: 1133 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-root-sm.tar out of /tmp/Ry9ZZGmIU8.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm-persistence.result	2024-05-04 15:19:17.980000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-root-sm failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.d	2024-05-04 15:17:02.912000000 +0000
@@ -0,0 +1,7 @@
+tests/filesys/extended/grow-root-sm.o: \
+ ../../tests/filesys/extended/grow-root-sm.c \
+ ../../tests/filesys/extended/grow-dir.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../tests/filesys/seq-test.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.output	2024-05-04 15:18:56.108000000 +0000
@@ -0,0 +1,51 @@
+Copying tests/filesys/extended/grow-root-sm to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/zOC3uF5Kg2.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-root-sm
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  469,401,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-root-sm' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-root-sm':
+(grow-root-sm) begin
+(grow-root-sm) creating and checking "file0"
+(grow-root-sm) creating and checking "file1"
+(grow-root-sm) creating and checking "file2"
+(grow-root-sm) creating and checking "file3"
+(grow-root-sm) creating and checking "file4"
+(grow-root-sm) creating and checking "file5"
+(grow-root-sm) creating and checking "file6"
+(grow-root-sm) creating and checking "file7"
+(grow-root-sm) creating and checking "file8"
+(grow-root-sm) creating and checking "file9"
+(grow-root-sm) creating and checking "file10"
+(grow-root-sm) creating and checking "file11"
+(grow-root-sm) creating and checking "file12"
+(grow-root-sm) creating and checking "file13"
+(grow-root-sm) creating and checking "file14"
+(grow-root-sm) create "file14": FAILED
+grow-root-sm: exit(1)
+Execution of 'grow-root-sm' complete.
+Timer: 89 ticks
+Thread: 20 idle ticks, 60 kernel ticks, 9 user ticks
+hdb1 (filesys): 846 reads, 717 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1717 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-root-sm.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-root-sm.result	2024-05-04 15:18:56.944000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: create "file14": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg and pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.output	2024-05-04 15:18:58.636000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/HmLcorW448.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  207,872,000 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 55 ticks
+Thread: 1 idle ticks, 52 kernel ticks, 2 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-seq-lg.tar out of /tmp/HmLcorW448.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg-persistence.result	2024-05-04 15:19:18.012000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-seq-lg failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.d	2024-05-04 15:17:02.944000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-seq-lg.o: \
+ ../../tests/filesys/extended/grow-seq-lg.c \
+ ../../tests/filesys/extended/grow-seq.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.output	2024-05-04 15:18:57.908000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/grow-seq-lg to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/v8dt4fKNUz.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-seq-lg
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  475,955,200 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-seq-lg' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-seq-lg':
+(grow-seq-lg) begin
+(grow-seq-lg) create "testme"
+(grow-seq-lg) open "testme"
+(grow-seq-lg) writing "testme"
+(grow-seq-lg) write 1234 bytes at offset 0 in "testme" failed: FAILED
+grow-seq-lg: exit(1)
+Execution of 'grow-seq-lg' complete.
+Timer: 77 ticks
+Thread: 12 idle ticks, 64 kernel ticks, 1 user ticks
+hdb1 (filesys): 118 reads, 630 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1151 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-lg.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-lg.result	2024-05-04 15:18:58.668000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write 1234 bytes at offset 0 in "testme" failed: FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm and pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.output	2024-05-04 15:19:00.360000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/aSULY11gR9.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  485,785,600 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 63 ticks
+Thread: 1 idle ticks, 60 kernel ticks, 2 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-seq-sm.tar out of /tmp/aSULY11gR9.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm-persistence.result	2024-05-04 15:19:18.040000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-seq-sm failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.d	2024-05-04 15:17:02.976000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-seq-sm.o: \
+ ../../tests/filesys/extended/grow-seq-sm.c \
+ ../../tests/filesys/extended/grow-seq.inc ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.output	2024-05-04 15:18:59.560000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/grow-seq-sm to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/sfS201qrZ0.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-seq-sm
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  366,592,000 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 310 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-seq-sm' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-seq-sm':
+(grow-seq-sm) begin
+(grow-seq-sm) create "testme"
+(grow-seq-sm) open "testme"
+(grow-seq-sm) writing "testme"
+(grow-seq-sm) write 1234 bytes at offset 0 in "testme" failed: FAILED
+grow-seq-sm: exit(1)
+Execution of 'grow-seq-sm' complete.
+Timer: 70 ticks
+Thread: 11 idle ticks, 57 kernel ticks, 2 user ticks
+hdb1 (filesys): 118 reads, 630 writes
+hda2 (scratch): 309 reads, 2 writes
+Console: 1151 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-seq-sm.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-seq-sm.result	2024-05-04 15:19:00.396000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write 1234 bytes at offset 0 in "testme" failed: FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse and pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.output	2024-05-04 15:19:02.064000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/fStWnL8cYi.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  434,176,000 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 62 ticks
+Thread: 0 idle ticks, 61 kernel ticks, 1 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-sparse.tar out of /tmp/fStWnL8cYi.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse-persistence.result	2024-05-04 15:19:18.076000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-sparse failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.d	2024-05-04 15:17:03.008000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-sparse.o: \
+ ../../tests/filesys/extended/grow-sparse.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.output	2024-05-04 15:19:01.292000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/filesys/extended/grow-sparse to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/mGO6NP6c9t.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-sparse
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-sparse' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-sparse':
+(grow-sparse) begin
+(grow-sparse) create "testfile"
+(grow-sparse) open "testfile"
+(grow-sparse) seek "testfile"
+(grow-sparse) write "testfile"
+(grow-sparse) write "testfile": FAILED
+grow-sparse: exit(1)
+Execution of 'grow-sparse' complete.
+Timer: 70 ticks
+Thread: 13 idle ticks, 56 kernel ticks, 1 user ticks
+hdb1 (filesys): 119 reads, 632 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1154 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-sparse.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-sparse.result	2024-05-04 15:19:02.096000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write "testfile": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell and pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell-persistence.output	2024-05-04 15:19:03.684000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/h25umxECQp.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  453,836,800 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 64 ticks
+Thread: 1 idle ticks, 61 kernel ticks, 2 user ticks
+hdb1 (filesys): 101 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-tell.tar out of /tmp/h25umxECQp.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell-persistence.result	2024-05-04 15:19:18.108000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-tell failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.d	2024-05-04 15:17:03.044000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-tell.o: \
+ ../../tests/filesys/extended/grow-tell.c ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/filesys/seq-test.h \
+ ../../lib/stddef.h ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.output	2024-05-04 15:19:02.876000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/filesys/extended/grow-tell to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/rsoHnONEXI.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-tell
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  209,305,600 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 311 sectors (155 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-tell' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-tell':
+(grow-tell) begin
+(grow-tell) create "foobar"
+(grow-tell) open "foobar"
+(grow-tell) writing "foobar"
+(grow-tell) write 37 bytes at offset 0 in "foobar" failed: FAILED
+grow-tell: exit(1)
+Execution of 'grow-tell' complete.
+Timer: 60 ticks
+Thread: 0 idle ticks, 59 kernel ticks, 1 user ticks
+hdb1 (filesys): 118 reads, 632 writes
+hda2 (scratch): 310 reads, 2 writes
+Console: 1128 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-tell.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-tell.result	2024-05-04 15:19:03.716000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write 37 bytes at offset 0 in "foobar" failed: FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files and pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.output	2024-05-04 15:19:05.452000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/iaudv_ud8u.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  468,582,400 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 61 ticks
+Thread: 2 idle ticks, 58 kernel ticks, 1 user ticks
+hdb1 (filesys): 104 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/grow-two-files.tar out of /tmp/iaudv_ud8u.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files-persistence.result	2024-05-04 15:19:18.140000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/grow-two-files failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.d pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.d	2024-05-04 15:17:03.084000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/extended/grow-two-files.o: \
+ ../../tests/filesys/extended/grow-two-files.c ../../lib/random.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../lib/stdbool.h \
+ ../../lib/debug.h ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.o and pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.output pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.output	2024-05-04 15:19:04.672000000 +0000
@@ -0,0 +1,41 @@
+Copying tests/filesys/extended/grow-two-files to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/SH2fFPqEl5.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run grow-two-files
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  511,180,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 315 sectors (157 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'grow-two-files' into the file system...
+Putting 'tar' into the file system...
+Erasing ustar archive...
+Executing 'grow-two-files':
+(grow-two-files) begin
+(grow-two-files) create "a"
+(grow-two-files) create "b"
+(grow-two-files) open "a"
+(grow-two-files) open "b"
+(grow-two-files) write "a" and "b" alternately
+(grow-two-files) write 250 bytes at offset 0 in "a" returned 0: FAILED
+grow-two-files: exit(1)
+Execution of 'grow-two-files' complete.
+Timer: 77 ticks
+Thread: 13 idle ticks, 62 kernel ticks, 2 user ticks
+hdb1 (filesys): 141 reads, 644 writes
+hda2 (scratch): 314 reads, 2 writes
+Console: 1236 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.result pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/grow-two-files.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/grow-two-files.result	2024-05-04 15:19:05.484000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: write 250 bytes at offset 0 in "a" returned 0: FAILED
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/mk-tree.d pintos-solution/src/filesys/build/tests/filesys/extended/mk-tree.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/mk-tree.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/mk-tree.d	2024-05-04 15:17:02.364000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/extended/mk-tree.o: ../../tests/filesys/extended/mk-tree.c \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h \
+ ../../tests/filesys/extended/mk-tree.h ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/mk-tree.o and pintos-solution/src/filesys/build/tests/filesys/extended/mk-tree.o differ
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw and pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw-persistence.output pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw-persistence.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw-persistence.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw-persistence.output	2024-05-04 15:19:13.820000000 +0000
@@ -0,0 +1,31 @@
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/gAhzAB6xBt.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q run 'tar fs.tar /' append fs.tar
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  464,486,400 loops/s.
+hda: 3,024 sectors (1 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 2,048 sectors (1 MB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Boot complete.
+Executing 'tar fs.tar /':
+/: open failed
+error writing archive
+tar: exit(1)
+Execution of 'tar fs.tar /' complete.
+Appending 'fs.tar' to ustar archive on scratch device...
+Timer: 62 ticks
+Thread: 0 idle ticks, 59 kernel ticks, 3 user ticks
+hdb1 (filesys): 104 reads, 4 writes
+hda2 (scratch): 0 reads, 3 writes
+Console: 854 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
+Copying tests/filesys/extended/syn-rw.tar out of /tmp/gAhzAB6xBt.dsk...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw-persistence.result pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw-persistence.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw-persistence.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw-persistence.result	2024-05-04 15:19:18.172000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+Prerequisite test tests/filesys/extended/syn-rw failed.
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.d pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.d	2024-05-04 15:17:03.120000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/extended/syn-rw.o: ../../tests/filesys/extended/syn-rw.c \
+ ../../lib/random.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/filesys/extended/syn-rw.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.o and pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.output pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.output
--- aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.output	2024-05-04 15:19:13.036000000 +0000
@@ -0,0 +1,46 @@
+Copying tests/filesys/extended/syn-rw to scratch partition...
+Copying tests/filesys/extended/tar to scratch partition...
+Copying tests/filesys/extended/child-syn-rw to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/rDDRJ1u9y5.dsk,format=raw,index=0,media=disk -drive file=tmp.dsk,format=raw,index=1,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run syn-rw
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  478,412,800 loops/s.
+hda: 1,008 sectors (504 kB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 468 sectors (234 kB), Pintos scratch (22)
+hdb: 5,040 sectors (2 MB), model "QM00002", serial "QEMU HARDDISK"
+hdb1: 4,096 sectors (2 MB), Pintos file system (21)
+filesys: using hdb1
+scratch: using hda2
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'syn-rw' into the file system...
+Putting 'tar' into the file system...
+Putting 'child-syn-rw' into the file system...
+Erasing ustar archive...
+Executing 'syn-rw':
+(syn-rw) begin
+(syn-rw) create "logfile"
+(syn-rw) open "logfile"
+(syn-rw) exec child 1 of 4: "child-syn-rw 0"
+(syn-rw) exec child 2 of 4: "child-syn-rw 1"
+(syn-rw) exec child 3 of 4: "child-syn-rw 2"
+(child-syn-rw) open "logfile": FAILED
+child-syn-rw: exit(1)
+(syn-rw) exec child 4 of 4: "child-syn-rw 3"
+(syn-rw) write 8 bytes at offset 0 in "logfile": FAILED
+syn-rw: exit(1)
+Execution of 'syn-rw' complete.
+Timer: 736 ticks
+Thread: 19 idle ticks, 64 kernel ticks, 653 user ticks
+hdb1 (filesys): 315 reads, 948 writes
+hda2 (scratch): 467 reads, 2 writes
+Console: 1358 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.result pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.result
--- aos_pintos/src/filesys/build/tests/filesys/extended/syn-rw.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/syn-rw.result	2024-05-04 15:19:13.856000000 +0000
@@ -0,0 +1,2 @@
+FAIL
+run: open "logfile": FAILED
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/tar and pintos-solution/src/filesys/build/tests/filesys/extended/tar differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/extended/tar.d pintos-solution/src/filesys/build/tests/filesys/extended/tar.d
--- aos_pintos/src/filesys/build/tests/filesys/extended/tar.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/extended/tar.d	2024-05-04 15:17:03.304000000 +0000
@@ -0,0 +1,5 @@
+tests/filesys/extended/tar.o: ../../tests/filesys/extended/tar.c \
+ ../../lib/ustar.h ../../lib/stdbool.h ../../lib/user/syscall.h \
+ ../../lib/debug.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/stddef.h ../../lib/stdint.h ../../lib/user/stdio.h \
+ ../../lib/string.h
Binary files aos_pintos/src/filesys/build/tests/filesys/extended/tar.o and pintos-solution/src/filesys/build/tests/filesys/extended/tar.o differ
diff -ruN aos_pintos/src/filesys/build/tests/filesys/seq-test.d pintos-solution/src/filesys/build/tests/filesys/seq-test.d
--- aos_pintos/src/filesys/build/tests/filesys/seq-test.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/filesys/seq-test.d	2024-05-04 15:17:01.780000000 +0000
@@ -0,0 +1,4 @@
+tests/filesys/seq-test.o: ../../tests/filesys/seq-test.c \
+ ../../tests/filesys/seq-test.h ../../lib/stddef.h ../../lib/random.h \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/filesys/seq-test.o and pintos-solution/src/filesys/build/tests/filesys/seq-test.o differ
diff -ruN aos_pintos/src/filesys/build/tests/lib.d pintos-solution/src/filesys/build/tests/lib.d
--- aos_pintos/src/filesys/build/tests/lib.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/lib.d	2024-05-04 15:16:59.280000000 +0000
@@ -0,0 +1,4 @@
+tests/lib.o: ../../tests/lib.c ../../tests/lib.h ../../lib/debug.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../lib/random.h ../../lib/stdarg.h ../../lib/stdio.h \
+ ../../lib/stdint.h ../../lib/user/stdio.h ../../lib/string.h
Binary files aos_pintos/src/filesys/build/tests/lib.o and pintos-solution/src/filesys/build/tests/lib.o differ
diff -ruN aos_pintos/src/filesys/build/tests/main.d pintos-solution/src/filesys/build/tests/main.d
--- aos_pintos/src/filesys/build/tests/main.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/main.d	2024-05-04 15:16:59.500000000 +0000
@@ -0,0 +1,3 @@
+tests/main.o: ../../tests/main.c ../../lib/random.h ../../lib/stddef.h \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/main.o and pintos-solution/src/filesys/build/tests/main.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/args-dbl-space and pintos-solution/src/filesys/build/tests/userprog/args-dbl-space differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-dbl-space.output pintos-solution/src/filesys/build/tests/userprog/args-dbl-space.output
--- aos_pintos/src/filesys/build/tests/userprog/args-dbl-space.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-dbl-space.output	2024-05-04 15:17:14.032000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/args-dbl-space to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/eSWdPaYKvG.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run 'args-dbl-space two  spaces!'
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  454,656,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'args-dbl-space' into the file system...
+Erasing ustar archive...
+Executing 'args-dbl-space two  spaces!':
+(args) begin
+(args) argc = 3
+(args) argv[0] = 'args-dbl-space'
+(args) argv[1] = 'two'
+(args) argv[2] = 'spaces!'
+(args) argv[3] = null
+(args) end
+args-dbl-space: exit(0)
+Execution of 'args-dbl-space two  spaces!' complete.
+Timer: 67 ticks
+Thread: 5 idle ticks, 61 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 1064 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-dbl-space.result pintos-solution/src/filesys/build/tests/userprog/args-dbl-space.result
--- aos_pintos/src/filesys/build/tests/userprog/args-dbl-space.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-dbl-space.result	2024-05-04 15:17:14.064000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/args-many and pintos-solution/src/filesys/build/tests/userprog/args-many differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-many.output pintos-solution/src/filesys/build/tests/userprog/args-many.output
--- aos_pintos/src/filesys/build/tests/userprog/args-many.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-many.output	2024-05-04 15:17:13.160000000 +0000
@@ -0,0 +1,58 @@
+Copying tests/userprog/args-many to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/uc6xJKG4SD.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run 'args-many a b c d e f g h i j k l m n o p q r s t u v'
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  436,633,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'args-many' into the file system...
+Erasing ustar archive...
+Executing 'args-many a b c d e f g h i j k l m n o p q r s t u v':
+(args) begin
+(args) argc = 23
+(args) argv[0] = 'args-many'
+(args) argv[1] = 'a'
+(args) argv[2] = 'b'
+(args) argv[3] = 'c'
+(args) argv[4] = 'd'
+(args) argv[5] = 'e'
+(args) argv[6] = 'f'
+(args) argv[7] = 'g'
+(args) argv[8] = 'h'
+(args) argv[9] = 'i'
+(args) argv[10] = 'j'
+(args) argv[11] = 'k'
+(args) argv[12] = 'l'
+(args) argv[13] = 'm'
+(args) argv[14] = 'n'
+(args) argv[15] = 'o'
+(args) argv[16] = 'p'
+(args) argv[17] = 'q'
+(args) argv[18] = 'r'
+(args) argv[19] = 's'
+(args) argv[20] = 't'
+(args) argv[21] = 'u'
+(args) argv[22] = 'v'
+(args) argv[23] = null
+(args) end
+args-many: exit(0)
+Execution of 'args-many a b c d e f g h i j k l m n o p q r s t u v' complete.
+Timer: 72 ticks
+Thread: 4 idle ticks, 65 kernel ticks, 3 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 1554 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-many.result pintos-solution/src/filesys/build/tests/userprog/args-many.result
--- aos_pintos/src/filesys/build/tests/userprog/args-many.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-many.result	2024-05-04 15:17:13.192000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/args-multiple and pintos-solution/src/filesys/build/tests/userprog/args-multiple differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-multiple.output pintos-solution/src/filesys/build/tests/userprog/args-multiple.output
--- aos_pintos/src/filesys/build/tests/userprog/args-multiple.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-multiple.output	2024-05-04 15:17:12.240000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/userprog/args-multiple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/fuaV2i1CSa.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run 'args-multiple some arguments for you!'
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  456,294,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'args-multiple' into the file system...
+Erasing ustar archive...
+Executing 'args-multiple some arguments for you!':
+(args) begin
+(args) argc = 5
+(args) argv[0] = 'args-multiple'
+(args) argv[1] = 'some'
+(args) argv[2] = 'arguments'
+(args) argv[3] = 'for'
+(args) argv[4] = 'you!'
+(args) argv[5] = null
+(args) end
+args-multiple: exit(0)
+Execution of 'args-multiple some arguments for you!' complete.
+Timer: 70 ticks
+Thread: 7 idle ticks, 61 kernel ticks, 2 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 1141 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-multiple.result pintos-solution/src/filesys/build/tests/userprog/args-multiple.result
--- aos_pintos/src/filesys/build/tests/userprog/args-multiple.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-multiple.result	2024-05-04 15:17:12.276000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/args-none and pintos-solution/src/filesys/build/tests/userprog/args-none differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-none.output pintos-solution/src/filesys/build/tests/userprog/args-none.output
--- aos_pintos/src/filesys/build/tests/userprog/args-none.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-none.output	2024-05-04 15:17:10.448000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/args-none to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Jjcqg3lDU9.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run args-none
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  485,785,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'args-none' into the file system...
+Erasing ustar archive...
+Executing 'args-none':
+(args) begin
+(args) argc = 1
+(args) argv[0] = 'args-none'
+(args) argv[1] = null
+(args) end
+args-none: exit(0)
+Execution of 'args-none' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 62 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 943 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-none.result pintos-solution/src/filesys/build/tests/userprog/args-none.result
--- aos_pintos/src/filesys/build/tests/userprog/args-none.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-none.result	2024-05-04 15:17:10.492000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/args-single and pintos-solution/src/filesys/build/tests/userprog/args-single differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-single.output pintos-solution/src/filesys/build/tests/userprog/args-single.output
--- aos_pintos/src/filesys/build/tests/userprog/args-single.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-single.output	2024-05-04 15:17:11.340000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/args-single to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/2V7O4nz_wi.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run 'args-single onearg'
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  477,593,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'args-single' into the file system...
+Erasing ustar archive...
+Executing 'args-single onearg':
+(args) begin
+(args) argc = 2
+(args) argv[0] = 'args-single'
+(args) argv[1] = 'onearg'
+(args) argv[2] = null
+(args) end
+args-single: exit(0)
+Execution of 'args-single onearg' complete.
+Timer: 68 ticks
+Thread: 4 idle ticks, 63 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 1004 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args-single.result pintos-solution/src/filesys/build/tests/userprog/args-single.result
--- aos_pintos/src/filesys/build/tests/userprog/args-single.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args-single.result	2024-05-04 15:17:11.372000000 +0000
@@ -0,0 +1 @@
+PASS
diff -ruN aos_pintos/src/filesys/build/tests/userprog/args.d pintos-solution/src/filesys/build/tests/userprog/args.d
--- aos_pintos/src/filesys/build/tests/userprog/args.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/args.d	2024-05-04 15:16:59.224000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/args.o: ../../tests/userprog/args.c ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h
Binary files aos_pintos/src/filesys/build/tests/userprog/args.o and pintos-solution/src/filesys/build/tests/userprog/args.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-jump and pintos-solution/src/filesys/build/tests/userprog/bad-jump differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump.d pintos-solution/src/filesys/build/tests/userprog/bad-jump.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump.d	2024-05-04 15:17:01.412000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-jump.o: ../../tests/userprog/bad-jump.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-jump.o and pintos-solution/src/filesys/build/tests/userprog/bad-jump.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump.output pintos-solution/src/filesys/build/tests/userprog/bad-jump.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump.output	2024-05-04 15:18:07.556000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-jump to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/ZNLGVTc9X9.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-jump
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  475,136,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-jump' into the file system...
+Erasing ustar archive...
+Executing 'bad-jump':
+(bad-jump) begin
+bad-jump: exit(-1)
+Execution of 'bad-jump' complete.
+Timer: 69 ticks
+Thread: 4 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 865 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump.result pintos-solution/src/filesys/build/tests/userprog/bad-jump.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump.result	2024-05-04 15:18:07.588000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-jump2 and pintos-solution/src/filesys/build/tests/userprog/bad-jump2 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump2.d pintos-solution/src/filesys/build/tests/userprog/bad-jump2.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump2.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump2.d	2024-05-04 15:17:01.440000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-jump2.o: ../../tests/userprog/bad-jump2.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-jump2.o and pintos-solution/src/filesys/build/tests/userprog/bad-jump2.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump2.output pintos-solution/src/filesys/build/tests/userprog/bad-jump2.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump2.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump2.output	2024-05-04 15:18:08.448000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-jump2 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/0KpIWhbd5L.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-jump2
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-jump2' into the file system...
+Erasing ustar archive...
+Executing 'bad-jump2':
+(bad-jump2) begin
+bad-jump2: exit(-1)
+Execution of 'bad-jump2' complete.
+Timer: 69 ticks
+Thread: 6 idle ticks, 63 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 871 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-jump2.result pintos-solution/src/filesys/build/tests/userprog/bad-jump2.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-jump2.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-jump2.result	2024-05-04 15:18:08.484000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-read and pintos-solution/src/filesys/build/tests/userprog/bad-read differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read.d pintos-solution/src/filesys/build/tests/userprog/bad-read.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-read.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read.d	2024-05-04 15:17:01.284000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-read.o: ../../tests/userprog/bad-read.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-read.o and pintos-solution/src/filesys/build/tests/userprog/bad-read.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read.output pintos-solution/src/filesys/build/tests/userprog/bad-read.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-read.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read.output	2024-05-04 15:18:04.156000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-read to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/kxm5_O0d7I.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-read
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-read' into the file system...
+Erasing ustar archive...
+Executing 'bad-read':
+(bad-read) begin
+bad-read: exit(-1)
+Execution of 'bad-read' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 62 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 865 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read.result pintos-solution/src/filesys/build/tests/userprog/bad-read.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-read.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read.result	2024-05-04 15:18:04.192000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-read2 and pintos-solution/src/filesys/build/tests/userprog/bad-read2 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read2.d pintos-solution/src/filesys/build/tests/userprog/bad-read2.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-read2.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read2.d	2024-05-04 15:17:01.348000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-read2.o: ../../tests/userprog/bad-read2.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-read2.o and pintos-solution/src/filesys/build/tests/userprog/bad-read2.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read2.output pintos-solution/src/filesys/build/tests/userprog/bad-read2.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-read2.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read2.output	2024-05-04 15:18:05.812000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-read2 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/SeEsSFKpui.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-read2
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  104,755,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-read2' into the file system...
+Erasing ustar archive...
+Executing 'bad-read2':
+(bad-read2) begin
+bad-read2: exit(-1)
+Execution of 'bad-read2' complete.
+Timer: 59 ticks
+Thread: 5 idle ticks, 53 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 871 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-read2.result pintos-solution/src/filesys/build/tests/userprog/bad-read2.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-read2.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-read2.result	2024-05-04 15:18:05.844000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-write and pintos-solution/src/filesys/build/tests/userprog/bad-write differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write.d pintos-solution/src/filesys/build/tests/userprog/bad-write.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-write.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write.d	2024-05-04 15:17:01.312000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-write.o: ../../tests/userprog/bad-write.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-write.o and pintos-solution/src/filesys/build/tests/userprog/bad-write.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write.output pintos-solution/src/filesys/build/tests/userprog/bad-write.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-write.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write.output	2024-05-04 15:18:05.020000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-write to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/nGtBZ3IDIe.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-write
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  552,140,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-write' into the file system...
+Erasing ustar archive...
+Executing 'bad-write':
+(bad-write) begin
+bad-write: exit(-1)
+Execution of 'bad-write' complete.
+Timer: 67 ticks
+Thread: 6 idle ticks, 61 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 871 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write.result pintos-solution/src/filesys/build/tests/userprog/bad-write.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-write.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write.result	2024-05-04 15:18:05.052000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-write2 and pintos-solution/src/filesys/build/tests/userprog/bad-write2 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write2.d pintos-solution/src/filesys/build/tests/userprog/bad-write2.d
--- aos_pintos/src/filesys/build/tests/userprog/bad-write2.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write2.d	2024-05-04 15:17:01.380000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/bad-write2.o: ../../tests/userprog/bad-write2.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/bad-write2.o and pintos-solution/src/filesys/build/tests/userprog/bad-write2.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write2.output pintos-solution/src/filesys/build/tests/userprog/bad-write2.output
--- aos_pintos/src/filesys/build/tests/userprog/bad-write2.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write2.output	2024-05-04 15:18:06.668000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/bad-write2 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/oYKzCxnRou.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run bad-write2
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  467,763,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'bad-write2' into the file system...
+Erasing ustar archive...
+Executing 'bad-write2':
+(bad-write2) begin
+bad-write2: exit(-1)
+Execution of 'bad-write2' complete.
+Timer: 66 ticks
+Thread: 6 idle ticks, 60 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 877 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/bad-write2.result pintos-solution/src/filesys/build/tests/userprog/bad-write2.result
--- aos_pintos/src/filesys/build/tests/userprog/bad-write2.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/bad-write2.result	2024-05-04 15:18:06.696000000 +0000
@@ -0,0 +1 @@
+PASS
diff -ruN aos_pintos/src/filesys/build/tests/userprog/boundary.d pintos-solution/src/filesys/build/tests/userprog/boundary.d
--- aos_pintos/src/filesys/build/tests/userprog/boundary.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/boundary.d	2024-05-04 15:16:59.584000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/boundary.o: ../../tests/userprog/boundary.c \
+ ../../lib/inttypes.h ../../lib/stdint.h ../../lib/round.h \
+ ../../lib/string.h ../../lib/stddef.h ../../tests/userprog/boundary.h
Binary files aos_pintos/src/filesys/build/tests/userprog/boundary.o and pintos-solution/src/filesys/build/tests/userprog/boundary.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/child-args and pintos-solution/src/filesys/build/tests/userprog/child-args differ
Binary files aos_pintos/src/filesys/build/tests/userprog/child-bad and pintos-solution/src/filesys/build/tests/userprog/child-bad differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/child-bad.d pintos-solution/src/filesys/build/tests/userprog/child-bad.d
--- aos_pintos/src/filesys/build/tests/userprog/child-bad.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/child-bad.d	2024-05-04 15:17:01.652000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/child-bad.o: ../../tests/userprog/child-bad.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/child-bad.o and pintos-solution/src/filesys/build/tests/userprog/child-bad.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/child-close and pintos-solution/src/filesys/build/tests/userprog/child-close differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/child-close.d pintos-solution/src/filesys/build/tests/userprog/child-close.d
--- aos_pintos/src/filesys/build/tests/userprog/child-close.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/child-close.d	2024-05-04 15:17:01.684000000 +0000
@@ -0,0 +1,5 @@
+tests/userprog/child-close.o: ../../tests/userprog/child-close.c \
+ ../../lib/ctype.h ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/stdlib.h ../../lib/user/syscall.h \
+ ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/userprog/child-close.o and pintos-solution/src/filesys/build/tests/userprog/child-close.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/child-rox and pintos-solution/src/filesys/build/tests/userprog/child-rox differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/child-rox.d pintos-solution/src/filesys/build/tests/userprog/child-rox.d
--- aos_pintos/src/filesys/build/tests/userprog/child-rox.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/child-rox.d	2024-05-04 15:17:01.720000000 +0000
@@ -0,0 +1,5 @@
+tests/userprog/child-rox.o: ../../tests/userprog/child-rox.c \
+ ../../lib/ctype.h ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/stdlib.h ../../lib/user/syscall.h \
+ ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/userprog/child-rox.o and pintos-solution/src/filesys/build/tests/userprog/child-rox.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/child-simple and pintos-solution/src/filesys/build/tests/userprog/child-simple differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/child-simple.d pintos-solution/src/filesys/build/tests/userprog/child-simple.d
--- aos_pintos/src/filesys/build/tests/userprog/child-simple.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/child-simple.d	2024-05-04 15:17:01.608000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/child-simple.o: ../../tests/userprog/child-simple.c \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../tests/lib.h ../../lib/user/syscall.h
Binary files aos_pintos/src/filesys/build/tests/userprog/child-simple.o and pintos-solution/src/filesys/build/tests/userprog/child-simple.o differ
Binary files aos_pintos/src/filesys/build/tests/userprog/close-bad-fd and pintos-solution/src/filesys/build/tests/userprog/close-bad-fd differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.d pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.d
--- aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.d	2024-05-04 15:17:00.320000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/close-bad-fd.o: ../../tests/userprog/close-bad-fd.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.o and pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.output pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.output
--- aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.output	2024-05-04 15:17:36.628000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/close-bad-fd to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/YokU6cwvj_.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run close-bad-fd
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  481,689,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'close-bad-fd' into the file system...
+Erasing ustar archive...
+Executing 'close-bad-fd':
+(close-bad-fd) begin
+(close-bad-fd) end
+close-bad-fd: exit(0)
+Execution of 'close-bad-fd' complete.
+Timer: 69 ticks
+Thread: 6 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 907 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.result pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.result
--- aos_pintos/src/filesys/build/tests/userprog/close-bad-fd.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-bad-fd.result	2024-05-04 15:17:36.664000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/close-normal and pintos-solution/src/filesys/build/tests/userprog/close-normal differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-normal.d pintos-solution/src/filesys/build/tests/userprog/close-normal.d
--- aos_pintos/src/filesys/build/tests/userprog/close-normal.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-normal.d	2024-05-04 15:17:00.196000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/close-normal.o: ../../tests/userprog/close-normal.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/close-normal.o and pintos-solution/src/filesys/build/tests/userprog/close-normal.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-normal.output pintos-solution/src/filesys/build/tests/userprog/close-normal.output
--- aos_pintos/src/filesys/build/tests/userprog/close-normal.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-normal.output	2024-05-04 15:17:33.076000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/close-normal to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/dszTnLK2UW.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run close-normal
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  484,966,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'close-normal' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'close-normal':
+(close-normal) begin
+(close-normal) open "sample.txt"
+(close-normal) close "sample.txt"
+(close-normal) end
+close-normal: exit(0)
+Execution of 'close-normal' complete.
+Timer: 69 ticks
+Thread: 6 idle ticks, 64 kernel ticks, 0 user ticks
+hda2 (filesys): 94 reads, 288 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 1019 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-normal.result pintos-solution/src/filesys/build/tests/userprog/close-normal.result
--- aos_pintos/src/filesys/build/tests/userprog/close-normal.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-normal.result	2024-05-04 15:17:33.112000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/close-stdin and pintos-solution/src/filesys/build/tests/userprog/close-stdin differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdin.d pintos-solution/src/filesys/build/tests/userprog/close-stdin.d
--- aos_pintos/src/filesys/build/tests/userprog/close-stdin.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdin.d	2024-05-04 15:17:00.260000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/close-stdin.o: ../../tests/userprog/close-stdin.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/close-stdin.o and pintos-solution/src/filesys/build/tests/userprog/close-stdin.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdin.output pintos-solution/src/filesys/build/tests/userprog/close-stdin.output
--- aos_pintos/src/filesys/build/tests/userprog/close-stdin.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdin.output	2024-05-04 15:17:34.848000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/close-stdin to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Q1j9wYCFDK.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run close-stdin
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'close-stdin' into the file system...
+Erasing ustar archive...
+Executing 'close-stdin':
+(close-stdin) begin
+(close-stdin) end
+close-stdin: exit(0)
+Execution of 'close-stdin' complete.
+Timer: 70 ticks
+Thread: 5 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 900 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdin.result pintos-solution/src/filesys/build/tests/userprog/close-stdin.result
--- aos_pintos/src/filesys/build/tests/userprog/close-stdin.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdin.result	2024-05-04 15:17:34.880000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/close-stdout and pintos-solution/src/filesys/build/tests/userprog/close-stdout differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdout.d pintos-solution/src/filesys/build/tests/userprog/close-stdout.d
--- aos_pintos/src/filesys/build/tests/userprog/close-stdout.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdout.d	2024-05-04 15:17:00.288000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/close-stdout.o: ../../tests/userprog/close-stdout.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/close-stdout.o and pintos-solution/src/filesys/build/tests/userprog/close-stdout.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdout.output pintos-solution/src/filesys/build/tests/userprog/close-stdout.output
--- aos_pintos/src/filesys/build/tests/userprog/close-stdout.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdout.output	2024-05-04 15:17:35.736000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/close-stdout to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/wUtX9ND1jp.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run close-stdout
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'close-stdout' into the file system...
+Erasing ustar archive...
+Executing 'close-stdout':
+(close-stdout) begin
+(close-stdout) end
+close-stdout: exit(0)
+Execution of 'close-stdout' complete.
+Timer: 69 ticks
+Thread: 5 idle ticks, 64 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 907 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-stdout.result pintos-solution/src/filesys/build/tests/userprog/close-stdout.result
--- aos_pintos/src/filesys/build/tests/userprog/close-stdout.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-stdout.result	2024-05-04 15:17:35.764000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/close-twice and pintos-solution/src/filesys/build/tests/userprog/close-twice differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-twice.d pintos-solution/src/filesys/build/tests/userprog/close-twice.d
--- aos_pintos/src/filesys/build/tests/userprog/close-twice.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-twice.d	2024-05-04 15:17:00.228000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/close-twice.o: ../../tests/userprog/close-twice.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/close-twice.o and pintos-solution/src/filesys/build/tests/userprog/close-twice.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-twice.output pintos-solution/src/filesys/build/tests/userprog/close-twice.output
--- aos_pintos/src/filesys/build/tests/userprog/close-twice.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-twice.output	2024-05-04 15:17:33.940000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/close-twice to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/wqO6DhwLGA.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run close-twice
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  470,220,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'close-twice' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'close-twice':
+(close-twice) begin
+(close-twice) open "sample.txt"
+(close-twice) close "sample.txt"
+(close-twice) close "sample.txt" again
+(close-twice) end
+close-twice: exit(0)
+Execution of 'close-twice' complete.
+Timer: 67 ticks
+Thread: 7 idle ticks, 60 kernel ticks, 0 user ticks
+hda2 (filesys): 94 reads, 290 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 1049 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/close-twice.result pintos-solution/src/filesys/build/tests/userprog/close-twice.result
--- aos_pintos/src/filesys/build/tests/userprog/close-twice.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/close-twice.result	2024-05-04 15:17:33.980000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr and pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.d pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.d
--- aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.d	2024-05-04 15:16:59.848000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/create-bad-ptr.o: ../../tests/userprog/create-bad-ptr.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.o and pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.output pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.output
--- aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.output	2024-05-04 15:17:23.396000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/create-bad-ptr to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Js_npOLztz.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-bad-ptr
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  471,040,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-bad-ptr' into the file system...
+Erasing ustar archive...
+Executing 'create-bad-ptr':
+(create-bad-ptr) begin
+create-bad-ptr: exit(-1)
+Execution of 'create-bad-ptr' complete.
+Timer: 65 ticks
+Thread: 7 idle ticks, 57 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 901 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.result pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.result
--- aos_pintos/src/filesys/build/tests/userprog/create-bad-ptr.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bad-ptr.result	2024-05-04 15:17:23.432000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-bound and pintos-solution/src/filesys/build/tests/userprog/create-bound differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bound.d pintos-solution/src/filesys/build/tests/userprog/create-bound.d
--- aos_pintos/src/filesys/build/tests/userprog/create-bound.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bound.d	2024-05-04 15:16:59.944000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/create-bound.o: ../../tests/userprog/create-bound.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/boundary.h ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-bound.o and pintos-solution/src/filesys/build/tests/userprog/create-bound.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bound.output pintos-solution/src/filesys/build/tests/userprog/create-bound.output
--- aos_pintos/src/filesys/build/tests/userprog/create-bound.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bound.output	2024-05-04 15:17:26.056000000 +0000
@@ -0,0 +1,34 @@
+Copying tests/userprog/create-bound to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/23u1iqmlrI.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-bound
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  498,073,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-bound' into the file system...
+Erasing ustar archive...
+Executing 'create-bound':
+(create-bound) begin
+(create-bound) create("quux.dat"): 1
+(create-bound) end
+create-bound: exit(0)
+Execution of 'create-bound' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 63 kernel ticks, 0 user ticks
+hda2 (filesys): 86 reads, 292 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 944 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-bound.result pintos-solution/src/filesys/build/tests/userprog/create-bound.result
--- aos_pintos/src/filesys/build/tests/userprog/create-bound.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-bound.result	2024-05-04 15:17:26.088000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-empty and pintos-solution/src/filesys/build/tests/userprog/create-empty differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-empty.d pintos-solution/src/filesys/build/tests/userprog/create-empty.d
--- aos_pintos/src/filesys/build/tests/userprog/create-empty.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-empty.d	2024-05-04 15:16:59.780000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/create-empty.o: ../../tests/userprog/create-empty.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-empty.o and pintos-solution/src/filesys/build/tests/userprog/create-empty.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-empty.output pintos-solution/src/filesys/build/tests/userprog/create-empty.output
--- aos_pintos/src/filesys/build/tests/userprog/create-empty.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-empty.output	2024-05-04 15:17:21.652000000 +0000
@@ -0,0 +1,34 @@
+Copying tests/userprog/create-empty to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/p98MHmceYy.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-empty
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  467,763,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-empty' into the file system...
+Erasing ustar archive...
+Executing 'create-empty':
+(create-empty) begin
+(create-empty) create(""): 0
+(create-empty) end
+create-empty: exit(0)
+Execution of 'create-empty' complete.
+Timer: 66 ticks
+Thread: 7 idle ticks, 58 kernel ticks, 1 user ticks
+hda2 (filesys): 66 reads, 286 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 936 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-empty.result pintos-solution/src/filesys/build/tests/userprog/create-empty.result
--- aos_pintos/src/filesys/build/tests/userprog/create-empty.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-empty.result	2024-05-04 15:17:21.684000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-exists and pintos-solution/src/filesys/build/tests/userprog/create-exists differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-exists.d pintos-solution/src/filesys/build/tests/userprog/create-exists.d
--- aos_pintos/src/filesys/build/tests/userprog/create-exists.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-exists.d	2024-05-04 15:16:59.912000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/create-exists.o: ../../tests/userprog/create-exists.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-exists.o and pintos-solution/src/filesys/build/tests/userprog/create-exists.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-exists.output pintos-solution/src/filesys/build/tests/userprog/create-exists.output
--- aos_pintos/src/filesys/build/tests/userprog/create-exists.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-exists.output	2024-05-04 15:17:25.164000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/create-exists to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/tRVikHi6ZQ.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-exists
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  489,881,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 140 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-exists' into the file system...
+Erasing ustar archive...
+Executing 'create-exists':
+(create-exists) begin
+(create-exists) create quux.dat
+(create-exists) create warble.dat
+(create-exists) try to re-create quux.dat
+(create-exists) create baffle.dat
+(create-exists) try to re-create quux.dat
+(create-exists) end
+create-exists: exit(0)
+Execution of 'create-exists' complete.
+Timer: 68 ticks
+Thread: 5 idle ticks, 60 kernel ticks, 3 user ticks
+hda2 (filesys): 137 reads, 304 writes
+hda3 (scratch): 139 reads, 2 writes
+Console: 1099 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-exists.result pintos-solution/src/filesys/build/tests/userprog/create-exists.result
--- aos_pintos/src/filesys/build/tests/userprog/create-exists.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-exists.result	2024-05-04 15:17:25.200000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-long and pintos-solution/src/filesys/build/tests/userprog/create-long differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-long.d pintos-solution/src/filesys/build/tests/userprog/create-long.d
--- aos_pintos/src/filesys/build/tests/userprog/create-long.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-long.d	2024-05-04 15:16:59.876000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/create-long.o: ../../tests/userprog/create-long.c \
+ ../../lib/string.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-long.o and pintos-solution/src/filesys/build/tests/userprog/create-long.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-long.output pintos-solution/src/filesys/build/tests/userprog/create-long.output
--- aos_pintos/src/filesys/build/tests/userprog/create-long.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-long.output	2024-05-04 15:17:24.280000000 +0000
@@ -0,0 +1,34 @@
+Copying tests/userprog/create-long to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/k4CvIjNyBY.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-long
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  484,966,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-long' into the file system...
+Erasing ustar archive...
+Executing 'create-long':
+(create-long) begin
+(create-long) create("x..."): 0
+(create-long) end
+create-long: exit(0)
+Execution of 'create-long' complete.
+Timer: 68 ticks
+Thread: 5 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 66 reads, 286 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 932 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-long.result pintos-solution/src/filesys/build/tests/userprog/create-long.result
--- aos_pintos/src/filesys/build/tests/userprog/create-long.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-long.result	2024-05-04 15:17:24.316000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-normal and pintos-solution/src/filesys/build/tests/userprog/create-normal differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-normal.d pintos-solution/src/filesys/build/tests/userprog/create-normal.d
--- aos_pintos/src/filesys/build/tests/userprog/create-normal.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-normal.d	2024-05-04 15:16:59.744000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/create-normal.o: ../../tests/userprog/create-normal.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-normal.o and pintos-solution/src/filesys/build/tests/userprog/create-normal.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-normal.output pintos-solution/src/filesys/build/tests/userprog/create-normal.output
--- aos_pintos/src/filesys/build/tests/userprog/create-normal.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-normal.output	2024-05-04 15:17:20.796000000 +0000
@@ -0,0 +1,34 @@
+Copying tests/userprog/create-normal to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/5jac2DB2z4.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-normal
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  467,763,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-normal' into the file system...
+Erasing ustar archive...
+Executing 'create-normal':
+(create-normal) begin
+(create-normal) create quux.dat
+(create-normal) end
+create-normal: exit(0)
+Execution of 'create-normal' complete.
+Timer: 67 ticks
+Thread: 6 idle ticks, 61 kernel ticks, 0 user ticks
+hda2 (filesys): 85 reads, 286 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 946 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-normal.result pintos-solution/src/filesys/build/tests/userprog/create-normal.result
--- aos_pintos/src/filesys/build/tests/userprog/create-normal.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-normal.result	2024-05-04 15:17:20.832000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/create-null and pintos-solution/src/filesys/build/tests/userprog/create-null differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-null.d pintos-solution/src/filesys/build/tests/userprog/create-null.d
--- aos_pintos/src/filesys/build/tests/userprog/create-null.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-null.d	2024-05-04 15:16:59.812000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/create-null.o: ../../tests/userprog/create-null.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/create-null.o and pintos-solution/src/filesys/build/tests/userprog/create-null.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-null.output pintos-solution/src/filesys/build/tests/userprog/create-null.output
--- aos_pintos/src/filesys/build/tests/userprog/create-null.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-null.output	2024-05-04 15:17:22.532000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/create-null to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Iq0VAk4Zkc.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run create-null
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  456,294,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'create-null' into the file system...
+Erasing ustar archive...
+Executing 'create-null':
+(create-null) begin
+create-null: exit(-1)
+Execution of 'create-null' complete.
+Timer: 68 ticks
+Thread: 5 idle ticks, 63 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 883 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/create-null.result pintos-solution/src/filesys/build/tests/userprog/create-null.result
--- aos_pintos/src/filesys/build/tests/userprog/create-null.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/create-null.result	2024-05-04 15:17:22.568000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-arg and pintos-solution/src/filesys/build/tests/userprog/exec-arg differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-arg.d pintos-solution/src/filesys/build/tests/userprog/exec-arg.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-arg.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-arg.d	2024-05-04 15:17:00.772000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exec-arg.o: ../../tests/userprog/exec-arg.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-arg.o and pintos-solution/src/filesys/build/tests/userprog/exec-arg.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-arg.output pintos-solution/src/filesys/build/tests/userprog/exec-arg.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-arg.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-arg.output	2024-05-04 15:17:49.100000000 +0000
@@ -0,0 +1,42 @@
+Copying tests/userprog/exec-arg to scratch partition...
+Copying tests/userprog/child-args to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/XXgPtB0Np8.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-arg
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  488,243,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 275 sectors (137 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-arg' into the file system...
+Putting 'child-args' into the file system...
+Erasing ustar archive...
+Executing 'exec-arg':
+(exec-arg) begin
+(args) begin
+(args) argc = 2
+(args) argv[0] = 'child-args'
+(args) argv[1] = 'childarg'
+(args) argv[2] = null
+(args) end
+child-args: exit(0)
+(exec-arg) end
+exec-arg: exit(0)
+Execution of 'exec-arg' complete.
+Timer: 75 ticks
+Thread: 11 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 131 reads, 556 writes
+hda3 (scratch): 274 reads, 2 writes
+Console: 1067 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-arg.result pintos-solution/src/filesys/build/tests/userprog/exec-arg.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-arg.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-arg.result	2024-05-04 15:17:49.132000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr and pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.d pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.d	2024-05-04 15:17:00.956000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exec-bad-ptr.o: ../../tests/userprog/exec-bad-ptr.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.o and pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.output pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.output	2024-05-04 15:17:54.620000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/exec-bad-ptr to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/GUI3L2Z81X.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-bad-ptr
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 138 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-bad-ptr' into the file system...
+Erasing ustar archive...
+Executing 'exec-bad-ptr':
+(exec-bad-ptr) begin
+exec-bad-ptr: exit(-1)
+Execution of 'exec-bad-ptr' complete.
+Timer: 69 ticks
+Thread: 6 idle ticks, 64 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 280 writes
+hda3 (scratch): 137 reads, 2 writes
+Console: 889 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.result pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-bad-ptr.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bad-ptr.result	2024-05-04 15:17:54.656000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound and pintos-solution/src/filesys/build/tests/userprog/exec-bound differ
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound-2 and pintos-solution/src/filesys/build/tests/userprog/exec-bound-2 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.d pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.d	2024-05-04 15:17:00.832000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/exec-bound-2.o: ../../tests/userprog/exec-bound-2.c \
+ ../../lib/syscall-nr.h ../../tests/userprog/boundary.h ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.o and pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.output pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.output	2024-05-04 15:17:50.984000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/exec-bound-2 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/njwbeidpzR.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-bound-2
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  458,752,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-bound-2' into the file system...
+Erasing ustar archive...
+Executing 'exec-bound-2':
+(exec-bound-2) begin
+exec-bound-2: exit(-1)
+Execution of 'exec-bound-2' complete.
+Timer: 70 ticks
+Thread: 3 idle ticks, 67 kernel ticks, 0 user ticks
+hda2 (filesys): 66 reads, 290 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 889 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.result pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-2.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-2.result	2024-05-04 15:17:51.020000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound-3 and pintos-solution/src/filesys/build/tests/userprog/exec-bound-3 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.d pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.d	2024-05-04 15:17:00.860000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/exec-bound-3.o: ../../tests/userprog/exec-bound-3.c \
+ ../../lib/syscall-nr.h ../../tests/userprog/boundary.h ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.o and pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.output pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.output	2024-05-04 15:17:51.840000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/exec-bound-3 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/yU3oHR6_sg.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-bound-3
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  516,096,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-bound-3' into the file system...
+Erasing ustar archive...
+Executing 'exec-bound-3':
+(exec-bound-3) begin
+exec-bound-3: exit(-1)
+Execution of 'exec-bound-3' complete.
+Timer: 65 ticks
+Thread: 5 idle ticks, 60 kernel ticks, 0 user ticks
+hda2 (filesys): 66 reads, 290 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 889 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.result pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound-3.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound-3.result	2024-05-04 15:17:51.876000000 +0000
@@ -0,0 +1 @@
+PASS
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound.d pintos-solution/src/filesys/build/tests/userprog/exec-bound.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound.d	2024-05-04 15:17:00.800000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/exec-bound.o: ../../tests/userprog/exec-bound.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/boundary.h ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-bound.o and pintos-solution/src/filesys/build/tests/userprog/exec-bound.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound.output pintos-solution/src/filesys/build/tests/userprog/exec-bound.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound.output	2024-05-04 15:17:50.088000000 +0000
@@ -0,0 +1,43 @@
+Copying tests/userprog/exec-bound to scratch partition...
+Copying tests/userprog/child-args to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Lyh3VZL1pY.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-bound
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  629,145,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 278 sectors (139 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-bound' into the file system...
+Putting 'child-args' into the file system...
+Erasing ustar archive...
+Executing 'exec-bound':
+(exec-bound) begin
+(args) begin
+(args) argc = 3
+(args) argv[0] = 'child-args'
+(args) argv[1] = 'arg1'
+(args) argv[2] = 'arg2'
+(args) argv[3] = null
+(args) end
+child-args: exit(0)
+(exec-bound) end
+exec-bound: exit(0)
+Execution of 'exec-bound' complete.
+Timer: 79 ticks
+Thread: 10 idle ticks, 67 kernel ticks, 2 user ticks
+hda2 (filesys): 132 reads, 562 writes
+hda3 (scratch): 277 reads, 2 writes
+Console: 1101 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-bound.result pintos-solution/src/filesys/build/tests/userprog/exec-bound.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-bound.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-bound.result	2024-05-04 15:17:50.120000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-missing and pintos-solution/src/filesys/build/tests/userprog/exec-missing differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-missing.d pintos-solution/src/filesys/build/tests/userprog/exec-missing.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-missing.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-missing.d	2024-05-04 15:17:00.924000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exec-missing.o: ../../tests/userprog/exec-missing.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-missing.o and pintos-solution/src/filesys/build/tests/userprog/exec-missing.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-missing.output pintos-solution/src/filesys/build/tests/userprog/exec-missing.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-missing.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-missing.output	2024-05-04 15:17:53.720000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/exec-missing to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/W3aN8guN51.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-missing
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  466,944,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-missing' into the file system...
+Erasing ustar archive...
+Executing 'exec-missing':
+(exec-missing) begin
+load: no-such-file: open failed
+no-such-file: exit(-1)
+(exec-missing) exec("no-such-file"): -1
+(exec-missing) end
+exec-missing: exit(0)
+Execution of 'exec-missing' complete.
+Timer: 68 ticks
+Thread: 7 idle ticks, 60 kernel ticks, 1 user ticks
+hda2 (filesys): 99 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 1002 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-missing.result pintos-solution/src/filesys/build/tests/userprog/exec-missing.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-missing.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-missing.result	2024-05-04 15:17:53.756000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-multiple and pintos-solution/src/filesys/build/tests/userprog/exec-multiple differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-multiple.d pintos-solution/src/filesys/build/tests/userprog/exec-multiple.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-multiple.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-multiple.d	2024-05-04 15:17:00.896000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exec-multiple.o: ../../tests/userprog/exec-multiple.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-multiple.o and pintos-solution/src/filesys/build/tests/userprog/exec-multiple.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-multiple.output pintos-solution/src/filesys/build/tests/userprog/exec-multiple.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-multiple.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-multiple.output	2024-05-04 15:17:52.840000000 +0000
@@ -0,0 +1,43 @@
+Copying tests/userprog/exec-multiple to scratch partition...
+Copying tests/userprog/child-simple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/ZKumEMPmoU.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-multiple
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  629,145,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 274 sectors (137 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-multiple' into the file system...
+Putting 'child-simple' into the file system...
+Erasing ustar archive...
+Executing 'exec-multiple':
+(exec-multiple) begin
+(child-simple) run
+child-simple: exit(81)
+(child-simple) run
+child-simple: exit(81)
+(child-simple) run
+child-simple: exit(81)
+(child-simple) run
+child-simple: exit(81)
+(exec-multiple) end
+exec-multiple: exit(0)
+Execution of 'exec-multiple' complete.
+Timer: 80 ticks
+Thread: 11 idle ticks, 66 kernel ticks, 3 user ticks
+hda2 (filesys): 254 reads, 554 writes
+hda3 (scratch): 273 reads, 2 writes
+Console: 1132 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-multiple.result pintos-solution/src/filesys/build/tests/userprog/exec-multiple.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-multiple.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-multiple.result	2024-05-04 15:17:52.872000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-once and pintos-solution/src/filesys/build/tests/userprog/exec-once differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-once.d pintos-solution/src/filesys/build/tests/userprog/exec-once.d
--- aos_pintos/src/filesys/build/tests/userprog/exec-once.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-once.d	2024-05-04 15:17:00.740000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exec-once.o: ../../tests/userprog/exec-once.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exec-once.o and pintos-solution/src/filesys/build/tests/userprog/exec-once.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-once.output pintos-solution/src/filesys/build/tests/userprog/exec-once.output
--- aos_pintos/src/filesys/build/tests/userprog/exec-once.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-once.output	2024-05-04 15:17:48.152000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/exec-once to scratch partition...
+Copying tests/userprog/child-simple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/axjRdaMXBI.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exec-once
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  465,305,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 274 sectors (137 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exec-once' into the file system...
+Putting 'child-simple' into the file system...
+Erasing ustar archive...
+Executing 'exec-once':
+(exec-once) begin
+(child-simple) run
+child-simple: exit(81)
+(exec-once) end
+exec-once: exit(0)
+Execution of 'exec-once' complete.
+Timer: 76 ticks
+Thread: 11 idle ticks, 63 kernel ticks, 2 user ticks
+hda2 (filesys): 131 reads, 554 writes
+hda3 (scratch): 273 reads, 2 writes
+Console: 978 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exec-once.result pintos-solution/src/filesys/build/tests/userprog/exec-once.result
--- aos_pintos/src/filesys/build/tests/userprog/exec-once.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exec-once.result	2024-05-04 15:17:48.184000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/exit and pintos-solution/src/filesys/build/tests/userprog/exit differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exit.d pintos-solution/src/filesys/build/tests/userprog/exit.d
--- aos_pintos/src/filesys/build/tests/userprog/exit.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exit.d	2024-05-04 15:16:59.716000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/exit.o: ../../tests/userprog/exit.c ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/exit.o and pintos-solution/src/filesys/build/tests/userprog/exit.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exit.output pintos-solution/src/filesys/build/tests/userprog/exit.output
--- aos_pintos/src/filesys/build/tests/userprog/exit.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exit.output	2024-05-04 15:17:19.936000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/exit to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/opbOr4z6BW.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run exit
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  474,316,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'exit' into the file system...
+Erasing ustar archive...
+Executing 'exit':
+(exit) begin
+exit: exit(57)
+Execution of 'exit' complete.
+Timer: 69 ticks
+Thread: 6 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 841 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/exit.result pintos-solution/src/filesys/build/tests/userprog/exit.result
--- aos_pintos/src/filesys/build/tests/userprog/exit.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/exit.result	2024-05-04 15:17:19.968000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/halt and pintos-solution/src/filesys/build/tests/userprog/halt differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/halt.d pintos-solution/src/filesys/build/tests/userprog/halt.d
--- aos_pintos/src/filesys/build/tests/userprog/halt.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/halt.d	2024-05-04 15:16:59.684000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/halt.o: ../../tests/userprog/halt.c ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/halt.o and pintos-solution/src/filesys/build/tests/userprog/halt.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/halt.output pintos-solution/src/filesys/build/tests/userprog/halt.output
--- aos_pintos/src/filesys/build/tests/userprog/halt.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/halt.output	2024-05-04 15:17:19.052000000 +0000
@@ -0,0 +1,30 @@
+Copying tests/userprog/halt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/7J2cjLaZeD.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run halt
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  456,294,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'halt' into the file system...
+Erasing ustar archive...
+Executing 'halt':
+(halt) begin
+Timer: 68 ticks
+Thread: 6 idle ticks, 62 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 796 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/halt.result pintos-solution/src/filesys/build/tests/userprog/halt.result
--- aos_pintos/src/filesys/build/tests/userprog/halt.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/halt.result	2024-05-04 15:17:19.084000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/multi-child-fd and pintos-solution/src/filesys/build/tests/userprog/multi-child-fd differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.d pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.d
--- aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.d	2024-05-04 15:17:01.148000000 +0000
@@ -0,0 +1,5 @@
+tests/userprog/multi-child-fd.o: ../../tests/userprog/multi-child-fd.c \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.o and pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.output pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.output
--- aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.output	2024-05-04 15:18:00.368000000 +0000
@@ -0,0 +1,43 @@
+Copying tests/userprog/multi-child-fd to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+Copying tests/userprog/child-close to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/b2My5qdJ5V.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run multi-child-fd
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  441,548,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 292 sectors (146 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'multi-child-fd' into the file system...
+Putting 'sample.txt' into the file system...
+Putting 'child-close' into the file system...
+Erasing ustar archive...
+Executing 'multi-child-fd':
+(multi-child-fd) begin
+(multi-child-fd) open "sample.txt"
+(child-close) begin
+(child-close) end
+child-close: exit(0)
+(multi-child-fd) wait(exec()) = 0
+(multi-child-fd) verified contents of "sample.txt"
+(multi-child-fd) end
+multi-child-fd: exit(0)
+Execution of 'multi-child-fd' complete.
+Timer: 76 ticks
+Thread: 11 idle ticks, 63 kernel ticks, 2 user ticks
+hda2 (filesys): 162 reads, 592 writes
+hda3 (scratch): 291 reads, 2 writes
+Console: 1194 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.result pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.result
--- aos_pintos/src/filesys/build/tests/userprog/multi-child-fd.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-child-fd.result	2024-05-04 15:18:00.404000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/multi-recurse and pintos-solution/src/filesys/build/tests/userprog/multi-recurse differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-recurse.d pintos-solution/src/filesys/build/tests/userprog/multi-recurse.d
--- aos_pintos/src/filesys/build/tests/userprog/multi-recurse.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-recurse.d	2024-05-04 15:17:01.116000000 +0000
@@ -0,0 +1,5 @@
+tests/userprog/multi-recurse.o: ../../tests/userprog/multi-recurse.c \
+ ../../lib/debug.h ../../lib/stdlib.h ../../lib/stddef.h \
+ ../../lib/stdio.h ../../lib/stdarg.h ../../lib/stdbool.h \
+ ../../lib/stdint.h ../../lib/user/stdio.h ../../lib/user/syscall.h \
+ ../../tests/lib.h
Binary files aos_pintos/src/filesys/build/tests/userprog/multi-recurse.o and pintos-solution/src/filesys/build/tests/userprog/multi-recurse.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-recurse.output pintos-solution/src/filesys/build/tests/userprog/multi-recurse.output
--- aos_pintos/src/filesys/build/tests/userprog/multi-recurse.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-recurse.output	2024-05-04 15:17:59.408000000 +0000
@@ -0,0 +1,93 @@
+Copying tests/userprog/multi-recurse to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/1HpBClRa86.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run 'multi-recurse 15'
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  467,763,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 152 sectors (76 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'multi-recurse' into the file system...
+Erasing ustar archive...
+Executing 'multi-recurse 15':
+(multi-recurse) begin 15
+(multi-recurse) exec("multi-recurse 14")
+(multi-recurse) begin 14
+(multi-recurse) exec("multi-recurse 13")
+(multi-recurse) begin 13
+(multi-recurse) exec("multi-recurse 12")
+(multi-recurse) begin 12
+(multi-recurse) exec("multi-recurse 11")
+(multi-recurse) begin 11
+(multi-recurse) exec("multi-recurse 10")
+(multi-recurse) begin 10
+(multi-recurse) exec("multi-recurse 9")
+(multi-recurse) begin 9
+(multi-recurse) exec("multi-recurse 8")
+(multi-recurse) begin 8
+(multi-recurse) exec("multi-recurse 7")
+(multi-recurse) begin 7
+(multi-recurse) exec("multi-recurse 6")
+(multi-recurse) begin 6
+(multi-recurse) exec("multi-recurse 5")
+(multi-recurse) begin 5
+(multi-recurse) exec("multi-recurse 4")
+(multi-recurse) begin 4
+(multi-recurse) exec("multi-recurse 3")
+(multi-recurse) begin 3
+(multi-recurse) exec("multi-recurse 2")
+(multi-recurse) begin 2
+(multi-recurse) exec("multi-recurse 1")
+(multi-recurse) begin 1
+(multi-recurse) exec("multi-recurse 0")
+(multi-recurse) begin 0
+(multi-recurse) end 0
+multi-recurse: exit(0)
+(multi-recurse) end 1
+multi-recurse: exit(1)
+(multi-recurse) end 2
+multi-recurse: exit(2)
+(multi-recurse) end 3
+multi-recurse: exit(3)
+(multi-recurse) end 4
+multi-recurse: exit(4)
+(multi-recurse) end 5
+multi-recurse: exit(5)
+(multi-recurse) end 6
+multi-recurse: exit(6)
+(multi-recurse) end 7
+multi-recurse: exit(7)
+(multi-recurse) end 8
+multi-recurse: exit(8)
+(multi-recurse) end 9
+multi-recurse: exit(9)
+(multi-recurse) end 10
+multi-recurse: exit(10)
+(multi-recurse) end 11
+multi-recurse: exit(11)
+(multi-recurse) end 12
+multi-recurse: exit(12)
+(multi-recurse) end 13
+multi-recurse: exit(13)
+(multi-recurse) end 14
+multi-recurse: exit(14)
+(multi-recurse) end 15
+multi-recurse: exit(15)
+Execution of 'multi-recurse 15' complete.
+Timer: 88 ticks
+Thread: 16 idle ticks, 60 kernel ticks, 12 user ticks
+hda2 (filesys): 603 reads, 308 writes
+hda3 (scratch): 151 reads, 2 writes
+Console: 2590 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/multi-recurse.result pintos-solution/src/filesys/build/tests/userprog/multi-recurse.result
--- aos_pintos/src/filesys/build/tests/userprog/multi-recurse.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/multi-recurse.result	2024-05-04 15:17:59.444000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr and pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.d pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.d
--- aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.d	2024-05-04 15:17:00.128000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-bad-ptr.o: ../../tests/userprog/open-bad-ptr.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.o and pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.output pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.output
--- aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.output	2024-05-04 15:17:31.292000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/open-bad-ptr to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Cfh8rcjEaz.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-bad-ptr
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  576,716,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-bad-ptr' into the file system...
+Erasing ustar archive...
+Executing 'open-bad-ptr':
+(open-bad-ptr) begin
+open-bad-ptr: exit(-1)
+Execution of 'open-bad-ptr' complete.
+Timer: 69 ticks
+Thread: 5 idle ticks, 63 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 889 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.result pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.result
--- aos_pintos/src/filesys/build/tests/userprog/open-bad-ptr.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-bad-ptr.result	2024-05-04 15:17:31.328000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-boundary and pintos-solution/src/filesys/build/tests/userprog/open-boundary differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-boundary.d pintos-solution/src/filesys/build/tests/userprog/open-boundary.d
--- aos_pintos/src/filesys/build/tests/userprog/open-boundary.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-boundary.d	2024-05-04 15:17:00.040000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/open-boundary.o: ../../tests/userprog/open-boundary.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/boundary.h ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-boundary.o and pintos-solution/src/filesys/build/tests/userprog/open-boundary.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-boundary.output pintos-solution/src/filesys/build/tests/userprog/open-boundary.output
--- aos_pintos/src/filesys/build/tests/userprog/open-boundary.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-boundary.output	2024-05-04 15:17:28.696000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/open-boundary to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/ZhDT8lCka_.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-boundary
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  526,745,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 144 sectors (72 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-boundary' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'open-boundary':
+(open-boundary) begin
+(open-boundary) open "sample.txt"
+(open-boundary) end
+open-boundary: exit(0)
+Execution of 'open-boundary' complete.
+Timer: 70 ticks
+Thread: 6 idle ticks, 62 kernel ticks, 2 user ticks
+hda2 (filesys): 95 reads, 294 writes
+hda3 (scratch): 143 reads, 2 writes
+Console: 993 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-boundary.result pintos-solution/src/filesys/build/tests/userprog/open-boundary.result
--- aos_pintos/src/filesys/build/tests/userprog/open-boundary.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-boundary.result	2024-05-04 15:17:28.732000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-empty and pintos-solution/src/filesys/build/tests/userprog/open-empty differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-empty.d pintos-solution/src/filesys/build/tests/userprog/open-empty.d
--- aos_pintos/src/filesys/build/tests/userprog/open-empty.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-empty.d	2024-05-04 15:17:00.064000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-empty.o: ../../tests/userprog/open-empty.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-empty.o and pintos-solution/src/filesys/build/tests/userprog/open-empty.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-empty.output pintos-solution/src/filesys/build/tests/userprog/open-empty.output
--- aos_pintos/src/filesys/build/tests/userprog/open-empty.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-empty.output	2024-05-04 15:17:29.576000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/open-empty to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/gO69LzKHzy.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-empty
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  459,571,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-empty' into the file system...
+Erasing ustar archive...
+Executing 'open-empty':
+(open-empty) begin
+(open-empty) end
+open-empty: exit(0)
+Execution of 'open-empty' complete.
+Timer: 68 ticks
+Thread: 4 idle ticks, 63 kernel ticks, 1 user ticks
+hda2 (filesys): 82 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 893 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-empty.result pintos-solution/src/filesys/build/tests/userprog/open-empty.result
--- aos_pintos/src/filesys/build/tests/userprog/open-empty.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-empty.result	2024-05-04 15:17:29.612000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-missing and pintos-solution/src/filesys/build/tests/userprog/open-missing differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-missing.d pintos-solution/src/filesys/build/tests/userprog/open-missing.d
--- aos_pintos/src/filesys/build/tests/userprog/open-missing.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-missing.d	2024-05-04 15:17:00.004000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-missing.o: ../../tests/userprog/open-missing.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-missing.o and pintos-solution/src/filesys/build/tests/userprog/open-missing.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-missing.output pintos-solution/src/filesys/build/tests/userprog/open-missing.output
--- aos_pintos/src/filesys/build/tests/userprog/open-missing.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-missing.output	2024-05-04 15:17:27.796000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/open-missing to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Geb1Ntfgy2.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-missing
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  477,593,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-missing' into the file system...
+Erasing ustar archive...
+Executing 'open-missing':
+(open-missing) begin
+(open-missing) end
+open-missing: exit(0)
+Execution of 'open-missing' complete.
+Timer: 68 ticks
+Thread: 5 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 82 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 907 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-missing.result pintos-solution/src/filesys/build/tests/userprog/open-missing.result
--- aos_pintos/src/filesys/build/tests/userprog/open-missing.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-missing.result	2024-05-04 15:17:27.828000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-normal and pintos-solution/src/filesys/build/tests/userprog/open-normal differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-normal.d pintos-solution/src/filesys/build/tests/userprog/open-normal.d
--- aos_pintos/src/filesys/build/tests/userprog/open-normal.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-normal.d	2024-05-04 15:16:59.976000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-normal.o: ../../tests/userprog/open-normal.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-normal.o and pintos-solution/src/filesys/build/tests/userprog/open-normal.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-normal.output pintos-solution/src/filesys/build/tests/userprog/open-normal.output
--- aos_pintos/src/filesys/build/tests/userprog/open-normal.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-normal.output	2024-05-04 15:17:26.916000000 +0000
@@ -0,0 +1,35 @@
+Copying tests/userprog/open-normal to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/IlJASoSKXW.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-normal
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  496,435,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-normal' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'open-normal':
+(open-normal) begin
+(open-normal) end
+open-normal: exit(0)
+Execution of 'open-normal' complete.
+Timer: 66 ticks
+Thread: 9 idle ticks, 57 kernel ticks, 0 user ticks
+hda2 (filesys): 94 reads, 288 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 945 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-normal.result pintos-solution/src/filesys/build/tests/userprog/open-normal.result
--- aos_pintos/src/filesys/build/tests/userprog/open-normal.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-normal.result	2024-05-04 15:17:26.952000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-null and pintos-solution/src/filesys/build/tests/userprog/open-null differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-null.d pintos-solution/src/filesys/build/tests/userprog/open-null.d
--- aos_pintos/src/filesys/build/tests/userprog/open-null.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-null.d	2024-05-04 15:17:00.100000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-null.o: ../../tests/userprog/open-null.c \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../lib/stdbool.h \
+ ../../lib/debug.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-null.o and pintos-solution/src/filesys/build/tests/userprog/open-null.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-null.output pintos-solution/src/filesys/build/tests/userprog/open-null.output
--- aos_pintos/src/filesys/build/tests/userprog/open-null.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-null.output	2024-05-04 15:17:30.404000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/open-null to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/goojqr5KPe.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-null
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  353,484,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-null' into the file system...
+Erasing ustar archive...
+Executing 'open-null':
+(open-null) begin
+open-null: exit(-1)
+Execution of 'open-null' complete.
+Timer: 62 ticks
+Thread: 5 idle ticks, 56 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 871 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-null.result pintos-solution/src/filesys/build/tests/userprog/open-null.result
--- aos_pintos/src/filesys/build/tests/userprog/open-null.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-null.result	2024-05-04 15:17:30.436000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/open-twice and pintos-solution/src/filesys/build/tests/userprog/open-twice differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-twice.d pintos-solution/src/filesys/build/tests/userprog/open-twice.d
--- aos_pintos/src/filesys/build/tests/userprog/open-twice.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-twice.d	2024-05-04 15:17:00.160000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/open-twice.o: ../../tests/userprog/open-twice.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/open-twice.o and pintos-solution/src/filesys/build/tests/userprog/open-twice.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-twice.output pintos-solution/src/filesys/build/tests/userprog/open-twice.output
--- aos_pintos/src/filesys/build/tests/userprog/open-twice.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-twice.output	2024-05-04 15:17:32.184000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/open-twice to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/g9vMZh721r.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run open-twice
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  475,136,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'open-twice' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'open-twice':
+(open-twice) begin
+(open-twice) open "sample.txt" once
+(open-twice) open "sample.txt" again
+(open-twice) end
+open-twice: exit(0)
+Execution of 'open-twice' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 62 kernel ticks, 0 user ticks
+hda2 (filesys): 104 reads, 290 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 1012 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/open-twice.result pintos-solution/src/filesys/build/tests/userprog/open-twice.result
--- aos_pintos/src/filesys/build/tests/userprog/open-twice.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/open-twice.result	2024-05-04 15:17:32.216000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-bad-fd and pintos-solution/src/filesys/build/tests/userprog/read-bad-fd differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.d pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.d
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.d	2024-05-04 15:17:00.512000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/read-bad-fd.o: ../../tests/userprog/read-bad-fd.c \
+ ../../lib/limits.h ../../lib/user/syscall.h ../../lib/stdbool.h \
+ ../../lib/debug.h ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.o and pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.output pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.output
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.output	2024-05-04 15:17:41.912000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/read-bad-fd to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/A5mlp1Pacq.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-bad-fd
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  471,859,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-bad-fd' into the file system...
+Erasing ustar archive...
+Executing 'read-bad-fd':
+(read-bad-fd) begin
+(read-bad-fd) end
+read-bad-fd: exit(0)
+Execution of 'read-bad-fd' complete.
+Timer: 70 ticks
+Thread: 4 idle ticks, 66 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 286 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 900 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.result pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.result
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-fd.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-fd.result	2024-05-04 15:17:41.944000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr and pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.d pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.d
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.d	2024-05-04 15:17:00.380000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/read-bad-ptr.o: ../../tests/userprog/read-bad-ptr.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.o and pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.output pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.output
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.output	2024-05-04 15:17:38.412000000 +0000
@@ -0,0 +1,35 @@
+Copying tests/userprog/read-bad-ptr to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/5ha1JFyIXN.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-bad-ptr
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  477,593,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-bad-ptr' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'read-bad-ptr':
+(read-bad-ptr) begin
+(read-bad-ptr) open "sample.txt"
+read-bad-ptr: exit(-1)
+Execution of 'read-bad-ptr' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 61 kernel ticks, 1 user ticks
+hda2 (filesys): 94 reads, 288 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 967 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.result pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.result
--- aos_pintos/src/filesys/build/tests/userprog/read-bad-ptr.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-bad-ptr.result	2024-05-04 15:17:38.444000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-boundary and pintos-solution/src/filesys/build/tests/userprog/read-boundary differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-boundary.d pintos-solution/src/filesys/build/tests/userprog/read-boundary.d
--- aos_pintos/src/filesys/build/tests/userprog/read-boundary.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-boundary.d	2024-05-04 15:17:00.416000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/read-boundary.o: ../../tests/userprog/read-boundary.c \
+ ../../lib/string.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/userprog/boundary.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-boundary.o and pintos-solution/src/filesys/build/tests/userprog/read-boundary.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-boundary.output pintos-solution/src/filesys/build/tests/userprog/read-boundary.output
--- aos_pintos/src/filesys/build/tests/userprog/read-boundary.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-boundary.output	2024-05-04 15:17:39.216000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/read-boundary to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/yjUDtdRSAN.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-boundary
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  209,510,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 147 sectors (73 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-boundary' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'read-boundary':
+(read-boundary) begin
+(read-boundary) open "sample.txt"
+(read-boundary) end
+read-boundary: exit(0)
+Execution of 'read-boundary' complete.
+Timer: 61 ticks
+Thread: 8 idle ticks, 53 kernel ticks, 0 user ticks
+hda2 (filesys): 98 reads, 300 writes
+hda3 (scratch): 146 reads, 2 writes
+Console: 993 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-boundary.result pintos-solution/src/filesys/build/tests/userprog/read-boundary.result
--- aos_pintos/src/filesys/build/tests/userprog/read-boundary.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-boundary.result	2024-05-04 15:17:39.248000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-normal and pintos-solution/src/filesys/build/tests/userprog/read-normal differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-normal.d pintos-solution/src/filesys/build/tests/userprog/read-normal.d
--- aos_pintos/src/filesys/build/tests/userprog/read-normal.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-normal.d	2024-05-04 15:17:00.348000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/read-normal.o: ../../tests/userprog/read-normal.c \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../lib/debug.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-normal.o and pintos-solution/src/filesys/build/tests/userprog/read-normal.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-normal.output pintos-solution/src/filesys/build/tests/userprog/read-normal.output
--- aos_pintos/src/filesys/build/tests/userprog/read-normal.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-normal.output	2024-05-04 15:17:37.520000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/read-normal to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/U23xI2NG7Z.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-normal
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  528,384,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-normal' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'read-normal':
+(read-normal) begin
+(read-normal) open "sample.txt" for verification
+(read-normal) verified contents of "sample.txt"
+(read-normal) close "sample.txt"
+(read-normal) end
+read-normal: exit(0)
+Execution of 'read-normal' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 61 kernel ticks, 1 user ticks
+hda2 (filesys): 96 reads, 290 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 1075 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-normal.result pintos-solution/src/filesys/build/tests/userprog/read-normal.result
--- aos_pintos/src/filesys/build/tests/userprog/read-normal.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-normal.result	2024-05-04 15:17:37.552000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-stdout and pintos-solution/src/filesys/build/tests/userprog/read-stdout differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-stdout.d pintos-solution/src/filesys/build/tests/userprog/read-stdout.d
--- aos_pintos/src/filesys/build/tests/userprog/read-stdout.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-stdout.d	2024-05-04 15:17:00.480000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/read-stdout.o: ../../tests/userprog/read-stdout.c \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../lib/user/stdio.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-stdout.o and pintos-solution/src/filesys/build/tests/userprog/read-stdout.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-stdout.output pintos-solution/src/filesys/build/tests/userprog/read-stdout.output
--- aos_pintos/src/filesys/build/tests/userprog/read-stdout.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-stdout.output	2024-05-04 15:17:41.016000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/read-stdout to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/JEqPbLUZWl.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-stdout
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  428,441,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-stdout' into the file system...
+Erasing ustar archive...
+Executing 'read-stdout':
+(read-stdout) begin
+(read-stdout) end
+read-stdout: exit(0)
+Execution of 'read-stdout' complete.
+Timer: 68 ticks
+Thread: 7 idle ticks, 60 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 900 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-stdout.result pintos-solution/src/filesys/build/tests/userprog/read-stdout.result
--- aos_pintos/src/filesys/build/tests/userprog/read-stdout.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-stdout.result	2024-05-04 15:17:41.048000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/read-zero and pintos-solution/src/filesys/build/tests/userprog/read-zero differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-zero.d pintos-solution/src/filesys/build/tests/userprog/read-zero.d
--- aos_pintos/src/filesys/build/tests/userprog/read-zero.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-zero.d	2024-05-04 15:17:00.448000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/read-zero.o: ../../tests/userprog/read-zero.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/read-zero.o and pintos-solution/src/filesys/build/tests/userprog/read-zero.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-zero.output pintos-solution/src/filesys/build/tests/userprog/read-zero.output
--- aos_pintos/src/filesys/build/tests/userprog/read-zero.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-zero.output	2024-05-04 15:17:40.136000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/read-zero to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/9_a3G03FvR.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run read-zero
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'read-zero' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'read-zero':
+(read-zero) begin
+(read-zero) open "sample.txt"
+(read-zero) end
+read-zero: exit(0)
+Execution of 'read-zero' complete.
+Timer: 73 ticks
+Thread: 8 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 94 reads, 290 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 961 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/read-zero.result pintos-solution/src/filesys/build/tests/userprog/read-zero.result
--- aos_pintos/src/filesys/build/tests/userprog/read-zero.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/read-zero.result	2024-05-04 15:17:40.172000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-child and pintos-solution/src/filesys/build/tests/userprog/rox-child differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-child.d pintos-solution/src/filesys/build/tests/userprog/rox-child.d
--- aos_pintos/src/filesys/build/tests/userprog/rox-child.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-child.d	2024-05-04 15:17:01.216000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/rox-child.o: ../../tests/userprog/rox-child.c \
+ ../../tests/userprog/rox-child.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-child.o and pintos-solution/src/filesys/build/tests/userprog/rox-child.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-child.output pintos-solution/src/filesys/build/tests/userprog/rox-child.output
--- aos_pintos/src/filesys/build/tests/userprog/rox-child.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-child.output	2024-05-04 15:18:02.248000000 +0000
@@ -0,0 +1,45 @@
+Copying tests/userprog/rox-child to scratch partition...
+Copying tests/userprog/child-rox to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/Kdgf6JhXUL.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run rox-child
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  629,145,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 293 sectors (146 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'rox-child' into the file system...
+Putting 'child-rox' into the file system...
+Erasing ustar archive...
+Executing 'rox-child':
+(rox-child) begin
+(rox-child) open "child-rox"
+(rox-child) read "child-rox"
+(rox-child) write "child-rox"
+(rox-child) exec "child-rox 1"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(rox-child) write "child-rox"
+(rox-child) end
+rox-child: exit(0)
+Execution of 'rox-child' complete.
+Timer: 78 ticks
+Thread: 13 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 143 reads, 594 writes
+hda3 (scratch): 292 reads, 2 writes
+Console: 1210 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-child.result pintos-solution/src/filesys/build/tests/userprog/rox-child.result
--- aos_pintos/src/filesys/build/tests/userprog/rox-child.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-child.result	2024-05-04 15:18:02.280000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-multichild and pintos-solution/src/filesys/build/tests/userprog/rox-multichild differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-multichild.d pintos-solution/src/filesys/build/tests/userprog/rox-multichild.d
--- aos_pintos/src/filesys/build/tests/userprog/rox-multichild.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-multichild.d	2024-05-04 15:17:01.248000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/rox-multichild.o: ../../tests/userprog/rox-multichild.c \
+ ../../tests/userprog/rox-child.inc ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/lib.h \
+ ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-multichild.o and pintos-solution/src/filesys/build/tests/userprog/rox-multichild.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-multichild.output pintos-solution/src/filesys/build/tests/userprog/rox-multichild.output
--- aos_pintos/src/filesys/build/tests/userprog/rox-multichild.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-multichild.output	2024-05-04 15:18:03.264000000 +0000
@@ -0,0 +1,69 @@
+Copying tests/userprog/rox-multichild to scratch partition...
+Copying tests/userprog/child-rox to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/tjc0XeM9rI.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run rox-multichild
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  471,040,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 293 sectors (146 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'rox-multichild' into the file system...
+Putting 'child-rox' into the file system...
+Erasing ustar archive...
+Executing 'rox-multichild':
+(rox-multichild) begin
+(rox-multichild) open "child-rox"
+(rox-multichild) read "child-rox"
+(rox-multichild) write "child-rox"
+(rox-multichild) exec "child-rox 5"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) exec "child-rox 4"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) exec "child-rox 3"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) exec "child-rox 2"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) exec "child-rox 1"
+(child-rox) begin
+(child-rox) try to write "child-rox"
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(child-rox) try to write "child-rox"
+(child-rox) end
+child-rox: exit(12)
+(rox-multichild) write "child-rox"
+(rox-multichild) end
+rox-multichild: exit(0)
+Execution of 'rox-multichild' complete.
+Timer: 82 ticks
+Thread: 17 idle ticks, 58 kernel ticks, 7 user ticks
+hda2 (filesys): 319 reads, 594 writes
+hda3 (scratch): 292 reads, 2 writes
+Console: 1906 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-multichild.result pintos-solution/src/filesys/build/tests/userprog/rox-multichild.result
--- aos_pintos/src/filesys/build/tests/userprog/rox-multichild.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-multichild.result	2024-05-04 15:18:03.300000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-simple and pintos-solution/src/filesys/build/tests/userprog/rox-simple differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-simple.d pintos-solution/src/filesys/build/tests/userprog/rox-simple.d
--- aos_pintos/src/filesys/build/tests/userprog/rox-simple.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-simple.d	2024-05-04 15:17:01.180000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/rox-simple.o: ../../tests/userprog/rox-simple.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/rox-simple.o and pintos-solution/src/filesys/build/tests/userprog/rox-simple.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-simple.output pintos-solution/src/filesys/build/tests/userprog/rox-simple.output
--- aos_pintos/src/filesys/build/tests/userprog/rox-simple.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-simple.output	2024-05-04 15:18:01.264000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/rox-simple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/L_MirUfHPf.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run rox-simple
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  498,892,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 140 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'rox-simple' into the file system...
+Erasing ustar archive...
+Executing 'rox-simple':
+(rox-simple) begin
+(rox-simple) open "rox-simple"
+(rox-simple) read "rox-simple"
+(rox-simple) try to write "rox-simple"
+(rox-simple) end
+rox-simple: exit(0)
+Execution of 'rox-simple' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 60 kernel ticks, 2 user ticks
+hda2 (filesys): 69 reads, 284 writes
+hda3 (scratch): 139 reads, 2 writes
+Console: 994 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/rox-simple.result pintos-solution/src/filesys/build/tests/userprog/rox-simple.result
--- aos_pintos/src/filesys/build/tests/userprog/rox-simple.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/rox-simple.result	2024-05-04 15:18:01.300000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg and pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.d pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.d
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.d	2024-05-04 15:16:59.532000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sc-bad-arg.o: ../../tests/userprog/sc-bad-arg.c \
+ ../../lib/syscall-nr.h ../../tests/lib.h ../../lib/debug.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.o and pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.output pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.output
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.output	2024-05-04 15:17:15.616000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/sc-bad-arg to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/kcOY9iam3g.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sc-bad-arg
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  209,510,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sc-bad-arg' into the file system...
+Erasing ustar archive...
+Executing 'sc-bad-arg':
+(sc-bad-arg) begin
+sc-bad-arg: exit(-1)
+Execution of 'sc-bad-arg' complete.
+Timer: 59 ticks
+Thread: 4 idle ticks, 54 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 877 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.result pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.result
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-arg.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-arg.result	2024-05-04 15:17:15.652000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp and pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.d pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.d
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.d	2024-05-04 15:16:59.480000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/sc-bad-sp.o: ../../tests/userprog/sc-bad-sp.c \
+ ../../tests/lib.h ../../lib/debug.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.o and pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.output pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.output
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.output	2024-05-04 15:17:14.828000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/sc-bad-sp to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/JpIoT98CJN.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sc-bad-sp
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  419,020,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sc-bad-sp' into the file system...
+Erasing ustar archive...
+Executing 'sc-bad-sp':
+(sc-bad-sp) begin
+sc-bad-sp: exit(-1)
+Execution of 'sc-bad-sp' complete.
+Timer: 60 ticks
+Thread: 5 idle ticks, 54 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 871 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.result pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.result
--- aos_pintos/src/filesys/build/tests/userprog/sc-bad-sp.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-bad-sp.result	2024-05-04 15:17:14.860000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary and pintos-solution/src/filesys/build/tests/userprog/sc-boundary differ
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2 and pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.d pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.d
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.d	2024-05-04 15:16:59.620000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sc-boundary-2.o: ../../tests/userprog/sc-boundary-2.c \
+ ../../lib/syscall-nr.h ../../tests/userprog/boundary.h ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.o and pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.output pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.output
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.output	2024-05-04 15:17:17.320000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/sc-boundary-2 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/bkh8OvPO5G.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sc-boundary-2
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  476,774,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sc-boundary-2' into the file system...
+Erasing ustar archive...
+Executing 'sc-boundary-2':
+(sc-boundary-2) begin
+sc-boundary-2: exit(67)
+Execution of 'sc-boundary-2' complete.
+Timer: 68 ticks
+Thread: 4 idle ticks, 63 kernel ticks, 1 user ticks
+hda2 (filesys): 66 reads, 290 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 895 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.result pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.result
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-2.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-2.result	2024-05-04 15:17:17.356000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3 and pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3 differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.d pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.d
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.d	2024-05-04 15:16:59.656000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sc-boundary-3.o: ../../tests/userprog/sc-boundary-3.c \
+ ../../lib/syscall-nr.h ../../tests/userprog/boundary.h ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.o and pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.output pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.output
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.output	2024-05-04 15:17:18.180000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/sc-boundary-3 to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/nsfOpUnG9t.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sc-boundary-3
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  483,328,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sc-boundary-3' into the file system...
+Erasing ustar archive...
+Executing 'sc-boundary-3':
+(sc-boundary-3) begin
+sc-boundary-3: exit(-1)
+Execution of 'sc-boundary-3' complete.
+Timer: 66 ticks
+Thread: 6 idle ticks, 60 kernel ticks, 0 user ticks
+hda2 (filesys): 66 reads, 288 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 895 characters output
+Keyboard: 0 keys pressed
+Exception: 1 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.result pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.result
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary-3.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary-3.result	2024-05-04 15:17:18.212000000 +0000
@@ -0,0 +1 @@
+PASS
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary.d pintos-solution/src/filesys/build/tests/userprog/sc-boundary.d
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary.d	2024-05-04 15:16:59.560000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sc-boundary.o: ../../tests/userprog/sc-boundary.c \
+ ../../lib/syscall-nr.h ../../tests/userprog/boundary.h ../../tests/lib.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/user/syscall.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sc-boundary.o and pintos-solution/src/filesys/build/tests/userprog/sc-boundary.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary.output pintos-solution/src/filesys/build/tests/userprog/sc-boundary.output
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary.output	2024-05-04 15:17:16.448000000 +0000
@@ -0,0 +1,32 @@
+Copying tests/userprog/sc-boundary to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/cnUEaS4QoY.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sc-boundary
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  412,057,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sc-boundary' into the file system...
+Erasing ustar archive...
+Executing 'sc-boundary':
+(sc-boundary) begin
+sc-boundary: exit(42)
+Execution of 'sc-boundary' complete.
+Timer: 63 ticks
+Thread: 5 idle ticks, 57 kernel ticks, 1 user ticks
+hda2 (filesys): 66 reads, 290 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 883 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sc-boundary.result pintos-solution/src/filesys/build/tests/userprog/sc-boundary.result
--- aos_pintos/src/filesys/build/tests/userprog/sc-boundary.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sc-boundary.result	2024-05-04 15:17:16.480000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-bad-target and pintos-solution/src/filesys/build/tests/userprog/sl-bad-target differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.d pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.d
--- aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.d	2024-05-04 15:17:01.472000000 +0000
@@ -0,0 +1,5 @@
+tests/userprog/sl-bad-target.o: ../../tests/userprog/sl-bad-target.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../lib/stdio.h ../../lib/stdarg.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/user/stdio.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.o and pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.output pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.output
--- aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.output	2024-05-04 15:18:09.264000000 +0000
@@ -0,0 +1,35 @@
+Copying tests/userprog/sl-bad-target to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/FJ0o8Du7I6.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sl-bad-target
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  418,611,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sl-bad-target' into the file system...
+Erasing ustar archive...
+Executing 'sl-bad-target':
+(sl-bad-target) begin
+(sl-bad-target) passed in invalid target to symlink
+(sl-bad-target) symlink() returned -1
+(sl-bad-target) end
+sl-bad-target: exit(0)
+Execution of 'sl-bad-target' complete.
+Timer: 62 ticks
+Thread: 7 idle ticks, 54 kernel ticks, 1 user ticks
+hda2 (filesys): 83 reads, 286 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 1004 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.result pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.result
--- aos_pintos/src/filesys/build/tests/userprog/sl-bad-target.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-bad-target.result	2024-05-04 15:18:09.300000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-check and pintos-solution/src/filesys/build/tests/userprog/sl-check differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-check.d pintos-solution/src/filesys/build/tests/userprog/sl-check.d
--- aos_pintos/src/filesys/build/tests/userprog/sl-check.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-check.d	2024-05-04 15:17:01.508000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sl-check.o: ../../tests/userprog/sl-check.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-check.o and pintos-solution/src/filesys/build/tests/userprog/sl-check.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-check.output pintos-solution/src/filesys/build/tests/userprog/sl-check.output
--- aos_pintos/src/filesys/build/tests/userprog/sl-check.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-check.output	2024-05-04 15:18:10.148000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/sl-check to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/4DkkwkLcZr.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sl-check
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  456,294,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sl-check' into the file system...
+Erasing ustar archive...
+Executing 'sl-check':
+(sl-check) begin
+(sl-check) create "test.txt"
+(sl-check) open "test.txt"
+(sl-check) symlink() successfully returned 0
+(sl-check) open "test-link.txt"
+(sl-check) end
+sl-check: exit(0)
+Execution of 'sl-check' complete.
+Timer: 69 ticks
+Thread: 4 idle ticks, 62 kernel ticks, 3 user ticks
+hda2 (filesys): 130 reads, 298 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 1013 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-check.result pintos-solution/src/filesys/build/tests/userprog/sl-check.result
--- aos_pintos/src/filesys/build/tests/userprog/sl-check.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-check.result	2024-05-04 15:18:10.180000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-read and pintos-solution/src/filesys/build/tests/userprog/sl-read differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-read.d pintos-solution/src/filesys/build/tests/userprog/sl-read.d
--- aos_pintos/src/filesys/build/tests/userprog/sl-read.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-read.d	2024-05-04 15:17:01.572000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sl-read.o: ../../tests/userprog/sl-read.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-read.o and pintos-solution/src/filesys/build/tests/userprog/sl-read.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-read.output pintos-solution/src/filesys/build/tests/userprog/sl-read.output
--- aos_pintos/src/filesys/build/tests/userprog/sl-read.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-read.output	2024-05-04 15:18:11.960000000 +0000
@@ -0,0 +1,40 @@
+Copying tests/userprog/sl-read to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/54ibfeLPiq.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sl-read
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  642,252,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sl-read' into the file system...
+Erasing ustar archive...
+Executing 'sl-read':
+(sl-read) begin
+(sl-read) create "test.txt"
+(sl-read) open "test.txt"
+(sl-read) symlink() successfully returned 0
+(sl-read) open "test-link.txt"
+(sl-read) write content to "test.txt"
+(sl-read) read "test-link.txt"
+(sl-read) test-link.txt reads: 'This is a test'
+(sl-read) end
+sl-read: exit(0)
+Execution of 'sl-read' complete.
+Timer: 72 ticks
+Thread: 7 idle ticks, 63 kernel ticks, 2 user ticks
+hda2 (filesys): 133 reads, 303 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 1119 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-read.result pintos-solution/src/filesys/build/tests/userprog/sl-read.result
--- aos_pintos/src/filesys/build/tests/userprog/sl-read.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-read.result	2024-05-04 15:18:11.992000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-remove and pintos-solution/src/filesys/build/tests/userprog/sl-remove differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-remove.d pintos-solution/src/filesys/build/tests/userprog/sl-remove.d
--- aos_pintos/src/filesys/build/tests/userprog/sl-remove.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-remove.d	2024-05-04 15:17:01.540000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/sl-remove.o: ../../tests/userprog/sl-remove.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/sl-remove.o and pintos-solution/src/filesys/build/tests/userprog/sl-remove.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-remove.output pintos-solution/src/filesys/build/tests/userprog/sl-remove.output
--- aos_pintos/src/filesys/build/tests/userprog/sl-remove.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-remove.output	2024-05-04 15:18:11.040000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/sl-remove to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/50W_WGRAl_.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run sl-remove
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  438,272,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'sl-remove' into the file system...
+Erasing ustar archive...
+Executing 'sl-remove':
+(sl-remove) begin
+(sl-remove) create "test.txt"
+(sl-remove) open "test.txt"
+(sl-remove) symlink() successfully returned 0
+(sl-remove) remove "test.txt" file
+(sl-remove) open "test-link.txt" should fail
+(sl-remove) end
+sl-remove: exit(0)
+Execution of 'sl-remove' complete.
+Timer: 70 ticks
+Thread: 8 idle ticks, 60 kernel ticks, 2 user ticks
+hda2 (filesys): 148 reads, 301 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 1071 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/sl-remove.result pintos-solution/src/filesys/build/tests/userprog/sl-remove.result
--- aos_pintos/src/filesys/build/tests/userprog/sl-remove.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/sl-remove.result	2024-05-04 15:18:11.076000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid and pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.d pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.d
--- aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.d	2024-05-04 15:17:01.080000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/wait-bad-pid.o: ../../tests/userprog/wait-bad-pid.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.o and pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.output pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.output
--- aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.output	2024-05-04 15:17:58.332000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/wait-bad-pid to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/6FF8Y_zpvd.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run wait-bad-pid
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  502,169,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'wait-bad-pid' into the file system...
+Erasing ustar archive...
+Executing 'wait-bad-pid':
+(wait-bad-pid) begin
+(wait-bad-pid) end
+wait-bad-pid: exit(0)
+Execution of 'wait-bad-pid' complete.
+Timer: 66 ticks
+Thread: 5 idle ticks, 60 kernel ticks, 1 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 907 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.result pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.result
--- aos_pintos/src/filesys/build/tests/userprog/wait-bad-pid.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-bad-pid.result	2024-05-04 15:17:58.364000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-killed and pintos-solution/src/filesys/build/tests/userprog/wait-killed differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-killed.d pintos-solution/src/filesys/build/tests/userprog/wait-killed.d
--- aos_pintos/src/filesys/build/tests/userprog/wait-killed.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-killed.d	2024-05-04 15:17:01.052000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/wait-killed.o: ../../tests/userprog/wait-killed.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-killed.o and pintos-solution/src/filesys/build/tests/userprog/wait-killed.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-killed.output pintos-solution/src/filesys/build/tests/userprog/wait-killed.output
--- aos_pintos/src/filesys/build/tests/userprog/wait-killed.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-killed.output	2024-05-04 15:17:57.468000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/wait-killed to scratch partition...
+Copying tests/userprog/child-bad to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/vrCdcmMFLA.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run wait-killed
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  431,718,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 276 sectors (138 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'wait-killed' into the file system...
+Putting 'child-bad' into the file system...
+Erasing ustar archive...
+Executing 'wait-killed':
+(wait-killed) begin
+(child-bad) begin
+child-bad: exit(-1)
+(wait-killed) wait(exec()) = -1
+(wait-killed) end
+wait-killed: exit(0)
+Execution of 'wait-killed' complete.
+Timer: 74 ticks
+Thread: 13 idle ticks, 61 kernel ticks, 0 user ticks
+hda2 (filesys): 131 reads, 558 writes
+hda3 (scratch): 275 reads, 2 writes
+Console: 1017 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-killed.result pintos-solution/src/filesys/build/tests/userprog/wait-killed.result
--- aos_pintos/src/filesys/build/tests/userprog/wait-killed.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-killed.result	2024-05-04 15:17:57.504000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-simple and pintos-solution/src/filesys/build/tests/userprog/wait-simple differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-simple.d pintos-solution/src/filesys/build/tests/userprog/wait-simple.d
--- aos_pintos/src/filesys/build/tests/userprog/wait-simple.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-simple.d	2024-05-04 15:17:00.988000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/wait-simple.o: ../../tests/userprog/wait-simple.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-simple.o and pintos-solution/src/filesys/build/tests/userprog/wait-simple.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-simple.output pintos-solution/src/filesys/build/tests/userprog/wait-simple.output
--- aos_pintos/src/filesys/build/tests/userprog/wait-simple.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-simple.output	2024-05-04 15:17:55.588000000 +0000
@@ -0,0 +1,38 @@
+Copying tests/userprog/wait-simple to scratch partition...
+Copying tests/userprog/child-simple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/XZJnA_hQhR.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run wait-simple
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  478,412,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 274 sectors (137 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'wait-simple' into the file system...
+Putting 'child-simple' into the file system...
+Erasing ustar archive...
+Executing 'wait-simple':
+(wait-simple) begin
+(child-simple) run
+child-simple: exit(81)
+(wait-simple) wait(exec()) = 81
+(wait-simple) end
+wait-simple: exit(0)
+Execution of 'wait-simple' complete.
+Timer: 76 ticks
+Thread: 12 idle ticks, 64 kernel ticks, 0 user ticks
+hda2 (filesys): 131 reads, 554 writes
+hda3 (scratch): 273 reads, 2 writes
+Console: 1024 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-simple.result pintos-solution/src/filesys/build/tests/userprog/wait-simple.result
--- aos_pintos/src/filesys/build/tests/userprog/wait-simple.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-simple.result	2024-05-04 15:17:55.620000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-twice and pintos-solution/src/filesys/build/tests/userprog/wait-twice differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-twice.d pintos-solution/src/filesys/build/tests/userprog/wait-twice.d
--- aos_pintos/src/filesys/build/tests/userprog/wait-twice.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-twice.d	2024-05-04 15:17:01.020000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/wait-twice.o: ../../tests/userprog/wait-twice.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/wait-twice.o and pintos-solution/src/filesys/build/tests/userprog/wait-twice.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-twice.output pintos-solution/src/filesys/build/tests/userprog/wait-twice.output
--- aos_pintos/src/filesys/build/tests/userprog/wait-twice.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-twice.output	2024-05-04 15:17:56.524000000 +0000
@@ -0,0 +1,39 @@
+Copying tests/userprog/wait-twice to scratch partition...
+Copying tests/userprog/child-simple to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/jeaHtVsjVg.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run wait-twice
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  428,441,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 274 sectors (137 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'wait-twice' into the file system...
+Putting 'child-simple' into the file system...
+Erasing ustar archive...
+Executing 'wait-twice':
+(wait-twice) begin
+(child-simple) run
+child-simple: exit(81)
+(wait-twice) wait(exec()) = 81
+(wait-twice) wait(exec()) = -1
+(wait-twice) end
+wait-twice: exit(0)
+Execution of 'wait-twice' complete.
+Timer: 74 ticks
+Thread: 9 idle ticks, 64 kernel ticks, 1 user ticks
+hda2 (filesys): 131 reads, 554 writes
+hda3 (scratch): 273 reads, 2 writes
+Console: 1046 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/wait-twice.result pintos-solution/src/filesys/build/tests/userprog/wait-twice.result
--- aos_pintos/src/filesys/build/tests/userprog/wait-twice.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/wait-twice.result	2024-05-04 15:17:56.560000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-bad-fd and pintos-solution/src/filesys/build/tests/userprog/write-bad-fd differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.d pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.d
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.d	2024-05-04 15:17:00.708000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/write-bad-fd.o: ../../tests/userprog/write-bad-fd.c \
+ ../../lib/limits.h ../../lib/user/syscall.h ../../lib/stdbool.h \
+ ../../lib/debug.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.o and pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.output pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.output
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.output	2024-05-04 15:17:47.192000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/write-bad-fd to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/SLflH3ctQK.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-bad-fd
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  480,870,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 140 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-bad-fd' into the file system...
+Erasing ustar archive...
+Executing 'write-bad-fd':
+(write-bad-fd) begin
+(write-bad-fd) end
+write-bad-fd: exit(0)
+Execution of 'write-bad-fd' complete.
+Timer: 67 ticks
+Thread: 6 idle ticks, 61 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 284 writes
+hda3 (scratch): 139 reads, 2 writes
+Console: 907 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.result pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.result
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-fd.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-fd.result	2024-05-04 15:17:47.228000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr and pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.d pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.d
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.d	2024-05-04 15:17:00.580000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/write-bad-ptr.o: ../../tests/userprog/write-bad-ptr.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.o and pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.output pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.output
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.output	2024-05-04 15:17:43.688000000 +0000
@@ -0,0 +1,35 @@
+Copying tests/userprog/write-bad-ptr to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/4qBtWsI606.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-bad-ptr
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  485,785,600 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 141 sectors (70 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-bad-ptr' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'write-bad-ptr':
+(write-bad-ptr) begin
+(write-bad-ptr) open "sample.txt"
+write-bad-ptr: exit(-1)
+Execution of 'write-bad-ptr' complete.
+Timer: 69 ticks
+Thread: 5 idle ticks, 64 kernel ticks, 0 user ticks
+hda2 (filesys): 94 reads, 288 writes
+hda3 (scratch): 140 reads, 2 writes
+Console: 974 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.result pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.result
--- aos_pintos/src/filesys/build/tests/userprog/write-bad-ptr.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-bad-ptr.result	2024-05-04 15:17:43.724000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-boundary and pintos-solution/src/filesys/build/tests/userprog/write-boundary differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-boundary.d pintos-solution/src/filesys/build/tests/userprog/write-boundary.d
--- aos_pintos/src/filesys/build/tests/userprog/write-boundary.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-boundary.d	2024-05-04 15:17:00.612000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/write-boundary.o: ../../tests/userprog/write-boundary.c \
+ ../../lib/string.h ../../lib/stddef.h ../../lib/user/syscall.h \
+ ../../lib/stdbool.h ../../lib/debug.h ../../tests/userprog/boundary.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-boundary.o and pintos-solution/src/filesys/build/tests/userprog/write-boundary.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-boundary.output pintos-solution/src/filesys/build/tests/userprog/write-boundary.output
--- aos_pintos/src/filesys/build/tests/userprog/write-boundary.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-boundary.output	2024-05-04 15:17:44.600000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/write-boundary to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/0g7nOCCv26.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-boundary
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  524,288,000 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 146 sectors (73 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-boundary' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'write-boundary':
+(write-boundary) begin
+(write-boundary) open "sample.txt"
+(write-boundary) end
+write-boundary: exit(0)
+Execution of 'write-boundary' complete.
+Timer: 71 ticks
+Thread: 5 idle ticks, 65 kernel ticks, 1 user ticks
+hda2 (filesys): 97 reads, 299 writes
+hda3 (scratch): 145 reads, 2 writes
+Console: 1001 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-boundary.result pintos-solution/src/filesys/build/tests/userprog/write-boundary.result
--- aos_pintos/src/filesys/build/tests/userprog/write-boundary.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-boundary.result	2024-05-04 15:17:44.632000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-normal and pintos-solution/src/filesys/build/tests/userprog/write-normal differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-normal.d pintos-solution/src/filesys/build/tests/userprog/write-normal.d
--- aos_pintos/src/filesys/build/tests/userprog/write-normal.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-normal.d	2024-05-04 15:17:00.544000000 +0000
@@ -0,0 +1,4 @@
+tests/userprog/write-normal.o: ../../tests/userprog/write-normal.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/userprog/sample.inc ../../tests/lib.h ../../lib/stddef.h \
+ ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-normal.o and pintos-solution/src/filesys/build/tests/userprog/write-normal.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-normal.output pintos-solution/src/filesys/build/tests/userprog/write-normal.output
--- aos_pintos/src/filesys/build/tests/userprog/write-normal.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-normal.output	2024-05-04 15:17:42.800000000 +0000
@@ -0,0 +1,37 @@
+Copying tests/userprog/write-normal to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/SsIBK3KKy_.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-normal
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  455,475,200 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 143 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-normal' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'write-normal':
+(write-normal) begin
+(write-normal) create "test.txt"
+(write-normal) open "test.txt"
+(write-normal) end
+write-normal: exit(0)
+Execution of 'write-normal' complete.
+Timer: 69 ticks
+Thread: 7 idle ticks, 62 kernel ticks, 1 user ticks
+hda2 (filesys): 118 reads, 298 writes
+hda3 (scratch): 142 reads, 2 writes
+Console: 1017 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-normal.result pintos-solution/src/filesys/build/tests/userprog/write-normal.result
--- aos_pintos/src/filesys/build/tests/userprog/write-normal.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-normal.result	2024-05-04 15:17:42.832000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-stdin and pintos-solution/src/filesys/build/tests/userprog/write-stdin differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-stdin.d pintos-solution/src/filesys/build/tests/userprog/write-stdin.d
--- aos_pintos/src/filesys/build/tests/userprog/write-stdin.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-stdin.d	2024-05-04 15:17:00.676000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/write-stdin.o: ../../tests/userprog/write-stdin.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-stdin.o and pintos-solution/src/filesys/build/tests/userprog/write-stdin.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-stdin.output pintos-solution/src/filesys/build/tests/userprog/write-stdin.output
--- aos_pintos/src/filesys/build/tests/userprog/write-stdin.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-stdin.output	2024-05-04 15:17:46.328000000 +0000
@@ -0,0 +1,33 @@
+Copying tests/userprog/write-stdin to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/VUDxTjIM2h.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-stdin
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  486,604,800 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 139 sectors (69 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-stdin' into the file system...
+Erasing ustar archive...
+Executing 'write-stdin':
+(write-stdin) begin
+(write-stdin) end
+write-stdin: exit(0)
+Execution of 'write-stdin' complete.
+Timer: 68 ticks
+Thread: 6 idle ticks, 62 kernel ticks, 0 user ticks
+hda2 (filesys): 65 reads, 282 writes
+hda3 (scratch): 138 reads, 2 writes
+Console: 900 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-stdin.result pintos-solution/src/filesys/build/tests/userprog/write-stdin.result
--- aos_pintos/src/filesys/build/tests/userprog/write-stdin.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-stdin.result	2024-05-04 15:17:46.360000000 +0000
@@ -0,0 +1 @@
+PASS
Binary files aos_pintos/src/filesys/build/tests/userprog/write-zero and pintos-solution/src/filesys/build/tests/userprog/write-zero differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-zero.d pintos-solution/src/filesys/build/tests/userprog/write-zero.d
--- aos_pintos/src/filesys/build/tests/userprog/write-zero.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-zero.d	2024-05-04 15:17:00.644000000 +0000
@@ -0,0 +1,3 @@
+tests/userprog/write-zero.o: ../../tests/userprog/write-zero.c \
+ ../../lib/user/syscall.h ../../lib/stdbool.h ../../lib/debug.h \
+ ../../tests/lib.h ../../lib/stddef.h ../../tests/main.h
Binary files aos_pintos/src/filesys/build/tests/userprog/write-zero.o and pintos-solution/src/filesys/build/tests/userprog/write-zero.o differ
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-zero.output pintos-solution/src/filesys/build/tests/userprog/write-zero.output
--- aos_pintos/src/filesys/build/tests/userprog/write-zero.output	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-zero.output	2024-05-04 15:17:45.452000000 +0000
@@ -0,0 +1,36 @@
+Copying tests/userprog/write-zero to scratch partition...
+Copying ../../tests/userprog/sample.txt to scratch partition...
+qemu-system-i386 -device isa-debug-exit -drive file=/tmp/5ddkR8PI2d.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
+PiLo hda1
+Loading.............
+Kernel command line: -q -f extract run write-zero
+Pintos booting with 3,968 kB RAM...
+367 pages available in kernel pool.
+367 pages available in user pool.
+Calibrating timer...  409,190,400 loops/s.
+hda: 5,040 sectors (2 MB), model "QM00001", serial "QEMU HARDDISK"
+hda1: 212 sectors (106 kB), Pintos OS kernel (20)
+hda2: 4,096 sectors (2 MB), Pintos file system (21)
+hda3: 142 sectors (71 kB), Pintos scratch (22)
+filesys: using hda2
+scratch: using hda3
+Formatting file system...done.
+Boot complete.
+Extracting ustar archive from scratch device into file system...
+Putting 'write-zero' into the file system...
+Putting 'sample.txt' into the file system...
+Erasing ustar archive...
+Executing 'write-zero':
+(write-zero) begin
+(write-zero) open "sample.txt"
+(write-zero) end
+write-zero: exit(0)
+Execution of 'write-zero' complete.
+Timer: 65 ticks
+Thread: 9 idle ticks, 55 kernel ticks, 1 user ticks
+hda2 (filesys): 94 reads, 290 writes
+hda3 (scratch): 141 reads, 2 writes
+Console: 969 characters output
+Keyboard: 0 keys pressed
+Exception: 0 page faults
+Powering off...
diff -ruN aos_pintos/src/filesys/build/tests/userprog/write-zero.result pintos-solution/src/filesys/build/tests/userprog/write-zero.result
--- aos_pintos/src/filesys/build/tests/userprog/write-zero.result	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/tests/userprog/write-zero.result	2024-05-04 15:17:45.484000000 +0000
@@ -0,0 +1 @@
+PASS
diff -ruN aos_pintos/src/filesys/build/threads/init.d pintos-solution/src/filesys/build/threads/init.d
--- aos_pintos/src/filesys/build/threads/init.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/init.d	2024-05-04 15:16:56.984000000 +0000
@@ -0,0 +1,15 @@
+threads/init.o: ../../threads/init.c ../../threads/init.h \
+ ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/kernel/console.h ../../lib/inttypes.h \
+ ../../lib/limits.h ../../lib/random.h ../../lib/stdio.h \
+ ../../lib/stdarg.h ../../lib/kernel/stdio.h ../../lib/stdlib.h \
+ ../../lib/string.h ../../devices/kbd.h ../../devices/input.h \
+ ../../devices/serial.h ../../devices/shutdown.h ../../devices/timer.h \
+ ../../lib/round.h ../../devices/vga.h ../../devices/rtc.h \
+ ../../threads/interrupt.h ../../threads/io.h ../../threads/loader.h \
+ ../../threads/malloc.h ../../threads/palloc.h ../../threads/pte.h \
+ ../../threads/vaddr.h ../../threads/thread.h ../../lib/kernel/list.h \
+ ../../threads/synch.h ../../userprog/process.h ../../lib/kernel/list.h \
+ ../../userprog/exception.h ../../userprog/gdt.h ../../userprog/syscall.h \
+ ../../userprog/tss.h ../../devices/block.h ../../devices/ide.h \
+ ../../filesys/filesys.h ../../filesys/off_t.h ../../filesys/fsutil.h
Binary files aos_pintos/src/filesys/build/threads/init.o and pintos-solution/src/filesys/build/threads/init.o differ
diff -ruN aos_pintos/src/filesys/build/threads/interrupt.d pintos-solution/src/filesys/build/threads/interrupt.d
--- aos_pintos/src/filesys/build/threads/interrupt.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/interrupt.d	2024-05-04 15:16:57.136000000 +0000
@@ -0,0 +1,7 @@
+threads/interrupt.o: ../../threads/interrupt.c ../../threads/interrupt.h \
+ ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h \
+ ../../lib/inttypes.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/stddef.h ../../lib/kernel/stdio.h ../../threads/flags.h \
+ ../../threads/intr-stubs.h ../../threads/io.h ../../threads/thread.h \
+ ../../lib/kernel/list.h ../../threads/synch.h ../../threads/vaddr.h \
+ ../../threads/loader.h ../../devices/timer.h ../../lib/round.h
Binary files aos_pintos/src/filesys/build/threads/interrupt.o and pintos-solution/src/filesys/build/threads/interrupt.o differ
diff -ruN aos_pintos/src/filesys/build/threads/intr-stubs.d pintos-solution/src/filesys/build/threads/intr-stubs.d
--- aos_pintos/src/filesys/build/threads/intr-stubs.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/intr-stubs.d	2024-05-04 15:16:57.152000000 +0000
@@ -0,0 +1 @@
+threads/intr-stubs.o: ../../threads/intr-stubs.S ../../threads/loader.h
Binary files aos_pintos/src/filesys/build/threads/intr-stubs.o and pintos-solution/src/filesys/build/threads/intr-stubs.o differ
diff -ruN aos_pintos/src/filesys/build/threads/kernel.lds.s pintos-solution/src/filesys/build/threads/kernel.lds.s
--- aos_pintos/src/filesys/build/threads/kernel.lds.s	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/kernel.lds.s	2024-05-04 15:16:56.808000000 +0000
@@ -0,0 +1,21 @@
+OUTPUT_FORMAT("elf32-i386")
+OUTPUT_ARCH("i386")
+ENTRY(start)
+SECTIONS
+{
+  _start = 0xc0000000 + 0x20000;
+  . = _start + SIZEOF_HEADERS;
+  .text : { *(.start) *(.text) } = 0x90
+  .rodata : { *(.rodata) *(.rodata.*)
+       . = ALIGN(0x1000);
+       _end_kernel_text = .; }
+  .eh_frame : { *(.eh_frame) }
+  .data : { *(.data)
+     _signature = .; LONG(0xaa55aa55) }
+  .plt : { *(.plt*) }
+  _start_bss = .;
+  .bss : { *(.bss) }
+  _end_bss = .;
+  _end = .;
+  ASSERT (_end - _start <= 512K, "Kernel image is too big.")
+}
Binary files aos_pintos/src/filesys/build/threads/loader.o and pintos-solution/src/filesys/build/threads/loader.o differ
diff -ruN aos_pintos/src/filesys/build/threads/malloc.d pintos-solution/src/filesys/build/threads/malloc.d
--- aos_pintos/src/filesys/build/threads/malloc.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/malloc.d	2024-05-04 15:16:57.312000000 +0000
@@ -0,0 +1,6 @@
+threads/malloc.o: ../../threads/malloc.c ../../threads/malloc.h \
+ ../../lib/debug.h ../../lib/stddef.h ../../lib/kernel/list.h \
+ ../../lib/stdbool.h ../../lib/stdint.h ../../lib/round.h \
+ ../../lib/stdio.h ../../lib/stdarg.h ../../lib/kernel/stdio.h \
+ ../../lib/string.h ../../threads/palloc.h ../../threads/synch.h \
+ ../../threads/vaddr.h ../../threads/loader.h
Binary files aos_pintos/src/filesys/build/threads/malloc.o and pintos-solution/src/filesys/build/threads/malloc.o differ
diff -ruN aos_pintos/src/filesys/build/threads/palloc.d pintos-solution/src/filesys/build/threads/palloc.d
--- aos_pintos/src/filesys/build/threads/palloc.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/palloc.d	2024-05-04 15:16:57.252000000 +0000
@@ -0,0 +1,6 @@
+threads/palloc.o: ../../threads/palloc.c ../../threads/palloc.h \
+ ../../lib/stddef.h ../../lib/kernel/bitmap.h ../../lib/stdbool.h \
+ ../../lib/inttypes.h ../../lib/stdint.h ../../lib/debug.h \
+ ../../lib/round.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../lib/string.h ../../threads/loader.h \
+ ../../threads/synch.h ../../lib/kernel/list.h ../../threads/vaddr.h
Binary files aos_pintos/src/filesys/build/threads/palloc.o and pintos-solution/src/filesys/build/threads/palloc.o differ
diff -ruN aos_pintos/src/filesys/build/threads/start.d pintos-solution/src/filesys/build/threads/start.d
--- aos_pintos/src/filesys/build/threads/start.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/start.d	2024-05-04 15:16:56.812000000 +0000
@@ -0,0 +1 @@
+threads/start.o: ../../threads/start.S ../../threads/loader.h
Binary files aos_pintos/src/filesys/build/threads/start.o and pintos-solution/src/filesys/build/threads/start.o differ
diff -ruN aos_pintos/src/filesys/build/threads/switch.d pintos-solution/src/filesys/build/threads/switch.d
--- aos_pintos/src/filesys/build/threads/switch.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/switch.d	2024-05-04 15:16:57.080000000 +0000
@@ -0,0 +1 @@
+threads/switch.o: ../../threads/switch.S ../../threads/switch.h
Binary files aos_pintos/src/filesys/build/threads/switch.o and pintos-solution/src/filesys/build/threads/switch.o differ
diff -ruN aos_pintos/src/filesys/build/threads/synch.d pintos-solution/src/filesys/build/threads/synch.d
--- aos_pintos/src/filesys/build/threads/synch.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/synch.d	2024-05-04 15:16:57.208000000 +0000
@@ -0,0 +1,5 @@
+threads/synch.o: ../../threads/synch.c ../../threads/synch.h \
+ ../../lib/kernel/list.h ../../lib/stdbool.h ../../lib/stddef.h \
+ ../../lib/stdint.h ../../lib/stdio.h ../../lib/debug.h \
+ ../../lib/stdarg.h ../../lib/kernel/stdio.h ../../lib/string.h \
+ ../../threads/interrupt.h ../../threads/thread.h
Binary files aos_pintos/src/filesys/build/threads/synch.o and pintos-solution/src/filesys/build/threads/synch.o differ
diff -ruN aos_pintos/src/filesys/build/threads/thread.d pintos-solution/src/filesys/build/threads/thread.d
--- aos_pintos/src/filesys/build/threads/thread.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/threads/thread.d	2024-05-04 15:16:57.064000000 +0000
@@ -0,0 +1,11 @@
+threads/thread.o: ../../threads/thread.c ../../threads/thread.h \
+ ../../lib/debug.h ../../lib/kernel/list.h ../../lib/stdbool.h \
+ ../../lib/stddef.h ../../lib/stdint.h ../../threads/synch.h \
+ ../../lib/random.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../lib/string.h ../../threads/flags.h \
+ ../../threads/interrupt.h ../../threads/intr-stubs.h \
+ ../../threads/palloc.h ../../threads/switch.h ../../threads/vaddr.h \
+ ../../threads/loader.h ../../lib/kernel/stdio.h ../../threads/malloc.h \
+ ../../userprog/process.h ../../lib/kernel/list.h ../../filesys/filesys.h \
+ ../../filesys/off_t.h ../../devices/block.h ../../lib/inttypes.h \
+ ../../filesys/file.h ../../lib/stdbool.h
Binary files aos_pintos/src/filesys/build/threads/thread.o and pintos-solution/src/filesys/build/threads/thread.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/exception.d pintos-solution/src/filesys/build/userprog/exception.d
--- aos_pintos/src/filesys/build/userprog/exception.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/exception.d	2024-05-04 15:16:58.708000000 +0000
@@ -0,0 +1,7 @@
+userprog/exception.o: ../../userprog/exception.c \
+ ../../userprog/exception.h ../../userprog/syscall.h ../../lib/stdbool.h \
+ ../../lib/inttypes.h ../../lib/stdint.h ../../lib/stdio.h \
+ ../../lib/debug.h ../../lib/stdarg.h ../../lib/stddef.h \
+ ../../lib/kernel/stdio.h ../../userprog/gdt.h ../../threads/loader.h \
+ ../../threads/interrupt.h ../../threads/thread.h ../../lib/kernel/list.h \
+ ../../threads/synch.h
Binary files aos_pintos/src/filesys/build/userprog/exception.o and pintos-solution/src/filesys/build/userprog/exception.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/gdt.d pintos-solution/src/filesys/build/userprog/gdt.d
--- aos_pintos/src/filesys/build/userprog/gdt.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/gdt.d	2024-05-04 15:16:58.840000000 +0000
@@ -0,0 +1,4 @@
+userprog/gdt.o: ../../userprog/gdt.c ../../userprog/gdt.h \
+ ../../threads/loader.h ../../lib/stdint.h ../../lib/debug.h \
+ ../../userprog/tss.h ../../threads/palloc.h ../../lib/stddef.h \
+ ../../threads/vaddr.h ../../lib/stdbool.h
Binary files aos_pintos/src/filesys/build/userprog/gdt.o and pintos-solution/src/filesys/build/userprog/gdt.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/pagedir.d pintos-solution/src/filesys/build/userprog/pagedir.d
--- aos_pintos/src/filesys/build/userprog/pagedir.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/pagedir.d	2024-05-04 15:16:58.668000000 +0000
@@ -0,0 +1,5 @@
+userprog/pagedir.o: ../../userprog/pagedir.c ../../userprog/pagedir.h \
+ ../../lib/stdbool.h ../../lib/stdint.h ../../lib/stddef.h \
+ ../../lib/string.h ../../threads/init.h ../../lib/debug.h \
+ ../../threads/pte.h ../../threads/vaddr.h ../../threads/loader.h \
+ ../../threads/palloc.h
Binary files aos_pintos/src/filesys/build/userprog/pagedir.o and pintos-solution/src/filesys/build/userprog/pagedir.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/process.d pintos-solution/src/filesys/build/userprog/process.d
--- aos_pintos/src/filesys/build/userprog/process.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/process.d	2024-05-04 15:16:58.604000000 +0000
@@ -0,0 +1,12 @@
+userprog/process.o: ../../userprog/process.c ../../userprog/process.h \
+ ../../threads/thread.h ../../lib/debug.h ../../lib/kernel/list.h \
+ ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
+ ../../threads/synch.h ../../lib/kernel/list.h ../../lib/inttypes.h \
+ ../../lib/round.h ../../lib/stdio.h ../../lib/stdarg.h \
+ ../../lib/kernel/stdio.h ../../lib/stdlib.h ../../lib/string.h \
+ ../../userprog/gdt.h ../../threads/loader.h ../../userprog/pagedir.h \
+ ../../userprog/tss.h ../../userprog/syscall.h ../../filesys/directory.h \
+ ../../devices/block.h ../../filesys/file.h ../../filesys/off_t.h \
+ ../../lib/stdbool.h ../../filesys/filesys.h ../../threads/flags.h \
+ ../../threads/init.h ../../threads/interrupt.h ../../threads/palloc.h \
+ ../../threads/malloc.h ../../lib/string.h ../../threads/vaddr.h
Binary files aos_pintos/src/filesys/build/userprog/process.o and pintos-solution/src/filesys/build/userprog/process.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/syscall.d pintos-solution/src/filesys/build/userprog/syscall.d
--- aos_pintos/src/filesys/build/userprog/syscall.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/syscall.d	2024-05-04 15:16:58.804000000 +0000
@@ -0,0 +1,12 @@
+userprog/syscall.o: ../../userprog/syscall.c ../../userprog/syscall.h \
+ ../../lib/stdbool.h ../../userprog/pagedir.h ../../lib/stdint.h \
+ ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
+ ../../lib/stddef.h ../../lib/kernel/stdio.h ../../lib/syscall-nr.h \
+ ../../threads/interrupt.h ../../threads/thread.h ../../lib/kernel/list.h \
+ ../../threads/synch.h ../../threads/vaddr.h ../../threads/loader.h \
+ ../../threads/malloc.h ../../userprog/process.h ../../lib/kernel/list.h \
+ ../../devices/shutdown.h ../../threads/palloc.h ../../lib/kernel/stdio.h \
+ ../../lib/stdio.h ../../lib/string.h ../../filesys/filesys.h \
+ ../../filesys/off_t.h ../../devices/block.h ../../lib/inttypes.h \
+ ../../filesys/file.h ../../lib/stdbool.h ../../filesys/inode.h \
+ ../../userprog/gdt.h ../../threads/flags.h ../../devices/input.h
Binary files aos_pintos/src/filesys/build/userprog/syscall.o and pintos-solution/src/filesys/build/userprog/syscall.o differ
diff -ruN aos_pintos/src/filesys/build/userprog/tss.d pintos-solution/src/filesys/build/userprog/tss.d
--- aos_pintos/src/filesys/build/userprog/tss.d	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/filesys/build/userprog/tss.d	2024-05-04 15:16:58.864000000 +0000
@@ -0,0 +1,5 @@
+userprog/tss.o: ../../userprog/tss.c ../../userprog/tss.h \
+ ../../lib/stdint.h ../../lib/debug.h ../../lib/stddef.h \
+ ../../userprog/gdt.h ../../threads/loader.h ../../threads/thread.h \
+ ../../lib/kernel/list.h ../../lib/stdbool.h ../../threads/synch.h \
+ ../../threads/palloc.h ../../threads/vaddr.h
Binary files aos_pintos/src/filesys/build/userprog/tss.o and pintos-solution/src/filesys/build/userprog/tss.o differ
diff -ruN aos_pintos/src/filesys/directory.c pintos-solution/src/filesys/directory.c
--- aos_pintos/src/filesys/directory.c	2024-02-09 01:26:32.047953955 +0000
+++ pintos-solution/src/filesys/directory.c	2024-04-30 04:36:05.000000000 +0000
@@ -6,6 +6,8 @@
 #include "filesys/inode.h"
 #include "threads/malloc.h"
 
+// P2 solution code:
+
 /* A directory. */
 struct dir
 {
@@ -219,3 +221,369 @@
     }
   return false;
 }
+
+// P4 try out:
+
+// void
+// split_path_filename(const char *path,
+//     char *directory, char *filename)
+// {
+//   int l = strlen(path);
+//   char *s = (char*) malloc( sizeof(char) * (l + 1) );
+//   memcpy (s, path, sizeof(char) * (l + 1));
+
+//   // absolute path handling
+//   char *dir = directory;
+//   if(l > 0 && path[0] == '/') {
+//     if(dir) *dir++ = '/';
+//   }
+
+//   // tokenize
+//   char *token, *p, *last_token = "";
+//   for (token = strtok_r(s, "/", &p); token != NULL;
+//        token = strtok_r(NULL, "/", &p))
+//   {
+//     // append last_token into directory
+//     int tl = strlen (last_token);
+//     if (dir && tl > 0) {
+//       memcpy (dir, last_token, sizeof(char) * tl);
+//       dir[tl] = '/';
+//       dir += tl + 1;
+//     }
+
+//     last_token = token;
+//   }
+
+//   if(dir) *dir = '\0';
+//   memcpy (filename, last_token, sizeof(char) * (strlen(last_token) + 1));
+//   free (s);
+
+// }
+
+// /* Creates a directory with space for ENTRY_CNT entries in the
+//    given SECTOR.  Returns true if successful, false on failure. */
+// bool dir_create (block_sector_t sector, size_t entry_cnt)
+// {
+//   // return inode_create_2 (sector, entry_cnt * sizeof (struct dir_entry), true);
+//   // return inode_create (sector, entry_cnt * sizeof (struct dir_entry), /*is_dir*/ true);
+//   bool success = true;
+//   success = inode_create (sector, entry_cnt * sizeof (struct dir_entry), /*is_dir*/ true);
+//   if(!success) return false;
+
+//   // The first (offset 0) dir entry is for parent directory; do self-referencing
+//   // Actual parent directory will be set on execution of dir_add()
+//   struct dir *dir = dir_open( inode_open(sector) );
+//   ASSERT (dir != NULL);
+//   struct dir_entry e;
+//   e.inode_sector = sector;
+//   if (inode_write_at(dir->inode, &e, sizeof e, 0) != sizeof e) {
+//     success = false;
+//   }
+//   dir_close (dir);
+
+//   return success;
+// }
+
+// /* Opens and returns the directory for the given INODE, of which
+//    it takes ownership.  Returns a null pointer on failure. */
+// struct dir *dir_open (struct inode *inode)
+// {
+//   struct dir *dir = calloc (1, sizeof *dir);
+//   if (inode != NULL && dir != NULL)
+//     {
+//       dir->inode = inode;
+//       // dir->pos = 0;
+//       dir->pos = sizeof (struct dir_entry); // 0-pos is for parent directory
+//       return dir;
+//     }
+//   else
+//     {
+//       inode_close (inode);
+//       free (dir);
+//       return NULL;
+//     }
+// }
+
+// /* Opens the root directory and returns a directory for it.
+//    Return true if successful, false on failure. */
+// struct dir *dir_open_root (void)
+// {
+//   return dir_open (inode_open (ROOT_DIR_SECTOR));
+// }
+
+// /* Opens the directory for given path. */
+// struct dir *
+// dir_open_path (const char *path)
+// {
+//   // copy of path, to tokenize
+//   int l = strlen(path);
+//   char s[l + 1];
+//   strlcpy(s, path, l + 1);
+
+//   // relative path handling
+//   struct dir *curr;
+//   if(path[0] == '/') { // absolute path
+//     curr = dir_open_root();
+//   }
+//   else { // relative path
+//     struct thread *t = thread_current();
+//     if (t->cwd == NULL) // may happen for non-process threads (e.g. main)
+//       curr = dir_open_root();
+//     else {
+//       curr = dir_reopen( t->cwd );
+//     }
+//   }
+
+//   // tokenize, and traverse the tree
+//   char *token, *p;
+//   for (token = strtok_r(s, "/", &p); token != NULL;
+//        token = strtok_r(NULL, "/", &p))
+//   {
+//     struct inode *inode = NULL;
+//     if(! dir_lookup(curr, token, &inode)) {
+//       dir_close(curr);
+//       return NULL; // such directory not exist
+//     }
+
+//     struct dir *next = dir_open(inode);
+//     if(next == NULL) {
+//       dir_close(curr);
+//       return NULL;
+//     }
+//     dir_close(curr);
+//     curr = next;
+//   }
+
+//   // prevent from opening removed directories
+//   if (inode_is_removed (dir_get_inode(curr))) {
+//     dir_close(curr);
+//     return NULL;
+//   }
+
+
+//   return curr;
+// }
+
+// /* Opens and returns a new directory for the same inode as DIR.
+//    Returns a null pointer on failure. */
+// struct dir *dir_reopen (struct dir *dir)
+// {
+//   return dir_open (inode_reopen (dir->inode));
+// }
+
+// /* Destroys DIR and frees associated resources. */
+// void dir_close (struct dir *dir)
+// {
+//   if (dir != NULL)
+//     {
+//       inode_close (dir->inode);
+//       free (dir);
+//     }
+// }
+
+// /* Returns the inode encapsulated by DIR. */
+// struct inode *dir_get_inode (struct dir *dir) { return dir->inode; }
+
+// /* Searches DIR for a file with the given NAME.
+//    If successful, returns true, sets *EP to the directory entry
+//    if EP is non-null, and sets *OFSP to the byte offset of the
+//    directory entry if OFSP is non-null.
+//    otherwise, returns false and ignores EP and OFSP. */
+// static bool lookup (const struct dir *dir, const char *name,
+//                     struct dir_entry *ep, off_t *ofsp)
+// {
+//   struct dir_entry e;
+//   size_t ofs;
+
+//   ASSERT (dir != NULL);
+//   ASSERT (name != NULL);
+
+//   // for (ofs = 0; inode_read_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+//   for (ofs = sizeof e; /* 0-pos is for parent directory */
+//        inode_read_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+//        ofs += sizeof e)
+//     if (e.in_use && !strcmp (name, e.name))
+//       {
+//         if (ep != NULL)
+//           *ep = e;
+//         if (ofsp != NULL)
+//           *ofsp = ofs;
+//         return true;
+//       }
+//   return false;
+// }
+
+// /* Searches DIR for a file with the given NAME
+//    and returns true if one exists, false otherwise.
+//    On success, sets *INODE to an inode for the file, otherwise to
+//    a null pointer.  The caller must close *INODE. */
+// bool dir_lookup (const struct dir *dir, const char *name, struct inode **inode)
+// {
+//   struct dir_entry e;
+
+//   ASSERT (dir != NULL);
+//   ASSERT (name != NULL);
+
+//   // if (lookup (dir, name, &e, NULL))
+//   if (strcmp (name, ".") == 0) {
+//     // current directory
+//     *inode = inode_reopen (dir->inode);
+//   }
+//   else if (strcmp (name, "..") == 0) {
+//     // parent directory : the information is stored at the first (0-pos) entry.
+//     inode_read_at (dir->inode, &e, sizeof e, 0);
+//     *inode = inode_open (e.inode_sector);
+//   }
+//   else if (lookup (dir, name, &e, NULL)) {
+//     // normal lookup. lookuped entry is stored into e
+//     *inode = inode_open (e.inode_sector);
+//   }
+//   else
+//     *inode = NULL;
+
+//   return *inode != NULL;
+// }
+
+// /* Adds a file named NAME to DIR, which must not already contain a
+//    file by that name.  The file's inode is in sector
+//    INODE_SECTOR.
+//    Returns true if successful, false on failure.
+//    Fails if NAME is invalid (i.e. too long) or a disk or memory
+//    error occurs. */
+// // bool dir_add (struct dir *dir, const char *name, block_sector_t inode_sector)
+// bool dir_add (struct dir *dir, const char *name, block_sector_t inode_sector, bool is_dir)
+
+// {
+//   struct dir_entry e;
+//   off_t ofs;
+//   bool success = false;
+
+//   ASSERT (dir != NULL);
+//   ASSERT (name != NULL);
+
+//   /* Check NAME for validity. */
+//   if (*name == '\0' || strlen (name) > NAME_MAX)
+//     return false;
+
+//   /* Check that NAME is not in use. */
+//   if (lookup (dir, name, NULL, NULL))
+//     goto done;
+  
+//   // update the child directory [inode_sector] has a parent directory [dir]
+//   if (is_dir)
+//   {
+//     /* e is a parent-directory-entry here */
+//     struct dir *child_dir = dir_open( inode_open(inode_sector) );
+//     if(child_dir == NULL) goto done;
+//     e.inode_sector = inode_get_inumber( dir_get_inode(dir) );
+//     if (inode_write_at(child_dir->inode, &e, sizeof e, 0) != sizeof e) {
+//       dir_close (child_dir);
+//       goto done;
+//     }
+//     dir_close (child_dir);
+//   }
+
+//   /* Set OFS to offset of free slot.
+//      If there are no free slots, then it will be set to the
+//      current end-of-file.
+
+//      inode_read_at() will only return a short read at end of file.
+//      Otherwise, we'd need to verify that we didn't get a short
+//      read due to something intermittent such as low memory. */
+//   for (ofs = 0; inode_read_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+//        ofs += sizeof e)
+//     if (!e.in_use)
+//       break;
+
+//   /* Write slot. */
+//   e.in_use = true;
+//   strlcpy (e.name, name, sizeof e.name);
+//   e.inode_sector = inode_sector;
+//   success = inode_write_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+
+// done:
+//   return success;
+// }
+
+// /* Removes any entry for NAME in DIR.
+//    Returns true if successful, false on failure,
+//    which occurs only if there is no file with the given NAME. */
+// bool dir_remove (struct dir *dir, const char *name)
+// {
+//   struct dir_entry e;
+//   struct inode *inode = NULL;
+//   bool success = false;
+//   off_t ofs;
+
+//   ASSERT (dir != NULL);
+//   ASSERT (name != NULL);
+
+//   /* Find directory entry. */
+//   if (!lookup (dir, name, &e, &ofs))
+//     goto done;
+
+//   /* Open inode. */
+//   inode = inode_open (e.inode_sector);
+//   if (inode == NULL)
+//     goto done;
+  
+//   /* Prevent removing non-empty directory. */
+//   if (inode_is_dir (inode)) {
+//     // target : the directory to be removed. (dir : the base directory)
+//     struct dir *target = dir_open (inode);
+//     bool is_empty = dir_is_empty (target);
+//     dir_close (target);
+//     if (! is_empty) goto done; // can't delete
+//   }
+
+//   /* Erase directory entry. */
+//   e.in_use = false;
+//   if (inode_write_at (dir->inode, &e, sizeof e, ofs) != sizeof e)
+//     goto done;
+
+//   /* Remove inode. */
+//   inode_remove (inode);
+//   success = true;
+
+// done:
+//   inode_close (inode);
+//   return success;
+// }
+
+// /* Reads the next directory entry in DIR and stores the name in
+//    NAME.  Returns true if successful, false if the directory
+//    contains no more entries. */
+// bool dir_readdir (struct dir *dir, char name[NAME_MAX + 1])
+// {
+//   struct dir_entry e;
+
+//   while (inode_read_at (dir->inode, &e, sizeof e, dir->pos) == sizeof e)
+//     {
+//       dir->pos += sizeof e;
+//       if (e.in_use)
+//         {
+//           strlcpy (name, e.name, NAME_MAX + 1);
+//           return true;
+//         }
+//     }
+//   return false;
+// }
+
+// /* Returns whether the DIR is empty. */
+// bool
+// dir_is_empty (const struct dir *dir)
+// {
+//   struct dir_entry e;
+//   off_t ofs;
+
+//   // for (ofs = 0; inode_read_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+//   for (ofs = sizeof e; /* 0-pos is for parent directory */
+//        inode_read_at (dir->inode, &e, sizeof e, ofs) == sizeof e;
+//        ofs += sizeof e)
+//   {
+//     if (e.in_use)
+//       return false;
+//   }
+//   return true;
+// }
+
diff -ruN aos_pintos/src/filesys/directory.h pintos-solution/src/filesys/directory.h
--- aos_pintos/src/filesys/directory.h	2024-02-09 01:26:32.075952722 +0000
+++ pintos-solution/src/filesys/directory.h	2024-04-30 04:34:42.000000000 +0000
@@ -27,4 +27,11 @@
 bool dir_remove (struct dir *, const char *name);
 bool dir_readdir (struct dir *, char name[NAME_MAX + 1]);
 
+// /* Directory and Path manipulation utilities. */
+// void split_path_filename(const char *path, char *directory, char *filename);
+// bool dir_add (struct dir *, const char *name, block_sector_t, bool is_dir);
+// bool dir_is_empty (const struct dir *);
+// struct dir *dir_open_path(const char *path);
+
+
 #endif /* filesys/directory.h */
diff -ruN aos_pintos/src/filesys/file.c pintos-solution/src/filesys/file.c
--- aos_pintos/src/filesys/file.c	2024-02-09 01:26:32.083952370 +0000
+++ pintos-solution/src/filesys/file.c	2024-04-30 04:37:48.000000000 +0000
@@ -142,4 +142,238 @@
 {
   ASSERT (file != NULL);
   return file->pos;
-}
\ No newline at end of file
+}
+
+// P4 Tryout:
+
+// /* Opens a file for the given INODE, of which it takes ownership,
+//    and returns the new file.  Returns a null pointer if an
+//    allocation fails or if INODE is null. */
+// struct file *file_open (struct inode *inode)
+// {
+//   struct file *file = calloc (1, sizeof *file);
+//   if (inode != NULL && file != NULL)
+//     {
+//       file->inode = inode;
+//       file->pos = 0;
+//       file->deny_write = false;
+//       return file;
+//     }
+//   else
+//     {
+//       inode_close (inode);
+//       free (file);
+//       return NULL;
+//     }
+// }
+
+// /* Opens and returns a new file for the same inode as FILE.
+//    Returns a null pointer if unsuccessful. */
+// struct file *file_reopen (struct file *file)
+// {
+//   return file_open (inode_reopen (file->inode));
+// }
+
+// /* Closes FILE. */
+// void file_close (struct file *file)
+// {
+//   if (file != NULL)
+//     {
+//       file_allow_write (file);
+//       inode_close (file->inode);
+//       free (file);
+//     }
+// }
+
+// /* Returns the inode encapsulated by FILE. */
+// struct inode *file_get_inode (struct file *file) { return file->inode; }
+
+// /* Reads SIZE bytes from FILE into BUFFER,
+//    starting at the file's current position.
+//    Returns the number of bytes actually read,
+//    which may be less than SIZE if end of file is reached.
+//    Advances FILE's position by the number of bytes read. */
+// off_t file_read (struct file *file, void *buffer, off_t size)
+// {
+//   off_t bytes_read = inode_read_at (file->inode, buffer, size, file->pos);
+//   file->pos += bytes_read;
+//   return bytes_read;
+// }
+
+// /* Reads SIZE bytes from FILE into BUFFER,
+//    starting at offset FILE_OFS in the file.
+//    Returns the number of bytes actually read,
+//    which may be less than SIZE if end of file is reached.
+//    The file's current position is unaffected. */
+// off_t file_read_at (struct file *file, void *buffer, off_t size, off_t file_ofs)
+// {
+//   return inode_read_at (file->inode, buffer, size, file_ofs);
+// }
+
+// /* Writes SIZE bytes from BUFFER into FILE,
+//    starting at the file's current position.
+//    Returns the number of bytes actually written,
+//    which may be less than SIZE if end of file is reached.
+//    (Normally we'd grow the file in that case, but file growth is
+//    not yet implemented.)
+//    Advances FILE's position by the number of bytes read. */
+// // off_t file_write (struct file *file, const void *buffer, off_t size)
+// // {
+// //   off_t bytes_written = inode_write_at (file->inode, buffer, size, file->pos);
+// //   file->pos += bytes_written;
+// //   return bytes_written;
+// // }
+
+// off_t file_write(struct file *file, const void *buffer, off_t size) {
+//     off_t bytes_written = inode_write_at(file->inode, buffer, size, file->pos);
+//     file->pos += bytes_written;
+
+//     // Handle file growth if writing past EOF
+//     off_t end_pos = file_length(file);
+//     if (file->pos > end_pos) {
+//         off_t zero_fill_size = file->pos - end_pos;
+//         char zeros[zero_fill_size];
+//         memset(zeros, 0, zero_fill_size);
+//         bytes_written += inode_write_at(file->inode, zeros, zero_fill_size, end_pos);
+//         file->pos += zero_fill_size;
+//     }
+
+//     return bytes_written;
+// }
+
+
+
+// /* Writes SIZE bytes from BUFFER into FILE,
+//    starting at offset FILE_OFS in the file.
+//    Returns the number of bytes actually written,
+//    which may be less than SIZE if end of file is reached.
+//    (Normally we'd grow the file in that case, but file growth is
+//    not yet implemented.)
+//    The file's current position is unaffected. */
+// off_t file_write_at(struct file *file, const void *buffer, off_t size, off_t file_ofs)
+// {
+//   if (file->deny_write)
+//     return 0;
+
+//   off_t bytes_written = 0;
+
+//   while (size > 0)
+//   {
+//     /* Sector to write, starting byte offset within sector. */
+//     block_sector_t sector_idx = byte_to_sector(file->inode, file_ofs);
+//     if (sector_idx == (block_sector_t)-1)
+//       break;
+
+//     int sector_ofs = file_ofs % BLOCK_SECTOR_SIZE;
+
+//     /* Number of bytes left in this sector. */
+//     int sector_left = BLOCK_SECTOR_SIZE - sector_ofs;
+
+//     /* Number of bytes to write into this sector. */
+//     int chunk_size = size < sector_left ? size : sector_left;
+
+//     if (sector_ofs == 0 && chunk_size == BLOCK_SECTOR_SIZE)
+//     {
+//       /* Write full sector directly to disk. */
+//       // block_write(fs_device, sector_idx, buffer + bytes_written);
+//       block_write(fs_device, (block_sector_t)sector_idx, (uint8_t *)buffer + bytes_written);
+//     }
+//     else
+//     {
+//       /* We need a bounce buffer. */
+//       void *bounce = malloc(BLOCK_SECTOR_SIZE);
+//       if (bounce == NULL)
+//         break;
+
+//       /* If the sector contains data before or after the chunk
+//          we're writing, then we need to read in the sector
+//          first.  Otherwise we start with a sector of all zeros. */
+//       if (sector_ofs > 0 || chunk_size < sector_left)
+//         block_read(fs_device, sector_idx, bounce);
+//       else
+//         memset(bounce, 0, BLOCK_SECTOR_SIZE);
+//       // memcpy(bounce + sector_ofs, buffer + bytes_written, chunk_size);
+//       memcpy((uint8_t *)bounce + sector_ofs, (uint8_t *)buffer + bytes_written, chunk_size);
+
+//       block_write(fs_device, sector_idx, bounce);
+
+//       free(bounce);
+//     }
+
+//     /* Advance. */
+//     size -= chunk_size;
+//     file_ofs += chunk_size;
+//     bytes_written += chunk_size;
+//   }
+
+//   if (file_ofs > file->inode->data.length)
+//   {
+//     file->inode->data.length = file_ofs;
+//     block_write(fs_device, file->inode->sector, &file->inode->data);
+//   }
+
+//   return bytes_written;
+// }
+
+
+// /* Prevents write operations on FILE's underlying inode
+//    until file_allow_write() is called or FILE is closed. */
+// void file_deny_write (struct file *file)
+// {
+//   ASSERT (file != NULL);
+//   if (!file->deny_write)
+//     {
+//       file->deny_write = true;
+//       inode_deny_write (file->inode);
+//     }
+// }
+
+// /* Re-enables write operations on FILE's underlying inode.
+//    (Writes might still be denied by some other file that has the
+//    same inode open.) */
+// void file_allow_write (struct file *file)
+// {
+//   ASSERT (file != NULL);
+//   if (file->deny_write)
+//     {
+//       file->deny_write = false;
+//       inode_allow_write (file->inode);
+//     }
+// }
+
+// /* Returns the size of FILE in bytes. */
+// off_t file_length (struct file *file)
+// {
+//   if (file == NULL)
+//     return -1;
+
+//   off_t file_size = inode_length (file->inode);
+
+//   // Adjust file size for sparse files by considering the actual data
+//   off_t pos_backup = file->pos;
+//   file->pos = file_size; // Move file position to EOF
+//   char temp; // Dummy variable to read 1 byte
+//   if (file_read (file, &temp, 1) == 0)
+//     file_size = file->pos; // Update file size based on actual EOF
+//   file->pos = pos_backup; // Restore original file position
+
+//   return file_size;
+// }
+
+// /* Sets the current position in FILE to NEW_POS bytes from the
+//    start of the file. */
+// void file_seek (struct file *file, off_t new_pos)
+// {
+//   ASSERT (file != NULL);
+//   ASSERT (new_pos >= 0);
+//   file->pos = new_pos;
+// }
+
+
+// /* Returns the current position in FILE as a byte offset from the
+//    start of the file. */
+// off_t file_tell (struct file *file)
+// {
+//   ASSERT (file != NULL);
+//   return file->pos;
+// }
\ No newline at end of file
diff -ruN aos_pintos/src/filesys/file.h pintos-solution/src/filesys/file.h
--- aos_pintos/src/filesys/file.h	2024-02-09 01:26:32.063953250 +0000
+++ pintos-solution/src/filesys/file.h	2024-04-30 04:36:31.000000000 +0000
@@ -12,6 +12,7 @@
   struct inode *inode; /* File's inode. */
   off_t pos;           /* Current position. */
   bool deny_write;     /* Has file_deny_write() been called? */
+  // struct dir* dir;
 };
 
 /* Opening and closing files. */
diff -ruN aos_pintos/src/filesys/filesys.c pintos-solution/src/filesys/filesys.c
--- aos_pintos/src/filesys/filesys.c	2024-02-09 01:26:32.063953250 +0000
+++ pintos-solution/src/filesys/filesys.c	2024-04-30 04:41:58.000000000 +0000
@@ -7,6 +7,7 @@
 #include "filesys/inode.h"
 #include "filesys/directory.h"
 
+// P2 solution:
 /* Partition that contains the file system. */
 struct block *fs_device;
 
@@ -120,4 +121,169 @@
     PANIC ("root directory creation failed");
   free_map_close ();
   printf ("done.\n");
-}
\ No newline at end of file
+}
+
+// P4 tryout:
+
+// /* Creates a file named NAME with the given INITIAL_SIZE.
+//    Returns true if successful, false otherwise.
+//    Fails if a file named NAME already exists,
+//    or if internal memory allocation fails. */
+// bool filesys_create (const char *name, off_t initial_size, bool is_dir)
+// {
+//   block_sector_t inode_sector = 0;
+//   // struct dir *dir = dir_open_root ();
+//   // split path and name
+//   char directory[ strlen(name) ];
+//   char file_name[ strlen(name) ];
+//   split_path_filename(name, directory, file_name);
+//   struct dir *dir = dir_open_path (directory);
+
+//   bool success = (dir != NULL && free_map_allocate (1, &inode_sector)
+//                   && inode_create (inode_sector, initial_size, is_dir)
+//                   && dir_add (dir, file_name, inode_sector, is_dir));
+//   if (!success && inode_sector != 0)
+//     free_map_release (inode_sector, 1);
+
+//   dir_close (dir);
+
+//   return success;
+// }
+
+// /* Opens the file with the given NAME.
+//    Returns the new file if successful or a null pointer
+//    otherwise.
+//    Fails if no file named NAME exists,
+//    or if an internal memory allocation fails. */
+// struct file *filesys_open(const char *name) {
+//   // struct dir *dir = dir_open_root();
+//   // char directory[ strlen(name) ];
+//   // char file_name[ strlen(name) ];
+//   int l = strlen(name);
+//   if (l == 0) return NULL;
+
+//   char directory[ l + 1 ];
+//   char file_name[ l + 1 ];
+//   split_path_filename(name, directory, file_name);
+//   struct dir *dir = dir_open_path (directory);
+
+//   struct inode *inode = NULL;
+
+//   // removed directory handling
+//   if (dir == NULL) return NULL;
+
+//   if (strlen(file_name) > 0) {
+//     dir_lookup (dir, file_name, &inode);
+//     dir_close (dir);
+//   } else { // empty filename : just return the directory
+//     inode = dir_get_inode (dir);
+//   }
+
+//   // removed file handling
+//   if (inode == NULL || inode_is_removed (inode))
+//     return NULL;
+
+//   if (inode_get_symlink(inode)) {
+//     char target[NAME_MAX + 1];
+//     inode_read_at(inode, target, NAME_MAX + 1, 0);
+//     return filesys_open(target); // Recursively open the target of the symbolic link
+//   }
+
+//   return file_open(inode);
+// }
+
+
+// /* Deletes the file named NAME.
+//    Returns true if successful, false on failure.
+//    Fails if no file named NAME exists,
+//    or if an internal memory allocation fails. */
+// bool filesys_remove (const char *name)
+// {
+//   // struct dir *dir = dir_open_root ();
+//   // bool success = dir != NULL && dir_remove (dir, name);
+//   char directory[ strlen(name) ];
+//   char file_name[ strlen(name) ];
+//   split_path_filename(name, directory, file_name);
+//   struct dir *dir = dir_open_path (directory);
+
+//   bool success = (dir != NULL && dir_remove (dir, file_name));
+//   dir_close (dir);
+
+//   return success;
+// }
+
+// /* Creates symbolic link LINKPATH to target file TARGET
+//    Returns true if symbolic link created successfully,
+//    false otherwise. */
+// bool filesys_symlink (char *target, char *linkpath)
+// {
+//   ASSERT (target != NULL && linkpath != NULL);
+//   bool success = filesys_create (linkpath, 15, false);
+//   struct file *symlink = filesys_open (linkpath);
+//   inode_set_symlink (file_get_inode (symlink), true);
+//   inode_write_at (file_get_inode (symlink), target, NAME_MAX + 1, 0);
+//   file_close (symlink);
+//   return success;
+// }
+
+// /* Formats the file system. */
+// static void do_format (void)
+// {
+//   printf ("Formatting file system...");
+//   free_map_create ();
+//   if (!dir_create (ROOT_DIR_SECTOR, 16))
+//     PANIC ("root directory creation failed");
+//   free_map_close ();
+//   printf ("done.\n");
+// }
+
+// bool valid_filename(const char *name) {
+//     if (name == NULL) {
+//         return false;  // NULL filename is invalid
+//     }
+
+//     while (*name != '\0') {
+//         if (*name == '/') {
+//             return false;  // '/' character found, invalid filename
+//         }
+//         name++;
+//     }
+
+//     return true;  // No invalid characters found, filename is valid
+// }
+
+// /* Open a directory given its name. */
+// struct dir *filesys_open_dir (const char *name)
+// {
+//   if (!valid_filename (name) || strchr (name, '/') != NULL)
+//     return NULL;
+
+//   struct dir *dir = dir_open_path (name);
+//   return dir;
+// }
+
+// /* Open an inode given its path. */
+// struct inode *filesys_open_inode (const char *name)
+// {
+//   if (!valid_filename (name))
+//     return NULL;
+
+//   struct inode *inode = inode_open_path (name);
+//   return inode;
+// }
+
+// /* Change CWD for the current thread. */
+// bool
+// filesys_chdir (const char *name)
+// {
+//   struct dir *dir = dir_open_path (name);
+
+//   if(dir == NULL) {
+//     return false;
+//   }
+
+//   // switch CWD
+//   dir_close (thread_current()->cwd);
+//   thread_current()->cwd = dir;
+//   return true;
+// }
diff -ruN aos_pintos/src/filesys/filesys.h pintos-solution/src/filesys/filesys.h
--- aos_pintos/src/filesys/filesys.h	2024-02-09 01:26:32.059953426 +0000
+++ pintos-solution/src/filesys/filesys.h	2024-04-30 04:40:36.000000000 +0000
@@ -2,7 +2,9 @@
 #define FILESYS_FILESYS_H
 
 #include <stdbool.h>
+#include <stddef.h>
 #include "filesys/off_t.h"
+#include "devices/block.h"
 
 /* Sectors of system file inodes. */
 #define FREE_MAP_SECTOR 0 /* Free map file inode sector. */
@@ -11,6 +13,18 @@
 /* Block device that contains the file system. */
 extern struct block *fs_device;
 
+/* Count of allocated blocks. */
+typedef uint32_t blkcnt_t;
+
+/* Struct containing file status. */
+struct stat
+{
+    size_t logical_size;            /* The logical file size of a file. */
+    size_t physical_size;           /* The physical file size of a file. */
+    block_sector_t inode_number;    /* The inode number of a file. */
+    blkcnt_t blocks;                /* Number of blocks allocated. */
+};
+
 void filesys_init (bool format);
 void filesys_done (void);
 bool filesys_create (const char *name, off_t initial_size);
@@ -20,4 +34,12 @@
 /* Symbolic link creation */
 bool filesys_symlink (char *target, char *linkpath);
 
+// P4 tryout:
+// bool filesys_create (const char *name, off_t initial_size, bool is_dir);
+// bool filesys_create_dir (const char *name);
+// struct dir *filesys_open_dir (const char *name);
+// struct inode *filesys_open_inode (const char *name);
+// bool filesys_chdir (const char *name);
+// bool valid_filename(const char *name);
+
 #endif /* filesys/filesys.h */
diff -ruN aos_pintos/src/filesys/free-map.c pintos-solution/src/filesys/free-map.c
--- aos_pintos/src/filesys/free-map.c	2024-02-09 01:26:32.051953779 +0000
+++ pintos-solution/src/filesys/free-map.c	2024-04-30 04:42:51.000000000 +0000
@@ -8,6 +8,8 @@
 static struct file *free_map_file; /* Free map file. */
 static struct bitmap *free_map;    /* Free map, one bit per sector. */
 
+// P2 solution:
+
 /* Initializes the free map. */
 void free_map_init (void)
 {
@@ -73,3 +75,98 @@
   if (!bitmap_write (free_map, free_map_file))
     PANIC ("can't write free map");
 }
+
+
+// P4 tryout:
+// struct lock free_map_lock;
+
+// /* Initializes the free map. */
+// void free_map_init (void)
+// {
+//   free_map = bitmap_create (block_size (fs_device));
+//   if (free_map == NULL)
+//     PANIC ("bitmap creation failed--file system device is too large");
+//   bitmap_mark (free_map, FREE_MAP_SECTOR);
+//   bitmap_mark (free_map, ROOT_DIR_SECTOR);
+
+//   lock_init (&free_map_lock);
+// }
+
+// /* Allocates CNT consecutive sectors from the free map and stores
+//    the first into *SECTORP.
+//    Returns true if successful, false if not enough consecutive
+//    sectors were available or if the free_map file could not be
+//    written. */
+// bool free_map_allocate (size_t cnt, block_sector_t *sectorp)
+// {
+//   lock_acquire (&free_map_lock);
+//   block_sector_t sector = bitmap_scan_and_flip (free_map, 0, cnt, false);
+//   if (sector != BITMAP_ERROR && free_map_file != NULL &&
+//       !bitmap_write (free_map, free_map_file))
+//     {
+//       bitmap_set_multiple (free_map, sector, cnt, false);
+//       sector = BITMAP_ERROR;
+//     }
+//   lock_release (&free_map_lock);
+
+//   if (sector != BITMAP_ERROR)
+//     *sectorp = sector;
+  
+//   // Adjust free map file size after allocation
+//   // off_t new_size = bitmap_file_size(free_map);
+//   // if (new_size > inode_length(file_get_inode(free_map_file)))
+//   //   inode_extend(&file_get_inode(free_map_file)->data, new_size);
+
+//   return sector != BITMAP_ERROR;
+// }
+
+// // /* Makes CNT sectors starting at SECTOR available for use. */
+// void free_map_release (block_sector_t sector, size_t cnt)
+// {
+//   ASSERT (bitmap_all (free_map, sector, cnt));
+
+//   lock_acquire (&free_map_lock);
+//   bitmap_set_multiple (free_map, sector, cnt, false);
+//   bitmap_write (free_map, free_map_file);
+//   lock_release (&free_map_lock);
+// }
+
+// /* Opens the free map file and reads it from disk. */
+// void free_map_open (void)
+// {
+//   lock_acquire (&free_map_lock);
+//   free_map_file = file_open (inode_open (FREE_MAP_SECTOR));
+//   lock_release (&free_map_lock);
+
+//   if (free_map_file == NULL)
+//     PANIC ("can't open free map");
+//   if (!bitmap_read (free_map, free_map_file))
+//     PANIC ("can't read free map");
+// }
+
+// /* Writes the free map to disk and closes the free map file. */
+// void free_map_close (void) {
+//   lock_acquire (&free_map_lock);
+//   file_close (free_map_file);
+//   lock_release (&free_map_lock);
+// }
+
+// /* Creates a new free map file on disk and writes the free map to
+//    it. */
+// void free_map_create (void)
+// {
+//   /* Create inode. */
+//   // if (!inode_create_2 (FREE_MAP_SECTOR, bitmap_file_size (free_map), false))
+//   if (!inode_create (FREE_MAP_SECTOR, bitmap_file_size (free_map), false))
+//     PANIC ("free map creation failed");
+
+//   /* Write bitmap to file. */
+//   lock_acquire (&free_map_lock);
+//   free_map_file = file_open (inode_open (FREE_MAP_SECTOR));
+//   lock_release (&free_map_lock);
+
+//   if (free_map_file == NULL)
+//     PANIC ("can't open free map");
+//   if (!bitmap_write (free_map, free_map_file))
+//     PANIC ("can't write free map");
+// }
diff -ruN aos_pintos/src/filesys/fsutil.c pintos-solution/src/filesys/fsutil.c
--- aos_pintos/src/filesys/fsutil.c	2024-02-09 01:26:32.039954307 +0000
+++ pintos-solution/src/filesys/fsutil.c	2024-04-30 04:44:01.000000000 +0000
@@ -217,3 +217,218 @@
   file_close (src);
   free (buffer);
 }
+
+// P4 tryout:
+
+
+// #include "userprog/syscall.h"
+// #include "filesys/filesys.h"
+// #include "filesys/directory.h"
+
+// /* List files in the root directory. */
+// void fsutil_ls (char **argv UNUSED)
+// {
+//   struct dir *dir;
+//   char name[NAME_MAX + 1];
+
+//   printf ("Files in the root directory:\n");
+//   dir = dir_open_root ();
+//   if (dir == NULL)
+//     PANIC ("root dir open failed");
+//   while (dir_readdir (dir, name))
+//     printf ("%s\n", name);
+//   dir_close (dir);
+//   printf ("End of listing.\n");
+// }
+
+// /* Prints the contents of file ARGV[1] to the system console as
+//    hex and ASCII. */
+// void fsutil_cat (char **argv)
+// {
+//   const char *file_name = argv[1];
+
+//   struct file *file;
+//   char *buffer;
+
+//   printf ("Printing '%s' to the console...\n", file_name);
+//   file = filesys_open (file_name);
+//   if (file == NULL)
+//     PANIC ("%s: open failed", file_name);
+//   buffer = palloc_get_page (PAL_ASSERT);
+//   for (;;)
+//     {
+//       off_t pos = file_tell (file);
+//       off_t n = file_read (file, buffer, PGSIZE);
+//       if (n == 0)
+//         break;
+
+//       hex_dump (pos, buffer, n, true);
+//     }
+//   palloc_free_page (buffer);
+//   file_close (file);
+// }
+
+// /* Deletes file ARGV[1]. */
+// void fsutil_rm (char **argv)
+// {
+//   const char *file_name = argv[1];
+
+//   printf ("Deleting '%s'...\n", file_name);
+//   if (!filesys_remove (file_name))
+//     PANIC ("%s: delete failed\n", file_name);
+// }
+
+// /* Extracts a ustar-format tar archive from the scratch block
+//    device into the Pintos file system. */
+// void fsutil_extract (char **argv UNUSED)
+// {
+//   static block_sector_t sector = 0;
+
+//   struct block *src;
+//   void *header, *data;
+
+//   /* Allocate buffers. */
+//   header = malloc (BLOCK_SECTOR_SIZE);
+//   data = malloc (BLOCK_SECTOR_SIZE);
+//   if (header == NULL || data == NULL)
+//     PANIC ("couldn't allocate buffers");
+
+//   /* Open source block device. */
+//   src = block_get_role (BLOCK_SCRATCH);
+//   if (src == NULL)
+//     PANIC ("couldn't open scratch device");
+
+//   printf ("Extracting ustar archive from scratch device "
+//           "into file system...\n");
+
+//   for (;;)
+//     {
+//       const char *file_name;
+//       const char *error;
+//       enum ustar_type type;
+//       int size;
+
+//       /* Read and parse ustar header. */
+//       block_read (src, sector++, header);
+//       error = ustar_parse_header (header, &file_name, &type, &size);
+//       if (error != NULL)
+//         PANIC ("bad ustar header in sector %" PRDSNu " (%s)", sector - 1,
+//                error);
+
+//       if (type == USTAR_EOF)
+//         {
+//           /* End of archive. */
+//           break;
+//         }
+//       else if (type == USTAR_DIRECTORY)
+//         printf ("ignoring directory %s\n", file_name);
+//       else if (type == USTAR_REGULAR)
+//         {
+//           struct file *dst;
+
+//           printf ("Putting '%s' into the file system...\n", file_name);
+
+//           /* Create destination file. */
+//           // if (!filesys_create (file_name, size))
+//           if (!filesys_create (file_name, size, false))
+//             PANIC ("%s: create failed", file_name);
+//           dst = filesys_open (file_name);
+//           if (dst == NULL)
+//             PANIC ("%s: open failed", file_name);
+
+//           /* Do copy. */
+//           while (size > 0)
+//             {
+//               int chunk_size =
+//                   (size > BLOCK_SECTOR_SIZE ? BLOCK_SECTOR_SIZE : size);
+//               block_read (src, sector++, data);
+//               if (file_write (dst, data, chunk_size) != chunk_size)
+//                 PANIC ("%s: write failed with %d bytes unwritten", file_name,
+//                        size);
+//               size -= chunk_size;
+//             }
+
+//           /* Finish up. */
+//           file_close (dst);
+//         }
+//     }
+
+//   /* Erase the ustar header from the start of the block device,
+//      so that the extraction operation is idempotent.  We erase
+//      two blocks because two blocks of zeros are the ustar
+//      end-of-archive marker. */
+//   printf ("Erasing ustar archive...\n");
+//   memset (header, 0, BLOCK_SECTOR_SIZE);
+//   block_write (src, 0, header);
+//   block_write (src, 1, header);
+
+//   free (data);
+//   free (header);
+// }
+
+// /* Copies file FILE_NAME from the file system to the scratch
+//    device, in ustar format.
+
+//    The first call to this function will write starting at the
+//    beginning of the scratch device.  Later calls advance across
+//    the device.  This position is independent of that used for
+//    fsutil_extract(), so `extract' should precede all
+//    `append's. */
+// void fsutil_append (char **argv)
+// {
+//   static block_sector_t sector = 0;
+
+//   const char *file_name = argv[1];
+//   void *buffer;
+//   struct file *src;
+//   struct block *dst;
+//   off_t size;
+
+//   printf ("Appending '%s' to ustar archive on scratch device...\n", file_name);
+
+//   /* Allocate buffer. */
+//   buffer = malloc (BLOCK_SECTOR_SIZE);
+//   if (buffer == NULL)
+//     PANIC ("couldn't allocate buffer");
+
+//   /* Open source file. */
+//   src = filesys_open (file_name);
+//   if (src == NULL)
+//     PANIC ("%s: open failed", file_name);
+//   size = file_length (src);
+
+//   /* Open target block device. */
+//   dst = block_get_role (BLOCK_SCRATCH);
+//   if (dst == NULL)
+//     PANIC ("couldn't open scratch device");
+
+//   /* Write ustar header to first sector. */
+//   if (!ustar_make_header (file_name, USTAR_REGULAR, size, buffer))
+//     PANIC ("%s: name too long for ustar format", file_name);
+//   block_write (dst, sector++, buffer);
+
+//   /* Do copy. */
+//   while (size > 0)
+//     {
+//       int chunk_size = size > BLOCK_SECTOR_SIZE ? BLOCK_SECTOR_SIZE : size;
+//       if (sector >= block_size (dst))
+//         PANIC ("%s: out of space on scratch device", file_name);
+//       if (file_read (src, buffer, chunk_size) != chunk_size)
+//         PANIC ("%s: read failed with %" PROTd " bytes unread", file_name, size);
+//       memset ((uint8_t *) buffer + chunk_size, 0,
+//               BLOCK_SECTOR_SIZE - chunk_size);
+//       block_write (dst, sector++, buffer);
+//       size -= chunk_size;
+//     }
+
+//   /* Write ustar end-of-archive marker, which is two consecutive
+//      sectors full of zeros.  Don't advance our position past
+//      them, though, in case we have more files to append. */
+//   memset (buffer, 0, BLOCK_SECTOR_SIZE);
+//   block_write (dst, sector, buffer);
+//   block_write (dst, sector + 1, buffer);
+
+//   /* Finish up. */
+//   file_close (src);
+//   free (buffer);
+// }
diff -ruN aos_pintos/src/filesys/inode.c pintos-solution/src/filesys/inode.c
--- aos_pintos/src/filesys/inode.c	2024-02-09 01:26:32.067953074 +0000
+++ pintos-solution/src/filesys/inode.c	2024-04-30 04:40:00.000000000 +0000
@@ -10,6 +10,12 @@
 /* Identifies an inode. */
 #define INODE_MAGIC 0x494e4f44
 
+// P4 tryout:
+// #define DIRECT_BLOCKS 122
+// #define INDIRECT_BLOCKS 128
+// #define DOUBLY_INDIRECT_BLOCKS 128 * 128
+
+// P2 soltuion:
 /* On-disk inode.
    Must be exactly BLOCK_SECTOR_SIZE bytes long. */
 struct inode_disk
@@ -19,8 +25,18 @@
   unsigned magic;       /* Magic number. */
   bool is_symlink;      /* True if symbolic link, false otherwise. */
   uint32_t unused[124]; /* Not used. */
+
+// P4 tryout:
+//   block_sector_t direct_blocks[DIRECT_BLOCKS];  /* Direct block pointers. */
+//   block_sector_t indirect_block;      /* Indirect block pointer. */
+//   block_sector_t doubly_indirect_block; /* Doubly indirect block pointer. */
+//   bool is_dir;
 };
 
+// struct inode_indirect_block_sector {
+//   block_sector_t blocks[INDIRECT_BLOCKS];
+// };
+
 /* Returns the number of sectors to allocate for an inode SIZE
    bytes long. */
 static inline size_t bytes_to_sectors (off_t size)
@@ -337,3 +353,667 @@
   inode->data.is_symlink = is_symlink;
   block_write (fs_device, inode->sector, &inode->data);
 }
+
+
+
+// P4 tryout:
+
+// static block_sector_t
+// index_to_sector (const struct inode_disk *idisk, off_t index)
+// {
+//   off_t index_base = 0, index_limit = 0;   // base, limit for sector index
+//   block_sector_t ret;
+
+//   // (1) direct blocks
+//   index_limit += DIRECT_BLOCKS * 1;
+//   if (index < index_limit) {
+//     return idisk->direct_blocks[index];
+//   }
+//   index_base = index_limit;
+
+//   // (2) a single indirect block
+//   index_limit += 1 * INDIRECT_BLOCKS;
+//   if (index < index_limit) {
+//     struct inode_indirect_block_sector *indirect_idisk;
+//     indirect_idisk = calloc(1, sizeof(struct inode_indirect_block_sector));
+//     block_read (fs_device, idisk->indirect_block, indirect_idisk);
+
+//     ret = indirect_idisk->blocks[ index - index_base ];
+//     free(indirect_idisk);
+
+//     return ret;
+//   }
+//   index_base = index_limit;
+
+//   // (3) a single doubly indirect block
+//   index_limit += 1 * INDIRECT_BLOCKS * INDIRECT_BLOCKS;
+//   if (index < index_limit) {
+//     // first and second level block index, respecitvely
+//     off_t index_first =  (index - index_base) / INDIRECT_BLOCKS;
+//     off_t index_second = (index - index_base) % INDIRECT_BLOCKS;
+
+//     // fetch two indirect block sectors
+//     struct inode_indirect_block_sector *indirect_idisk;
+//     indirect_idisk = calloc(1, sizeof(struct inode_indirect_block_sector));
+
+//     block_read (fs_device, idisk->doubly_indirect_block, indirect_idisk);
+//     block_read (fs_device, indirect_idisk->blocks[index_first], indirect_idisk);
+//     ret = indirect_idisk->blocks[index_second];
+
+//     free(indirect_idisk);
+//     return ret;
+//   }
+
+//   // (4) what up?
+//   return -1;
+// }
+
+// block_sector_t byte_to_sector(const struct inode *inode, off_t pos)
+// {
+//   ASSERT(inode != NULL);
+//   if (0 <= pos && pos < inode->data.length) {
+//     // sector index
+//     off_t index = pos / BLOCK_SECTOR_SIZE;
+//     return index_to_sector (&inode->data, index);
+//   }
+//   else
+//     return -1;
+// }
+
+// /* List of open inodes, so that opening a single inode twice
+//    returns the same `struct inode'. */
+// static struct list open_inodes;
+// struct lock inode_lock;
+
+// /* Initializes the inode module. */
+// void inode_init (void) { list_init (&open_inodes); }
+
+// /* Initializes an inode with LENGTH bytes of data and
+//    writes the new inode to sector SECTOR on the file system
+//    device.
+//    Returns true if successful.
+//    Returns false if memory or disk allocation fails. */
+// bool inode_create (block_sector_t sector, off_t length, bool is_dir)
+// {
+//   struct inode_disk *disk_inode = NULL;
+//   bool success = false;
+
+//   ASSERT (length >= 0);
+
+//   /* If this assertion fails, the inode structure is not exactly
+//      one sector in size, and you should fix that. */
+//   ASSERT (sizeof *disk_inode == BLOCK_SECTOR_SIZE);
+
+//   disk_inode = calloc (1, sizeof *disk_inode);
+//   if (disk_inode != NULL)
+//     {
+//       size_t sectors = bytes_to_sectors (length);
+//       disk_inode->length = length;
+//       disk_inode->magic = INODE_MAGIC;
+//       disk_inode->is_dir = is_dir;
+//       disk_inode->is_symlink = false;
+//       if (inode_allocate (disk_inode))
+//         {
+//           block_write (fs_device, sector, disk_inode);
+//           success = true;
+//         }
+//       free (disk_inode);
+//     }
+//   return success;
+// }
+
+// /* Reads an inode from SECTOR
+//    and returns a `struct inode' that contains it.
+//    Returns a null pointer if memory allocation fails. */
+// struct inode *inode_open (block_sector_t sector)
+// {
+//   struct list_elem *e;
+//   struct inode *inode;
+
+//   /* Check whether this inode is already open. */
+//   for (e = list_begin (&open_inodes); e != list_end (&open_inodes);
+//        e = list_next (e))
+//     {
+//       inode = list_entry (e, struct inode, elem);
+//       if (inode->sector == sector)
+//         {
+//           inode_reopen (inode);
+//           return inode;
+//         }
+//     }
+
+//   /* Allocate memory. */
+//   inode = malloc (sizeof *inode);
+//   if (inode == NULL)
+//     return NULL;
+
+//   /* Initialize. */
+//   list_push_front (&open_inodes, &inode->elem);
+//   inode->sector = sector;
+//   inode->open_cnt = 1;
+//   inode->deny_write_cnt = 0;
+//   inode->removed = false;
+//   block_read (fs_device, inode->sector, &inode->data);
+//   return inode;
+// }
+
+// /* Reopens and returns INODE. */
+// struct inode *inode_reopen (struct inode *inode)
+// {
+//   if (inode != NULL)
+//     inode->open_cnt++;
+//   return inode;
+// }
+
+// /* Returns INODE's inode number. */
+// block_sector_t inode_get_inumber (const struct inode *inode)
+// {
+//   return inode->sector;
+// }
+
+// /* Closes INODE and writes it to disk. (Does it?  Check code.)
+//    If this was the last reference to INODE, frees its memory.
+//    If INODE was also a removed inode, frees its blocks. */
+// void inode_close (struct inode *inode)
+// {
+//   /* Ignore null pointer. */
+//   if (inode == NULL)
+//     return;
+
+//   /* Release resources if this was the last opener. */
+//   if (--inode->open_cnt == 0)
+//     {
+//       /* Remove from inode list and release lock. */
+//       list_remove (&inode->elem);
+
+//       /* Deallocate blocks if removed. */
+//       if (inode->removed)
+//         {
+//           free_map_release (inode->sector, 1);
+//           inode_deallocate (inode);
+//         }
+
+//       free (inode);
+//     }
+// }
+
+
+// /* Marks INODE to be deleted when it is closed by the last caller who
+//    has it open. */
+// void inode_remove (struct inode *inode)
+// {
+//   ASSERT (inode != NULL);
+//   inode->removed = true;
+// }
+
+// /* Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET.
+//    Returns the number of bytes actually read, which may be less
+//    than SIZE if an error occurs or end of file is reached. */
+// off_t inode_read_at (struct inode *inode, void *buffer_, off_t size,
+//                      off_t offset)
+// {
+//   uint8_t *buffer = buffer_;
+//   off_t bytes_read = 0;
+//   uint8_t *bounce = NULL;
+
+//   while (size > 0)
+//     {
+//       /* Disk sector to read, starting byte offset within sector. */
+//       block_sector_t sector_idx = byte_to_sector (inode, offset);
+//       int sector_ofs = offset % BLOCK_SECTOR_SIZE;
+
+//       /* Bytes left in inode, bytes left in sector, lesser of the two. */
+//       off_t inode_left = inode_length (inode) - offset;
+//       int sector_left = BLOCK_SECTOR_SIZE - sector_ofs;
+//       int min_left = inode_left < sector_left ? inode_left : sector_left;
+
+//       /* Number of bytes to actually copy out of this sector. */
+//       int chunk_size = size < min_left ? size : min_left;
+//       if (chunk_size <= 0)
+//         break;
+
+//       if (sector_idx == (block_sector_t)-1) {
+//         if (sector_ofs == 0 && chunk_size == BLOCK_SECTOR_SIZE)
+//           {
+//             /* Read full sector directly into caller's buffer. */
+//             block_read (fs_device, sector_idx, buffer + bytes_read);
+//           }
+//         else
+//           {
+//             /* Read sector into bounce buffer, then partially copy
+//               into caller's buffer. */
+//             if (bounce == NULL)
+//               {
+//                 bounce = malloc (BLOCK_SECTOR_SIZE);
+//                 if (bounce == NULL)
+//                   break;
+//               }
+//             block_read (fs_device, sector_idx, bounce);
+//             memcpy (buffer + bytes_read, bounce + sector_ofs, chunk_size);
+//           }
+//       } else {
+//         // Reading from unallocated block, fill buffer with zeros
+//         memset(buffer + bytes_read, 0, chunk_size);
+//       }
+
+//       /* Advance. */
+//       size -= chunk_size;
+//       offset += chunk_size;
+//       bytes_read += chunk_size;
+//     }
+//   free (bounce);
+
+//   return bytes_read;
+// }
+
+// /* Writes SIZE bytes from BUFFER into INODE, starting at OFFSET.
+//    Returns the number of bytes actually written, which may be
+//    less than SIZE if end of file is reached or an error occurs.
+//    (Normally a write at end of file would extend the inode, but
+//    growth is not yet implemented.) */
+// off_t inode_write_at (struct inode *inode, const void *buffer_, off_t size,
+//                       off_t offset)
+// {
+//   const uint8_t *buffer = buffer_;
+//   off_t bytes_written = 0;
+//   uint8_t *bounce = NULL;
+
+//   if (inode->deny_write_cnt)
+//     return 0;
+
+//   // beyond the EOF: extend the file
+//   if( byte_to_sector(inode, offset + size - 1) == -1u ) {
+//     // extend and reserve up to [offset + size] bytes
+//     bool success;
+//     success = inode_reserve (& inode->data, offset + size);
+//     if (!success) return 0;  // fail?
+
+//     // write back the (extended) file size
+//     inode->data.length = offset + size;
+//     block_write (fs_device, inode->sector, & inode->data);
+//   }
+
+//   while (size > 0)
+//     {
+//       /* Sector to write, starting byte offset within sector. */
+//       block_sector_t sector_idx = byte_to_sector (inode, offset);
+//       int sector_ofs = offset % BLOCK_SECTOR_SIZE;
+
+//       /* Bytes left in inode, bytes left in sector, lesser of the two. */
+//       off_t inode_left = inode_length (inode) - offset;
+//       int sector_left = BLOCK_SECTOR_SIZE - sector_ofs;
+//       int min_left = inode_left < sector_left ? inode_left : sector_left;
+
+//       /* Number of bytes to actually write into this sector. */
+//       int chunk_size = size < min_left ? size : min_left;
+//       if (chunk_size <= 0)
+//         break;
+
+//       if (sector_ofs == 0 && chunk_size == BLOCK_SECTOR_SIZE)
+//         {
+//           /* Write full sector directly to disk. */
+//           block_write (fs_device, sector_idx, buffer + bytes_written);
+//         }
+//       else
+//         {
+//           /* We need a bounce buffer. */
+//           if (bounce == NULL)
+//             {
+//               bounce = malloc (BLOCK_SECTOR_SIZE);
+//               if (bounce == NULL)
+//                 break;
+//             }
+
+//           /* If the sector contains data before or after the chunk
+//              we're writing, then we need to read in the sector
+//              first.  Otherwise we start with a sector of all zeros. */
+//           if (sector_ofs > 0 || chunk_size < sector_left)
+//             block_read (fs_device, sector_idx, bounce);
+//           else
+//             memset (bounce, 0, BLOCK_SECTOR_SIZE);
+//           memcpy (bounce + sector_ofs, buffer + bytes_written, chunk_size);
+//           block_write (fs_device, sector_idx, bounce);
+//         }
+
+//       /* Advance. */
+//       size -= chunk_size;
+//       offset += chunk_size;
+//       bytes_written += chunk_size;
+//     }
+//   free (bounce);
+
+//   return bytes_written;
+// }
+
+// /* Disables writes to INODE.
+//    May be called at most once per inode opener. */
+// void inode_deny_write (struct inode *inode)
+// {
+//   inode->deny_write_cnt++;
+//   ASSERT (inode->deny_write_cnt <= inode->open_cnt);
+// }
+
+// /* Re-enables writes to INODE.
+//    Must be called once by each inode opener who has called
+//    inode_deny_write() on the inode, before closing the inode. */
+// void inode_allow_write (struct inode *inode)
+// {
+//   ASSERT (inode->deny_write_cnt > 0);
+//   ASSERT (inode->deny_write_cnt <= inode->open_cnt);
+//   inode->deny_write_cnt--;
+// }
+
+// /* Returns the length, in bytes, of INODE's data. */
+// off_t inode_length (const struct inode *inode) { return inode->data.length; }
+
+// bool inode_get_symlink (struct inode *inode) { 
+//   ASSERT (inode != NULL);
+//   return inode->data.is_symlink; 
+// }
+
+// void inode_set_symlink (struct inode *inode, bool is_symlink)
+// {
+//   inode->data.is_symlink = is_symlink;
+//   block_write (fs_device, inode->sector, &inode->data);
+// }
+
+// bool inode_expand (struct inode_disk *disk_inode, off_t new_length)
+// {
+//   off_t old_length = disk_inode->length;
+//   off_t sectors_needed = bytes_to_sectors(new_length) - bytes_to_sectors(old_length);
+//   if (sectors_needed <= 0)
+//     return true; // No expansion needed
+
+//   size_t i;
+
+//   // Direct blocks
+//   for (i = 0; i < DIRECT_BLOCKS && sectors_needed > 0; ++i)
+//   {
+//     if (disk_inode->direct_blocks[i] == 0)
+//     {
+//       if (!free_map_allocate(1, &disk_inode->direct_blocks[i]))
+//         return false;
+//       --sectors_needed;
+//     }
+//   }
+
+//   // Indirect block
+//   if (sectors_needed > 0 && disk_inode->indirect_block == 0)
+//   {
+//     if (!free_map_allocate(1, &disk_inode->indirect_block))
+//       return false;
+//     --sectors_needed;
+//   }
+
+//   // Doubly indirect block
+//   if (sectors_needed > 0 && disk_inode->doubly_indirect_block == 0)
+//   {
+//     if (!free_map_allocate(1, &disk_inode->doubly_indirect_block))
+//       return false;
+//     --sectors_needed;
+//   }
+
+//   return sectors_needed <= 0;
+// }
+
+// off_t inode_extend (struct inode_disk *disk_inode, off_t new_length)
+// {
+//   if (new_length > disk_inode->length)
+//   {
+//     if (!inode_expand(disk_inode, new_length))
+//       return disk_inode->length;
+//     disk_inode->length = new_length;
+//   }
+//   return disk_inode->length;
+// }
+
+// bool inode_is_dir(const struct inode *inode)
+// {
+//     return inode != NULL && inode->data.is_dir;
+// }
+
+// /* Open an inode given its path. */
+// struct inode *inode_open_path(const char *path)
+// {
+//     struct inode *inode = NULL;
+//     struct dir *dir = NULL;
+//     char *path_copy = NULL;
+//     char *token, *save_ptr;
+
+//     /* Check if path is not null */
+//     if (path == NULL)
+//         return NULL;
+
+//     /* Make a copy of path for tokenizing */
+//     path_copy = malloc(strlen(path) + 1);
+//     if (path_copy == NULL)
+//         return NULL;
+//     strlcpy(path_copy, path, strlen(path) + 1);
+
+//     /* Tokenize the path to traverse directories */
+//     token = strtok_r(path_copy, "/", &save_ptr);
+//     if (token == NULL) {
+//         free(path_copy);
+//         return NULL; // Empty path
+//     }
+
+//     /* Open the root directory initially */
+//     dir = dir_open_root();
+//     if (dir == NULL) {
+//         free(path_copy);
+//         return NULL; // Failed to open root directory
+//     }
+
+//     /* Traverse through each token in the path */
+//     while (token != NULL && dir != NULL) {
+//         /* Lookup the entry corresponding to the token */
+//         if (!dir_lookup(dir, token, &inode)) {
+//             dir_close(dir);
+//             free(path_copy);
+//             return NULL; // Entry not found
+//         }
+
+//         /* Check if the inode is a directory */
+//         if (inode_is_dir(inode)) {
+//             /* Close the current directory and open the subdirectory */
+//             dir_close(dir);
+//             dir = dir_open(inode);
+//         } else {
+//             /* Not a directory, close the directory */
+//             dir_close(dir);
+//             dir = NULL;
+//         }
+
+//         /* Move to the next token */
+//         token = strtok_r(NULL, "/", &save_ptr);
+//     }
+
+//     free(path_copy);
+//     return inode;
+// }
+
+// /* Returns the physical length of the inode's data. */
+// off_t inode_length_physical(const struct inode *inode) {
+//     lock_acquire(&inode_lock);
+//     off_t length = inode->data.length;
+//     lock_release(&inode_lock);
+//     return length;
+// }
+
+// /* Returns the number of blocks allocated to the inode. */
+// blkcnt_t inode_get_blocks(const struct inode *inode) {
+//     lock_acquire(&inode_lock);
+//     off_t length = inode->data.length;
+//     blkcnt_t blocks = (length + BLOCK_SECTOR_SIZE - 1) / BLOCK_SECTOR_SIZE;
+//     lock_release(&inode_lock);
+//     return blocks;
+// }
+
+// /* Returns whether the file is removed or not. */
+// bool
+// inode_is_removed (const struct inode *inode)
+// {
+//   return inode->removed;
+// }
+
+// static inline size_t
+// min (size_t a, size_t b)
+// {
+//   return a < b ? a : b;
+// }
+
+// static
+// bool inode_allocate (struct inode_disk *disk_inode)
+// {
+//   return inode_reserve (disk_inode, disk_inode->length);
+// }
+
+// static bool
+// inode_reserve_indirect (block_sector_t* p_entry, size_t num_sectors, int level)
+// {
+//   static char zeros[BLOCK_SECTOR_SIZE];
+
+//   // only supports 2-level indirect block scheme as of now
+//   ASSERT (level <= 2);
+
+//   if (level == 0) {
+//     // base case : allocate a single sector if necessary and put it into the block
+//     if (*p_entry == 0) {
+//       if(! free_map_allocate (1, p_entry))
+//         return false;
+//       block_write (fs_device, *p_entry, zeros);
+//     }
+//     return true;
+//   }
+
+//   struct inode_indirect_block_sector indirect_block;
+//   if(*p_entry == 0) {
+//     // not yet allocated: allocate it, and fill with zero
+//     free_map_allocate (1, p_entry);
+//     block_write (fs_device,*p_entry, zeros);
+//   }
+//   block_read (fs_device, *p_entry, &indirect_block);
+
+//   size_t unit = (level == 1 ? 1 : INDIRECT_BLOCKS);
+//   size_t i, l = DIV_ROUND_UP (num_sectors, unit);
+
+//   for (i = 0; i < l; ++ i) {
+//     size_t subsize = min(num_sectors, unit);
+//     // inode_reserve_indirect (& indirect_block.blocks[i], subsize, level - 1);
+//     if(! inode_reserve_indirect (& indirect_block.blocks[i], subsize, level - 1))
+//       return false;
+//     num_sectors -= subsize;
+//   }
+
+//   ASSERT (num_sectors == 0);
+//   block_write (fs_device, *p_entry, &indirect_block);
+//   return true;
+// }
+
+// static bool
+// inode_reserve (struct inode_disk *disk_inode, off_t length)
+// {
+//   static char zeros[BLOCK_SECTOR_SIZE];
+
+//   if (length < 0) return false;
+
+//   // (remaining) number of sectors, occupied by this file.
+//   size_t num_sectors = bytes_to_sectors(length);
+//   size_t i, l;
+
+//   // (1) direct blocks
+//   l = min(num_sectors, DIRECT_BLOCKS * 1);
+//   for (i = 0; i < l; ++ i) {
+//     if (disk_inode->direct_blocks[i] == 0) { // unoccupied
+//       // free_map_allocate (1, &disk_inode->direct_blocks[i]);
+//       if(! free_map_allocate (1, &disk_inode->direct_blocks[i]))
+//         return false;
+//       block_write (fs_device, disk_inode->direct_blocks[i], zeros);
+//     }
+//   }
+//   num_sectors -= l;
+//   if(num_sectors == 0) return true;
+
+//   // (2) a single indirect block
+//   l = min(num_sectors, 1 * INDIRECT_BLOCKS);
+//   // inode_reserve_indirect (& disk_inode->indirect_block, l, 1);
+//   if(! inode_reserve_indirect (& disk_inode->indirect_block, l, 1))
+//     return false;
+//   num_sectors -= l;
+//   if(num_sectors == 0) return true;
+
+//   // (3) a single doubly indirect block
+//   l = min(num_sectors, 1 * INDIRECT_BLOCKS * INDIRECT_BLOCKS);
+//   // inode_reserve_indirect (& disk_inode->doubly_indirect_block, l, 2);
+//   if(! inode_reserve_indirect (& disk_inode->doubly_indirect_block, l, 2))
+//     return false;
+//   num_sectors -= l;
+//   if(num_sectors == 0) return true;
+
+//   ASSERT (num_sectors == 0);
+//   return false;
+// }
+
+// static void
+// inode_deallocate_indirect (block_sector_t entry, size_t num_sectors, int level)
+// {
+//   // only supports 2-level indirect block scheme as of now
+//   ASSERT (level <= 2);
+
+//   if (level == 0) {
+//     free_map_release (entry, 1);
+//     return;
+//   }
+
+//   struct inode_indirect_block_sector indirect_block;
+//   block_read (fs_device, entry, &indirect_block);
+
+//   size_t unit = (level == 1 ? 1 : INDIRECT_BLOCKS);
+//   size_t i, l = DIV_ROUND_UP (num_sectors, unit);
+
+//   for (i = 0; i < l; ++ i) {
+//     size_t subsize = min(num_sectors, unit);
+//     inode_deallocate_indirect (indirect_block.blocks[i], subsize, level - 1);
+//     num_sectors -= subsize;
+//   }
+
+//   ASSERT (num_sectors == 0);
+//   free_map_release (entry, 1);
+// }
+
+// static
+// bool inode_deallocate (struct inode *inode)
+// {
+//   off_t file_length = inode->data.length; // bytes
+//   if(file_length < 0) return false;
+
+//   // (remaining) number of sectors, occupied by this file.
+//   size_t num_sectors = bytes_to_sectors(file_length);
+//   size_t i, l;
+
+//   // (1) direct blocks
+//   l = min(num_sectors, DIRECT_BLOCKS * 1);
+//   for (i = 0; i < l; ++ i) {
+//     free_map_release (inode->data.direct_blocks[i], 1);
+//   }
+//   num_sectors -= l;
+
+//   // (2) a single indirect block
+//   l = min(num_sectors, 1 * INDIRECT_BLOCKS);
+//   if(l > 0) {
+//     inode_deallocate_indirect (inode->data.indirect_block, l, 1);
+//     num_sectors -= l;
+//   }
+
+//   // (3) a single doubly indirect block
+//   l = min(num_sectors, 1 * INDIRECT_BLOCKS * INDIRECT_BLOCKS);
+//   if(l > 0) {
+//     inode_deallocate_indirect (inode->data.doubly_indirect_block, l, 2);
+//     num_sectors -= l;
+//   }
+
+//   ASSERT (num_sectors == 0);
+//   return true;
+// }
+
+
diff -ruN aos_pintos/src/filesys/inode.h pintos-solution/src/filesys/inode.h
--- aos_pintos/src/filesys/inode.h	2024-02-09 01:26:32.047953955 +0000
+++ pintos-solution/src/filesys/inode.h	2024-04-30 04:38:41.000000000 +0000
@@ -22,4 +22,14 @@
 bool inode_get_symlink (struct inode *inode);
 void inode_set_symlink (struct inode *inode, bool is_symlink);
 
+// P4 tryout:
+// bool inode_expand (struct inode_disk *disk_inode, off_t new_length);
+// off_t inode_extend (struct inode_disk *disk_inode, off_t new_length);
+// block_sector_t byte_to_sector(const struct inode *inode, off_t pos);
+// bool inode_is_dir(const struct inode *inode);
+// struct inode *inode_open_path(const char *path);
+// off_t inode_length_physical(const struct inode *inode);
+// blkcnt_t inode_get_blocks(const struct inode *inode);
+// bool inode_is_removed (const struct inode *);
+
 #endif /* filesys/inode.h */
diff -ruN aos_pintos/src/lib/build/Makefile pintos-solution/src/lib/build/Makefile
--- aos_pintos/src/lib/build/Makefile	2024-02-09 02:53:22.256912855 +0000
+++ pintos-solution/src/lib/build/Makefile	1970-01-01 00:00:00.000000000 +0000
@@ -1,113 +0,0 @@
-# -*- makefile -*-
-
-# WARNING: Only edit me in the src/ directory!  (not in build/!)
-
-SRCDIR = ../..
-
-all: kernel.bin loader.bin
-
-include ../../Make.config
-include ../Make.vars
-include ../../tests/Make.tests
-
-# Compiler and assembler options.
-kernel.bin: CPPFLAGS += -I$(SRCDIR)/lib/kernel
-
-# Core kernel.
-threads_SRC  = threads/start.S		# Startup code.
-threads_SRC += threads/init.c		# Main program.
-threads_SRC += threads/thread.c		# Thread management core.
-threads_SRC += threads/switch.S		# Thread switch routine.
-threads_SRC += threads/interrupt.c	# Interrupt core.
-threads_SRC += threads/intr-stubs.S	# Interrupt stubs.
-threads_SRC += threads/synch.c		# Synchronization.
-threads_SRC += threads/palloc.c		# Page allocator.
-threads_SRC += threads/malloc.c		# Subpage allocator.
-
-# Device driver code.
-devices_SRC  = devices/pit.c		# Programmable interrupt timer chip.
-devices_SRC += devices/timer.c		# Periodic timer device.
-devices_SRC += devices/kbd.c		# Keyboard device.
-devices_SRC += devices/vga.c		# Video device.
-devices_SRC += devices/serial.c		# Serial port device.
-devices_SRC += devices/block.c		# Block device abstraction layer.
-devices_SRC += devices/partition.c	# Partition block device.
-devices_SRC += devices/ide.c		# IDE disk block device.
-devices_SRC += devices/input.c		# Serial and keyboard input.
-devices_SRC += devices/intq.c		# Interrupt queue.
-devices_SRC += devices/rtc.c		# Real-time clock.
-devices_SRC += devices/shutdown.c	# Reboot and power off.
-devices_SRC += devices/speaker.c	# PC speaker.
-
-# Library code shared between kernel and user programs.
-lib_SRC  = lib/debug.c			# Debug helpers.
-lib_SRC += lib/random.c			# Pseudo-random numbers.
-lib_SRC += lib/stdio.c			# I/O library.
-lib_SRC += lib/stdlib.c			# Utility functions.
-lib_SRC += lib/string.c			# String functions.
-lib_SRC += lib/arithmetic.c		# 64-bit arithmetic for GCC.
-lib_SRC += lib/ustar.c			# Unix standard tar format utilities.
-
-# Kernel-specific library code.
-lib/kernel_SRC  = lib/kernel/debug.c	# Debug helpers.
-lib/kernel_SRC += lib/kernel/list.c	# Doubly-linked lists.
-lib/kernel_SRC += lib/kernel/bitmap.c	# Bitmaps.
-lib/kernel_SRC += lib/kernel/hash.c	# Hash tables.
-lib/kernel_SRC += lib/kernel/console.c	# printf(), putchar().
-
-# User process code.
-userprog_SRC  = userprog/process.c	# Process loading.
-userprog_SRC += userprog/pagedir.c	# Page directories.
-userprog_SRC += userprog/exception.c	# User exception handler.
-userprog_SRC += userprog/syscall.c	# System call handler.
-userprog_SRC += userprog/gdt.c		# GDT initialization.
-userprog_SRC += userprog/tss.c		# TSS management.
-
-# No virtual memory code yet.
-vm_SRC = vm/frame.c			# Some file.
-vm_SRC += vm/page.c			# Some file.
-vm_SRC += vm/swap.c			# Some file.
-
-# Filesystem code.
-filesys_SRC  = filesys/filesys.c	# Filesystem core.
-filesys_SRC += filesys/free-map.c	# Free sector bitmap.
-filesys_SRC += filesys/file.c		# Files.
-filesys_SRC += filesys/directory.c	# Directories.
-filesys_SRC += filesys/inode.c		# File headers.
-filesys_SRC += filesys/fsutil.c		# Utilities.
-
-SOURCES = $(foreach dir,$(KERNEL_SUBDIRS),$($(dir)_SRC))
-OBJECTS = $(patsubst %.c,%.o,$(patsubst %.S,%.o,$(SOURCES)))
-DEPENDS = $(patsubst %.o,%.d,$(OBJECTS))
-
-threads/kernel.lds.s: CPPFLAGS += -P
-threads/kernel.lds.s: threads/kernel.lds.S threads/loader.h
-
-kernel.o: threads/kernel.lds.s $(OBJECTS) 
-	$(LD) -T $< -o $@ $(OBJECTS)
-
-kernel.bin: kernel.o
-	$(OBJCOPY) -R .note -R .comment -S $< $@
-
-threads/loader.o: threads/loader.S
-	$(CC) -c $< -o $@ $(ASFLAGS) $(CPPFLAGS) $(DEFINES)
-
-loader.bin: threads/loader.o
-	$(LD) -N -e 0 -Ttext 0x7c00 --oformat binary -o $@ $<
-
-os.dsk: kernel.bin
-	cat $^ > $@
-
-clean::
-	rm -f $(OBJECTS) $(DEPENDS) 
-	rm -f threads/loader.o threads/kernel.lds.s threads/loader.d
-	rm -f kernel.bin.tmp
-	rm -f kernel.o kernel.lds.s
-	rm -f kernel.bin loader.bin
-	rm -f bochsout.txt bochsrc.txt
-	rm -f results grade
-
-Makefile: $(SRCDIR)/Makefile.build
-	cp $< $@
-
--include $(DEPENDS)
diff -ruN aos_pintos/src/lib/build/devices/block.d pintos-solution/src/lib/build/devices/block.d
--- aos_pintos/src/lib/build/devices/block.d	2024-02-09 02:53:23.148882564 +0000
+++ pintos-solution/src/lib/build/devices/block.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-devices/block.o: ../../devices/block.c ../../devices/block.h \
- ../../lib/stddef.h ../../lib/inttypes.h ../../lib/stdint.h \
- ../../lib/kernel/list.h ../../lib/stdbool.h ../../lib/string.h \
- ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
- ../../lib/kernel/stdio.h ../../devices/ide.h ../../threads/malloc.h
Binary files aos_pintos/src/lib/build/devices/block.o and pintos-solution/src/lib/build/devices/block.o differ
diff -ruN aos_pintos/src/lib/build/devices/ide.d pintos-solution/src/lib/build/devices/ide.d
--- aos_pintos/src/lib/build/devices/ide.d	2024-02-09 02:53:23.284877946 +0000
+++ pintos-solution/src/lib/build/devices/ide.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,7 +0,0 @@
-devices/ide.o: ../../devices/ide.c ../../devices/ide.h ../../lib/ctype.h \
- ../../lib/debug.h ../../lib/stdbool.h ../../lib/stdio.h \
- ../../lib/stdarg.h ../../lib/stddef.h ../../lib/stdint.h \
- ../../lib/kernel/stdio.h ../../devices/block.h ../../lib/inttypes.h \
- ../../devices/partition.h ../../devices/timer.h ../../lib/round.h \
- ../../threads/io.h ../../threads/interrupt.h ../../threads/synch.h \
- ../../lib/kernel/list.h
Binary files aos_pintos/src/lib/build/devices/ide.o and pintos-solution/src/lib/build/devices/ide.o differ
diff -ruN aos_pintos/src/lib/build/devices/input.d pintos-solution/src/lib/build/devices/input.d
--- aos_pintos/src/lib/build/devices/input.d	2024-02-09 02:53:23.316876859 +0000
+++ pintos-solution/src/lib/build/devices/input.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-devices/input.o: ../../devices/input.c ../../devices/input.h \
- ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h \
- ../../devices/intq.h ../../threads/interrupt.h ../../threads/synch.h \
- ../../lib/kernel/list.h ../../lib/stddef.h ../../devices/serial.h
Binary files aos_pintos/src/lib/build/devices/input.o and pintos-solution/src/lib/build/devices/input.o differ
diff -ruN aos_pintos/src/lib/build/devices/intq.d pintos-solution/src/lib/build/devices/intq.d
--- aos_pintos/src/lib/build/devices/intq.d	2024-02-09 02:53:23.380874686 +0000
+++ pintos-solution/src/lib/build/devices/intq.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-devices/intq.o: ../../devices/intq.c ../../devices/intq.h \
- ../../threads/interrupt.h ../../lib/stdbool.h ../../lib/stdint.h \
- ../../threads/synch.h ../../lib/kernel/list.h ../../lib/stddef.h \
- ../../lib/debug.h ../../threads/thread.h
Binary files aos_pintos/src/lib/build/devices/intq.o and pintos-solution/src/lib/build/devices/intq.o differ
diff -ruN aos_pintos/src/lib/build/devices/kbd.d pintos-solution/src/lib/build/devices/kbd.d
--- aos_pintos/src/lib/build/devices/kbd.d	2024-02-09 02:53:22.992887862 +0000
+++ pintos-solution/src/lib/build/devices/kbd.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-devices/kbd.o: ../../devices/kbd.c ../../devices/kbd.h ../../lib/stdint.h \
- ../../lib/ctype.h ../../lib/debug.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/kernel/stdio.h \
- ../../lib/string.h ../../devices/input.h ../../devices/shutdown.h \
- ../../threads/interrupt.h ../../threads/io.h
Binary files aos_pintos/src/lib/build/devices/kbd.o and pintos-solution/src/lib/build/devices/kbd.o differ
diff -ruN aos_pintos/src/lib/build/devices/partition.d pintos-solution/src/lib/build/devices/partition.d
--- aos_pintos/src/lib/build/devices/partition.d	2024-02-09 02:53:23.196880934 +0000
+++ pintos-solution/src/lib/build/devices/partition.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-devices/partition.o: ../../devices/partition.c ../../devices/partition.h \
- ../../lib/packed.h ../../lib/stdlib.h ../../lib/stddef.h \
- ../../lib/string.h ../../lib/stdio.h ../../lib/debug.h \
- ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stdint.h \
- ../../lib/kernel/stdio.h ../../devices/block.h ../../lib/inttypes.h \
- ../../threads/malloc.h
Binary files aos_pintos/src/lib/build/devices/partition.o and pintos-solution/src/lib/build/devices/partition.o differ
diff -ruN aos_pintos/src/lib/build/devices/pit.d pintos-solution/src/lib/build/devices/pit.d
--- aos_pintos/src/lib/build/devices/pit.d	2024-02-09 02:53:22.880891664 +0000
+++ pintos-solution/src/lib/build/devices/pit.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,3 +0,0 @@
-devices/pit.o: ../../devices/pit.c ../../devices/pit.h ../../lib/stdint.h \
- ../../lib/debug.h ../../threads/interrupt.h ../../lib/stdbool.h \
- ../../threads/io.h ../../lib/stddef.h
Binary files aos_pintos/src/lib/build/devices/pit.o and pintos-solution/src/lib/build/devices/pit.o differ
diff -ruN aos_pintos/src/lib/build/devices/rtc.d pintos-solution/src/lib/build/devices/rtc.d
--- aos_pintos/src/lib/build/devices/rtc.d	2024-02-09 02:53:23.420873328 +0000
+++ pintos-solution/src/lib/build/devices/rtc.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-devices/rtc.o: ../../devices/rtc.c ../../devices/rtc.h ../../lib/round.h \
- ../../lib/stdio.h ../../lib/debug.h ../../lib/stdarg.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
- ../../lib/kernel/stdio.h ../../threads/io.h
Binary files aos_pintos/src/lib/build/devices/rtc.o and pintos-solution/src/lib/build/devices/rtc.o differ
diff -ruN aos_pintos/src/lib/build/devices/serial.d pintos-solution/src/lib/build/devices/serial.d
--- aos_pintos/src/lib/build/devices/serial.d	2024-02-09 02:53:23.092884466 +0000
+++ pintos-solution/src/lib/build/devices/serial.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-devices/serial.o: ../../devices/serial.c ../../devices/serial.h \
- ../../lib/stdint.h ../../lib/debug.h ../../devices/input.h \
- ../../lib/stdbool.h ../../devices/intq.h ../../threads/interrupt.h \
- ../../threads/synch.h ../../lib/kernel/list.h ../../lib/stddef.h \
- ../../devices/timer.h ../../lib/round.h ../../threads/io.h \
- ../../threads/thread.h
Binary files aos_pintos/src/lib/build/devices/serial.o and pintos-solution/src/lib/build/devices/serial.o differ
diff -ruN aos_pintos/src/lib/build/devices/shutdown.d pintos-solution/src/lib/build/devices/shutdown.d
--- aos_pintos/src/lib/build/devices/shutdown.d	2024-02-09 02:53:23.464871833 +0000
+++ pintos-solution/src/lib/build/devices/shutdown.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-devices/shutdown.o: ../../devices/shutdown.c ../../devices/shutdown.h \
- ../../lib/debug.h ../../lib/kernel/console.h ../../lib/stdio.h \
- ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/kernel/stdio.h ../../devices/kbd.h \
- ../../devices/serial.h ../../devices/timer.h ../../lib/round.h \
- ../../threads/io.h ../../threads/thread.h ../../lib/kernel/list.h
Binary files aos_pintos/src/lib/build/devices/shutdown.o and pintos-solution/src/lib/build/devices/shutdown.o differ
diff -ruN aos_pintos/src/lib/build/devices/speaker.d pintos-solution/src/lib/build/devices/speaker.d
--- aos_pintos/src/lib/build/devices/speaker.d	2024-02-09 02:53:23.496870747 +0000
+++ pintos-solution/src/lib/build/devices/speaker.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-devices/speaker.o: ../../devices/speaker.c ../../devices/speaker.h \
- ../../devices/pit.h ../../lib/stdint.h ../../threads/io.h \
- ../../lib/stddef.h ../../threads/interrupt.h ../../lib/stdbool.h \
- ../../devices/timer.h ../../lib/round.h
Binary files aos_pintos/src/lib/build/devices/speaker.o and pintos-solution/src/lib/build/devices/speaker.o differ
diff -ruN aos_pintos/src/lib/build/devices/timer.d pintos-solution/src/lib/build/devices/timer.d
--- aos_pintos/src/lib/build/devices/timer.d	2024-02-09 02:53:22.944889491 +0000
+++ pintos-solution/src/lib/build/devices/timer.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-devices/timer.o: ../../devices/timer.c ../../devices/timer.h \
- ../../lib/round.h ../../lib/stdint.h ../../lib/debug.h \
- ../../lib/inttypes.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/kernel/stdio.h \
- ../../devices/pit.h ../../threads/interrupt.h ../../threads/synch.h \
- ../../lib/kernel/list.h ../../threads/thread.h
Binary files aos_pintos/src/lib/build/devices/timer.o and pintos-solution/src/lib/build/devices/timer.o differ
diff -ruN aos_pintos/src/lib/build/devices/vga.d pintos-solution/src/lib/build/devices/vga.d
--- aos_pintos/src/lib/build/devices/vga.d	2024-02-09 02:53:23.044886095 +0000
+++ pintos-solution/src/lib/build/devices/vga.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-devices/vga.o: ../../devices/vga.c ../../devices/vga.h ../../lib/round.h \
- ../../lib/stdint.h ../../lib/stddef.h ../../lib/string.h \
- ../../devices/speaker.h ../../threads/io.h ../../threads/interrupt.h \
- ../../lib/stdbool.h ../../threads/vaddr.h ../../lib/debug.h \
- ../../threads/loader.h
Binary files aos_pintos/src/lib/build/devices/vga.o and pintos-solution/src/lib/build/devices/vga.o differ
Binary files aos_pintos/src/lib/build/kernel.bin and pintos-solution/src/lib/build/kernel.bin differ
Binary files aos_pintos/src/lib/build/kernel.o and pintos-solution/src/lib/build/kernel.o differ
diff -ruN aos_pintos/src/lib/build/lib/arithmetic.d pintos-solution/src/lib/build/lib/arithmetic.d
--- aos_pintos/src/lib/build/lib/arithmetic.d	2024-02-09 02:53:23.864858251 +0000
+++ pintos-solution/src/lib/build/lib/arithmetic.d	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-lib/arithmetic.o: ../../lib/arithmetic.c ../../lib/stdint.h
Binary files aos_pintos/src/lib/build/lib/arithmetic.o and pintos-solution/src/lib/build/lib/arithmetic.o differ
diff -ruN aos_pintos/src/lib/build/lib/debug.d pintos-solution/src/lib/build/lib/debug.d
--- aos_pintos/src/lib/build/lib/debug.d	2024-02-09 02:53:23.524869796 +0000
+++ pintos-solution/src/lib/build/lib/debug.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,3 +0,0 @@
-lib/debug.o: ../../lib/debug.c ../../lib/debug.h ../../lib/stdarg.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdio.h \
- ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/string.h
Binary files aos_pintos/src/lib/build/lib/debug.o and pintos-solution/src/lib/build/lib/debug.o differ
diff -ruN aos_pintos/src/lib/build/lib/kernel/bitmap.d pintos-solution/src/lib/build/lib/kernel/bitmap.d
--- aos_pintos/src/lib/build/lib/kernel/bitmap.d	2024-02-09 02:53:24.152848471 +0000
+++ pintos-solution/src/lib/build/lib/kernel/bitmap.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-lib/kernel/bitmap.o: ../../lib/kernel/bitmap.c ../../lib/kernel/bitmap.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/inttypes.h \
- ../../lib/stdint.h ../../lib/debug.h ../../lib/limits.h \
- ../../lib/round.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/kernel/stdio.h ../../threads/malloc.h
Binary files aos_pintos/src/lib/build/lib/kernel/bitmap.o and pintos-solution/src/lib/build/lib/kernel/bitmap.o differ
diff -ruN aos_pintos/src/lib/build/lib/kernel/console.d pintos-solution/src/lib/build/lib/kernel/console.d
--- aos_pintos/src/lib/build/lib/kernel/console.d	2024-02-09 02:53:24.288843853 +0000
+++ pintos-solution/src/lib/build/lib/kernel/console.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-lib/kernel/console.o: ../../lib/kernel/console.c \
- ../../lib/kernel/console.h ../../lib/stdarg.h ../../lib/stdio.h \
- ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/kernel/stdio.h ../../devices/serial.h \
- ../../devices/vga.h ../../threads/init.h ../../threads/interrupt.h \
- ../../threads/synch.h ../../lib/kernel/list.h
Binary files aos_pintos/src/lib/build/lib/kernel/console.o and pintos-solution/src/lib/build/lib/kernel/console.o differ
diff -ruN aos_pintos/src/lib/build/lib/kernel/debug.d pintos-solution/src/lib/build/lib/kernel/debug.d
--- aos_pintos/src/lib/build/lib/kernel/debug.d	2024-02-09 02:53:23.956855126 +0000
+++ pintos-solution/src/lib/build/lib/kernel/debug.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,7 +0,0 @@
-lib/kernel/debug.o: ../../lib/kernel/debug.c ../../lib/debug.h \
- ../../lib/kernel/console.h ../../lib/stdarg.h ../../lib/stdbool.h \
- ../../lib/stddef.h ../../lib/stdio.h ../../lib/stdint.h \
- ../../lib/kernel/stdio.h ../../lib/string.h ../../threads/init.h \
- ../../threads/interrupt.h ../../threads/thread.h ../../lib/kernel/list.h \
- ../../threads/switch.h ../../threads/vaddr.h ../../threads/loader.h \
- ../../devices/serial.h ../../devices/shutdown.h
Binary files aos_pintos/src/lib/build/lib/kernel/debug.o and pintos-solution/src/lib/build/lib/kernel/debug.o differ
diff -ruN aos_pintos/src/lib/build/lib/kernel/hash.d pintos-solution/src/lib/build/lib/kernel/hash.d
--- aos_pintos/src/lib/build/lib/kernel/hash.d	2024-02-09 02:53:24.240845483 +0000
+++ pintos-solution/src/lib/build/lib/kernel/hash.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-lib/kernel/hash.o: ../../lib/kernel/hash.c ../../lib/kernel/hash.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
- ../../lib/kernel/list.h ../../lib/kernel/../debug.h \
- ../../threads/malloc.h ../../lib/debug.h
Binary files aos_pintos/src/lib/build/lib/kernel/hash.o and pintos-solution/src/lib/build/lib/kernel/hash.o differ
diff -ruN aos_pintos/src/lib/build/lib/kernel/list.d pintos-solution/src/lib/build/lib/kernel/list.d
--- aos_pintos/src/lib/build/lib/kernel/list.d	2024-02-09 02:53:24.064851459 +0000
+++ pintos-solution/src/lib/build/lib/kernel/list.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-lib/kernel/list.o: ../../lib/kernel/list.c ../../lib/kernel/list.h \
- ../../lib/stdbool.h ../../lib/stddef.h ../../lib/stdint.h \
- ../../lib/kernel/../debug.h ../../threads/thread.h ../../lib/debug.h \
- ../../lib/kernel/list.h
Binary files aos_pintos/src/lib/build/lib/kernel/list.o and pintos-solution/src/lib/build/lib/kernel/list.o differ
diff -ruN aos_pintos/src/lib/build/lib/random.d pintos-solution/src/lib/build/lib/random.d
--- aos_pintos/src/lib/build/lib/random.d	2024-02-09 02:53:23.576868031 +0000
+++ pintos-solution/src/lib/build/lib/random.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,2 +0,0 @@
-lib/random.o: ../../lib/random.c ../../lib/random.h ../../lib/stddef.h \
- ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h
Binary files aos_pintos/src/lib/build/lib/random.o and pintos-solution/src/lib/build/lib/random.o differ
diff -ruN aos_pintos/src/lib/build/lib/stdio.d pintos-solution/src/lib/build/lib/stdio.d
--- aos_pintos/src/lib/build/lib/stdio.d	2024-02-09 02:53:23.680864499 +0000
+++ pintos-solution/src/lib/build/lib/stdio.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-lib/stdio.o: ../../lib/stdio.c ../../lib/stdio.h ../../lib/debug.h \
- ../../lib/stdarg.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/ctype.h \
- ../../lib/inttypes.h ../../lib/round.h ../../lib/string.h
Binary files aos_pintos/src/lib/build/lib/stdio.o and pintos-solution/src/lib/build/lib/stdio.o differ
diff -ruN aos_pintos/src/lib/build/lib/stdlib.d pintos-solution/src/lib/build/lib/stdlib.d
--- aos_pintos/src/lib/build/lib/stdlib.d	2024-02-09 02:53:23.740862462 +0000
+++ pintos-solution/src/lib/build/lib/stdlib.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,3 +0,0 @@
-lib/stdlib.o: ../../lib/stdlib.c ../../lib/ctype.h ../../lib/debug.h \
- ../../lib/random.h ../../lib/stddef.h ../../lib/stdlib.h \
- ../../lib/stdbool.h
Binary files aos_pintos/src/lib/build/lib/stdlib.o and pintos-solution/src/lib/build/lib/stdlib.o differ
diff -ruN aos_pintos/src/lib/build/lib/string.d pintos-solution/src/lib/build/lib/string.d
--- aos_pintos/src/lib/build/lib/string.d	2024-02-09 02:53:23.820859744 +0000
+++ pintos-solution/src/lib/build/lib/string.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,2 +0,0 @@
-lib/string.o: ../../lib/string.c ../../lib/string.h ../../lib/stddef.h \
- ../../lib/debug.h
Binary files aos_pintos/src/lib/build/lib/string.o and pintos-solution/src/lib/build/lib/string.o differ
diff -ruN aos_pintos/src/lib/build/lib/ustar.d pintos-solution/src/lib/build/lib/ustar.d
--- aos_pintos/src/lib/build/lib/ustar.d	2024-02-09 02:53:23.916856485 +0000
+++ pintos-solution/src/lib/build/lib/ustar.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-lib/ustar.o: ../../lib/ustar.c ../../lib/ustar.h ../../lib/stdbool.h \
- ../../lib/limits.h ../../lib/packed.h ../../lib/stdio.h \
- ../../lib/debug.h ../../lib/stdarg.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/kernel/stdio.h ../../lib/string.h
Binary files aos_pintos/src/lib/build/lib/ustar.o and pintos-solution/src/lib/build/lib/ustar.o differ
Binary files aos_pintos/src/lib/build/loader.bin and pintos-solution/src/lib/build/loader.bin differ
diff -ruN aos_pintos/src/lib/build/results pintos-solution/src/lib/build/results
--- aos_pintos/src/lib/build/results	2024-02-09 02:53:33.144543112 +0000
+++ pintos-solution/src/lib/build/results	1970-01-01 00:00:00.000000000 +0000
@@ -1,4 +0,0 @@
-pass tests/lib/sorted-thread-list
-pass tests/lib/unsorted-thread-list
-pass tests/lib/bad-input
-pass tests/lib/not-found
diff -ruN aos_pintos/src/lib/build/tests/lib/bad-input.output pintos-solution/src/lib/build/tests/lib/bad-input.output
--- aos_pintos/src/lib/build/tests/lib/bad-input.output	2024-02-09 02:53:32.532563896 +0000
+++ pintos-solution/src/lib/build/tests/lib/bad-input.output	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-qemu-system-i386 -device isa-debug-exit -drive file=/tmp/A7D2wtSd8h.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
-PiLo hda1
-Loading.........
-Kernel command line: -q run bad-input
-Pintos booting with 3,968 kB RAM...
-367 pages available in kernel pool.
-367 pages available in user pool.
-Calibrating timer...  445,644,800 loops/s.
-Boot complete.
-Executing 'bad-input':
-(bad-input) begin
-(bad-input) sorted index -1
-(bad-input) end
-Execution of 'bad-input' complete.
-Timer: 31 ticks
-Thread: 0 idle ticks, 31 kernel ticks, 0 user ticks
-Console: 390 characters output
-Keyboard: 0 keys pressed
-Powering off...
diff -ruN aos_pintos/src/lib/build/tests/lib/bad-input.result pintos-solution/src/lib/build/tests/lib/bad-input.result
--- aos_pintos/src/lib/build/tests/lib/bad-input.result	2024-02-09 02:53:32.580562266 +0000
+++ pintos-solution/src/lib/build/tests/lib/bad-input.result	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-PASS
diff -ruN aos_pintos/src/lib/build/tests/lib/listfunctests.d pintos-solution/src/lib/build/tests/lib/listfunctests.d
--- aos_pintos/src/lib/build/tests/lib/listfunctests.d	2024-02-09 02:53:24.332842359 +0000
+++ pintos-solution/src/lib/build/tests/lib/listfunctests.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-tests/lib/listfunctests.o: ../../tests/lib/listfunctests.c \
- ../../tests/lib/tests.h ../../threads/thread.h ../../lib/debug.h \
- ../../lib/kernel/list.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../threads/malloc.h ../../lib/kernel/list.h \
- ../../lib/string.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/kernel/stdio.h
Binary files aos_pintos/src/lib/build/tests/lib/listfunctests.o and pintos-solution/src/lib/build/tests/lib/listfunctests.o differ
diff -ruN aos_pintos/src/lib/build/tests/lib/not-found.output pintos-solution/src/lib/build/tests/lib/not-found.output
--- aos_pintos/src/lib/build/tests/lib/not-found.output	2024-02-09 02:53:33.080545285 +0000
+++ pintos-solution/src/lib/build/tests/lib/not-found.output	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-qemu-system-i386 -device isa-debug-exit -drive file=/tmp/2TQO6ayBMX.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
-PiLo hda1
-Loading.........
-Kernel command line: -q run not-found
-Pintos booting with 3,968 kB RAM...
-367 pages available in kernel pool.
-367 pages available in user pool.
-Calibrating timer...  421,068,800 loops/s.
-Boot complete.
-Executing 'not-found':
-(not-found) begin
-(not-found) sorted index -1
-(not-found) end
-Execution of 'not-found' complete.
-Timer: 32 ticks
-Thread: 0 idle ticks, 32 kernel ticks, 0 user ticks
-Console: 390 characters output
-Keyboard: 0 keys pressed
-Powering off...
diff -ruN aos_pintos/src/lib/build/tests/lib/not-found.result pintos-solution/src/lib/build/tests/lib/not-found.result
--- aos_pintos/src/lib/build/tests/lib/not-found.result	2024-02-09 02:53:33.136543384 +0000
+++ pintos-solution/src/lib/build/tests/lib/not-found.result	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-PASS
diff -ruN aos_pintos/src/lib/build/tests/lib/sorted-thread-list.output pintos-solution/src/lib/build/tests/lib/sorted-thread-list.output
--- aos_pintos/src/lib/build/tests/lib/sorted-thread-list.output	2024-02-09 02:53:31.444600844 +0000
+++ pintos-solution/src/lib/build/tests/lib/sorted-thread-list.output	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-qemu-system-i386 -device isa-debug-exit -drive file=/tmp/wvcA6Reo2W.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
-PiLo hda1
-Loading.........
-Kernel command line: -q run sorted-thread-list
-Pintos booting with 3,968 kB RAM...
-367 pages available in kernel pool.
-367 pages available in user pool.
-Calibrating timer...  209,510,400 loops/s.
-Boot complete.
-Executing 'sorted-thread-list':
-(sorted-thread-list) begin
-(sorted-thread-list) sorted index 4
-(sorted-thread-list) end
-Execution of 'sorted-thread-list' complete.
-Timer: 21 ticks
-Thread: 0 idle ticks, 21 kernel ticks, 0 user ticks
-Console: 443 characters output
-Keyboard: 0 keys pressed
-Powering off...
diff -ruN aos_pintos/src/lib/build/tests/lib/sorted-thread-list.result pintos-solution/src/lib/build/tests/lib/sorted-thread-list.result
--- aos_pintos/src/lib/build/tests/lib/sorted-thread-list.result	2024-02-09 02:53:31.500598943 +0000
+++ pintos-solution/src/lib/build/tests/lib/sorted-thread-list.result	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-PASS
diff -ruN aos_pintos/src/lib/build/tests/lib/unsorted-thread-list.output pintos-solution/src/lib/build/tests/lib/unsorted-thread-list.output
--- aos_pintos/src/lib/build/tests/lib/unsorted-thread-list.output	2024-02-09 02:53:31.992582235 +0000
+++ pintos-solution/src/lib/build/tests/lib/unsorted-thread-list.output	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-qemu-system-i386 -device isa-debug-exit -drive file=/tmp/isUgPNzLru.dsk,format=raw,index=0,media=disk -m 4 -net none -nographic -monitor null
-PiLo hda1
-Loading.........
-Kernel command line: -q run unsorted-thread-list
-Pintos booting with 3,968 kB RAM...
-367 pages available in kernel pool.
-367 pages available in user pool.
-Calibrating timer...  527,564,800 loops/s.
-Boot complete.
-Executing 'unsorted-thread-list':
-(unsorted-thread-list) begin
-(unsorted-thread-list) sorted index 6
-(unsorted-thread-list) end
-Execution of 'unsorted-thread-list' complete.
-Timer: 32 ticks
-Thread: 0 idle ticks, 32 kernel ticks, 0 user ticks
-Console: 455 characters output
-Keyboard: 0 keys pressed
-Powering off...
diff -ruN aos_pintos/src/lib/build/tests/lib/unsorted-thread-list.result pintos-solution/src/lib/build/tests/lib/unsorted-thread-list.result
--- aos_pintos/src/lib/build/tests/lib/unsorted-thread-list.result	2024-02-09 02:53:32.040580604 +0000
+++ pintos-solution/src/lib/build/tests/lib/unsorted-thread-list.result	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-PASS
diff -ruN aos_pintos/src/lib/build/threads/init.d pintos-solution/src/lib/build/threads/init.d
--- aos_pintos/src/lib/build/threads/init.d	2024-02-09 02:53:22.424907148 +0000
+++ pintos-solution/src/lib/build/threads/init.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,12 +0,0 @@
-threads/init.o: ../../threads/init.c ../../threads/init.h \
- ../../lib/debug.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/kernel/console.h ../../lib/inttypes.h \
- ../../lib/limits.h ../../lib/random.h ../../lib/stdio.h \
- ../../lib/stdarg.h ../../lib/kernel/stdio.h ../../lib/stdlib.h \
- ../../lib/string.h ../../devices/kbd.h ../../devices/input.h \
- ../../devices/serial.h ../../devices/shutdown.h ../../devices/timer.h \
- ../../lib/round.h ../../devices/vga.h ../../devices/rtc.h \
- ../../threads/interrupt.h ../../threads/io.h ../../threads/loader.h \
- ../../threads/malloc.h ../../threads/palloc.h ../../threads/pte.h \
- ../../threads/vaddr.h ../../threads/thread.h ../../lib/kernel/list.h \
- ../../tests/threads/tests.h
Binary files aos_pintos/src/lib/build/threads/init.o and pintos-solution/src/lib/build/threads/init.o differ
diff -ruN aos_pintos/src/lib/build/threads/interrupt.d pintos-solution/src/lib/build/threads/interrupt.d
--- aos_pintos/src/lib/build/threads/interrupt.d	2024-02-09 02:53:22.616900629 +0000
+++ pintos-solution/src/lib/build/threads/interrupt.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,7 +0,0 @@
-threads/interrupt.o: ../../threads/interrupt.c ../../threads/interrupt.h \
- ../../lib/stdbool.h ../../lib/stdint.h ../../lib/debug.h \
- ../../lib/inttypes.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/stddef.h ../../lib/kernel/stdio.h ../../threads/flags.h \
- ../../threads/intr-stubs.h ../../threads/io.h ../../threads/thread.h \
- ../../lib/kernel/list.h ../../threads/vaddr.h ../../threads/loader.h \
- ../../devices/timer.h ../../lib/round.h
Binary files aos_pintos/src/lib/build/threads/interrupt.o and pintos-solution/src/lib/build/threads/interrupt.o differ
diff -ruN aos_pintos/src/lib/build/threads/intr-stubs.d pintos-solution/src/lib/build/threads/intr-stubs.d
--- aos_pintos/src/lib/build/threads/intr-stubs.d	2024-02-09 02:53:22.632900086 +0000
+++ pintos-solution/src/lib/build/threads/intr-stubs.d	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-threads/intr-stubs.o: ../../threads/intr-stubs.S ../../threads/loader.h
Binary files aos_pintos/src/lib/build/threads/intr-stubs.o and pintos-solution/src/lib/build/threads/intr-stubs.o differ
diff -ruN aos_pintos/src/lib/build/threads/kernel.lds.s pintos-solution/src/lib/build/threads/kernel.lds.s
--- aos_pintos/src/lib/build/threads/kernel.lds.s	2024-02-09 02:53:22.348909730 +0000
+++ pintos-solution/src/lib/build/threads/kernel.lds.s	1970-01-01 00:00:00.000000000 +0000
@@ -1,21 +0,0 @@
-OUTPUT_FORMAT("elf32-i386")
-OUTPUT_ARCH("i386")
-ENTRY(start)
-SECTIONS
-{
-  _start = 0xc0000000 + 0x20000;
-  . = _start + SIZEOF_HEADERS;
-  .text : { *(.start) *(.text) } = 0x90
-  .rodata : { *(.rodata) *(.rodata.*)
-       . = ALIGN(0x1000);
-       _end_kernel_text = .; }
-  .eh_frame : { *(.eh_frame) }
-  .data : { *(.data)
-     _signature = .; LONG(0xaa55aa55) }
-  .plt : { *(.plt*) }
-  _start_bss = .;
-  .bss : { *(.bss) }
-  _end_bss = .;
-  _end = .;
-  ASSERT (_end - _start <= 512K, "Kernel image is too big.")
-}
Binary files aos_pintos/src/lib/build/threads/loader.o and pintos-solution/src/lib/build/threads/loader.o differ
diff -ruN aos_pintos/src/lib/build/threads/malloc.d pintos-solution/src/lib/build/threads/malloc.d
--- aos_pintos/src/lib/build/threads/malloc.d	2024-02-09 02:53:22.844892887 +0000
+++ pintos-solution/src/lib/build/threads/malloc.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-threads/malloc.o: ../../threads/malloc.c ../../threads/malloc.h \
- ../../lib/debug.h ../../lib/stddef.h ../../lib/kernel/list.h \
- ../../lib/stdbool.h ../../lib/stdint.h ../../lib/round.h \
- ../../lib/stdio.h ../../lib/stdarg.h ../../lib/kernel/stdio.h \
- ../../lib/string.h ../../threads/palloc.h ../../threads/synch.h \
- ../../threads/vaddr.h ../../threads/loader.h
Binary files aos_pintos/src/lib/build/threads/malloc.o and pintos-solution/src/lib/build/threads/malloc.o differ
diff -ruN aos_pintos/src/lib/build/threads/palloc.d pintos-solution/src/lib/build/threads/palloc.d
--- aos_pintos/src/lib/build/threads/palloc.d	2024-02-09 02:53:22.776895195 +0000
+++ pintos-solution/src/lib/build/threads/palloc.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,6 +0,0 @@
-threads/palloc.o: ../../threads/palloc.c ../../threads/palloc.h \
- ../../lib/stddef.h ../../lib/kernel/bitmap.h ../../lib/stdbool.h \
- ../../lib/inttypes.h ../../lib/stdint.h ../../lib/debug.h \
- ../../lib/round.h ../../lib/stdio.h ../../lib/stdarg.h \
- ../../lib/kernel/stdio.h ../../lib/string.h ../../threads/loader.h \
- ../../threads/synch.h ../../lib/kernel/list.h ../../threads/vaddr.h
Binary files aos_pintos/src/lib/build/threads/palloc.o and pintos-solution/src/lib/build/threads/palloc.o differ
diff -ruN aos_pintos/src/lib/build/threads/start.d pintos-solution/src/lib/build/threads/start.d
--- aos_pintos/src/lib/build/threads/start.d	2024-02-09 02:53:22.352909594 +0000
+++ pintos-solution/src/lib/build/threads/start.d	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-threads/start.o: ../../threads/start.S ../../threads/loader.h
Binary files aos_pintos/src/lib/build/threads/start.o and pintos-solution/src/lib/build/threads/start.o differ
diff -ruN aos_pintos/src/lib/build/threads/switch.d pintos-solution/src/lib/build/threads/switch.d
--- aos_pintos/src/lib/build/threads/switch.d	2024-02-09 02:53:22.532903481 +0000
+++ pintos-solution/src/lib/build/threads/switch.d	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-threads/switch.o: ../../threads/switch.S ../../threads/switch.h
Binary files aos_pintos/src/lib/build/threads/switch.o and pintos-solution/src/lib/build/threads/switch.o differ
diff -ruN aos_pintos/src/lib/build/threads/synch.d pintos-solution/src/lib/build/threads/synch.d
--- aos_pintos/src/lib/build/threads/synch.d	2024-02-09 02:53:22.716897233 +0000
+++ pintos-solution/src/lib/build/threads/synch.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-threads/synch.o: ../../threads/synch.c ../../threads/synch.h \
- ../../lib/kernel/list.h ../../lib/stdbool.h ../../lib/stddef.h \
- ../../lib/stdint.h ../../lib/stdio.h ../../lib/debug.h \
- ../../lib/stdarg.h ../../lib/kernel/stdio.h ../../lib/string.h \
- ../../threads/interrupt.h ../../threads/thread.h
Binary files aos_pintos/src/lib/build/threads/synch.o and pintos-solution/src/lib/build/threads/synch.o differ
diff -ruN aos_pintos/src/lib/build/threads/thread.d pintos-solution/src/lib/build/threads/thread.d
--- aos_pintos/src/lib/build/threads/thread.d	2024-02-09 02:53:22.512904161 +0000
+++ pintos-solution/src/lib/build/threads/thread.d	1970-01-01 00:00:00.000000000 +0000
@@ -1,7 +0,0 @@
-threads/thread.o: ../../threads/thread.c ../../threads/thread.h \
- ../../lib/debug.h ../../lib/kernel/list.h ../../lib/stdbool.h \
- ../../lib/stddef.h ../../lib/stdint.h ../../lib/random.h \
- ../../lib/stdio.h ../../lib/stdarg.h ../../lib/kernel/stdio.h \
- ../../lib/string.h ../../threads/flags.h ../../threads/interrupt.h \
- ../../threads/intr-stubs.h ../../threads/palloc.h ../../threads/switch.h \
- ../../threads/synch.h ../../threads/vaddr.h ../../threads/loader.h
Binary files aos_pintos/src/lib/build/threads/thread.o and pintos-solution/src/lib/build/threads/thread.o differ
diff -ruN aos_pintos/src/lib/kernel/list.c pintos-solution/src/lib/kernel/list.c
--- aos_pintos/src/lib/kernel/list.c	2024-02-09 02:53:00.329657376 +0000
+++ pintos-solution/src/lib/kernel/list.c	2024-03-31 05:11:50.000000000 +0000
@@ -1,6 +1,5 @@
 #include "list.h"
 #include "../debug.h"
-#include "threads/thread.h"
 
 /* Our doubly linked lists have two header elements: the "head"
    just before the first element and the "tail" just after the
@@ -32,7 +31,6 @@
    elements allows us to do a little bit of checking on some
    operations, which can be valuable.) */
 
-
 static bool is_sorted (struct list_elem *a, struct list_elem *b,
                        list_less_func *less, void *aux) UNUSED;
 
@@ -313,29 +311,12 @@
     }
 }
 
-bool less_tid(const struct list_elem *a, const struct list_elem *b, void *aux UNUSED) {  
-    return list_entry(a, struct thread, allelem)->tid < list_entry(b, struct thread, allelem)->tid;  
-}  
-
-int get_sorted_index (struct list *threads, struct thread *target) {  
-    if (threads == NULL || target == NULL)  
-        return -1;  
-      
-    list_sort(threads, less_tid, NULL);  
-    struct list_elem *e;  
-    int index = 0;  
-      
-    for (e = list_begin(threads); e != list_end(threads); e = list_next(e)) {  
-        struct thread *t = list_entry(e, struct thread, allelem);  
-        if (t->tid == target->tid) {  
-            return index;  
-        }  
-        index++;  
-    }  
-      
-    return -1;  
-}  
-
+int get_sorted_index (struct list *threads, struct thread *target) {
+  /* Your implementation here */
+  (void) threads;
+  (void) target;
+  return 0;
+}
 
 /* Returns true only if the list elements A through B (exclusive)
    are in order according to LESS given auxiliary data AUX. */
diff -ruN aos_pintos/src/tests/filesys/extended/Make.tests pintos-solution/src/tests/filesys/extended/Make.tests
--- aos_pintos/src/tests/filesys/extended/Make.tests	2024-02-09 01:26:31.467979510 +0000
+++ pintos-solution/src/tests/filesys/extended/Make.tests	2024-03-31 05:11:40.000000000 +0000
@@ -6,7 +6,10 @@
 grow-file-size grow-root-lg grow-root-sm grow-seq-lg grow-seq-sm	\
 grow-sparse grow-tell grow-two-files syn-rw
 
+add_tests = check-stat check-sparse
+
 tests/filesys/extended_TESTS = $(patsubst %,tests/filesys/extended/%,$(raw_tests))
+tests/filesys/extended_TESTS += $(patsubst %,tests/filesys/extended/%,$(add_tests))
 tests/filesys/extended_EXTRA_GRADES = $(patsubst %,tests/filesys/extended/%-persistence,$(raw_tests))
 
 tests/filesys/extended_PROGS = $(tests/filesys/extended_TESTS) \
diff -ruN aos_pintos/src/tests/filesys/extended/Rubric.functionality pintos-solution/src/tests/filesys/extended/Rubric.functionality
--- aos_pintos/src/tests/filesys/extended/Rubric.functionality	2024-02-09 01:26:31.515977395 +0000
+++ pintos-solution/src/tests/filesys/extended/Rubric.functionality	2024-03-31 05:11:42.000000000 +0000
@@ -24,3 +24,7 @@
 
 - Test writing from multiple processes.
 5	syn-rw
+
+- Test stat() and sparse files
+1	check-stat
+1	check-sparse
\ No newline at end of file
diff -ruN aos_pintos/src/tests/filesys/extended/check-sparse.c pintos-solution/src/tests/filesys/extended/check-sparse.c
--- aos_pintos/src/tests/filesys/extended/check-sparse.c	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/tests/filesys/extended/check-sparse.c	2024-03-31 05:11:42.000000000 +0000
@@ -0,0 +1,61 @@
+/* Ensure that disk blocks aren't being allocated
+   until file explicitly written to for sparse
+   files implementation. */
+
+#include <random.h>
+#include <stdio.h>
+#include <syscall.h>
+#include "tests/lib.h"
+#include "tests/main.h"
+
+void test_main (void)
+{
+  const unsigned int BUF_SIZE = 16;
+  const char FILE_NAME[] = "yoit";
+  int fd;
+  int ret;
+  char buf[BUF_SIZE];
+
+  int exp_log_size = 512;
+  int exp_phys_size = 0;
+  int exp_blocks = 0;
+
+  // Create file
+  CHECK (create (FILE_NAME, exp_log_size), "create \"%s\"", FILE_NAME);
+  CHECK ((fd = open (FILE_NAME)) > 1, "open \"%s\"", FILE_NAME);
+  CHECK ((ret = stat (FILE_NAME, buf)) == 0,
+         "return 0 from stat() call on \"%s\"", FILE_NAME);
+
+  // Check initial file status
+  int logical_size = *((int *) buf);
+  int physical_size = *((int *) buf + 1);
+  int inode_number = *((int *) buf + 2);
+  int blocks = *((int *) buf + 3);
+
+  msg ("should have %d logical size: actual %d", exp_log_size, logical_size);
+  msg ("should have %d physical size: actual %d", exp_phys_size, physical_size);
+  CHECK (inode_number > 0, "valid inode number");
+  msg ("should have %d block: actual %d", exp_blocks, blocks);
+
+  // Now let's write some random, non-zero bytes and check file status
+  const int RAND_BYTES = 500;
+  char buf1[RAND_BYTES];
+  random_bytes (buf1, RAND_BYTES);
+  CHECK (write (fd, buf1, RAND_BYTES), "write random bytes to \"%s\"",
+         FILE_NAME);
+  CHECK ((ret = stat (FILE_NAME, buf)) == 0,
+         "return 0 from stat() call on \"%s\"", FILE_NAME);
+
+  exp_phys_size = 500;
+  exp_blocks = 1;
+
+  logical_size = *((int *) buf);
+  physical_size = *((int *) buf + 1);
+  inode_number = *((int *) buf + 2);
+  blocks = *((int *) buf + 3);
+
+  msg ("should have %d logical size: actual %d", exp_log_size, logical_size);
+  msg ("should have %d physical size: actual %d", exp_phys_size, physical_size);
+  CHECK (inode_number > 0, "valid inode number");
+  msg ("should have %d block: actual %d", exp_blocks, blocks);
+}
\ No newline at end of file
diff -ruN aos_pintos/src/tests/filesys/extended/check-sparse.ck pintos-solution/src/tests/filesys/extended/check-sparse.ck
--- aos_pintos/src/tests/filesys/extended/check-sparse.ck	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/tests/filesys/extended/check-sparse.ck	2024-03-31 05:11:40.000000000 +0000
@@ -0,0 +1,22 @@
+# -*- perl -*-
+use strict;
+use warnings;
+use tests::tests;
+check_expected (IGNORE_EXIT_CODES => 1, [<<'EOF']);
+(check-sparse) begin
+(check-sparse) create "yoit"
+(check-sparse) open "yoit"
+(check-sparse) return 0 from stat() call on "yoit"
+(check-sparse) should have 512 logical size: actual 512
+(check-sparse) should have 0 physical size: actual 0
+(check-sparse) valid inode number
+(check-sparse) should have 0 block: actual 0
+(check-sparse) write random bytes to "yoit"
+(check-sparse) return 0 from stat() call on "yoit"
+(check-sparse) should have 512 logical size: actual 512
+(check-sparse) should have 500 physical size: actual 500
+(check-sparse) valid inode number
+(check-sparse) should have 1 block: actual 1
+(check-sparse) end
+EOF
+pass;
diff -ruN aos_pintos/src/tests/filesys/extended/check-stat.c pintos-solution/src/tests/filesys/extended/check-stat.c
--- aos_pintos/src/tests/filesys/extended/check-stat.c	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/tests/filesys/extended/check-stat.c	2024-03-31 05:11:40.000000000 +0000
@@ -0,0 +1,36 @@
+/* Checks basic functionality of stat() system call. */
+
+#include <random.h>
+#include <stdio.h>
+#include <syscall.h>
+#include "tests/lib.h"
+#include "tests/main.h"
+
+void test_main (void)
+{
+  const unsigned int BUF_SIZE = 16;
+  const char FILE_NAME[] = "yoit";
+  int fd;
+  int ret;
+  char buf[BUF_SIZE];
+
+  int exp_log_size = 512;
+  int exp_phys_size = 0;
+  int exp_blocks = 0;
+
+  // Create file and check file status
+  CHECK (create (FILE_NAME, exp_log_size), "create \"%s\"", FILE_NAME);
+  CHECK ((fd = open (FILE_NAME)) > 1, "open \"%s\"", FILE_NAME);
+  CHECK ((ret = stat (FILE_NAME, buf)) == 0,
+         "return 0 from stat() call on \"%s\"", FILE_NAME);
+
+  int logical_size = *((int *) buf);
+  int physical_size = *((int *) buf + 1);
+  int inode_number = *((int *) buf + 2);
+  int blocks = *((int *) buf + 3);
+
+  msg ("should have %d logical size: actual %d", exp_log_size, logical_size);
+  msg ("should have %d physical size: actual %d", exp_phys_size, physical_size);
+  CHECK (inode_number > 0, "valid inode number");
+  msg ("should have %d block: actual %d", exp_blocks, blocks);
+}
\ No newline at end of file
diff -ruN aos_pintos/src/tests/filesys/extended/check-stat.ck pintos-solution/src/tests/filesys/extended/check-stat.ck
--- aos_pintos/src/tests/filesys/extended/check-stat.ck	1970-01-01 00:00:00.000000000 +0000
+++ pintos-solution/src/tests/filesys/extended/check-stat.ck	2024-03-31 05:11:40.000000000 +0000
@@ -0,0 +1,16 @@
+# -*- perl -*-
+use strict;
+use warnings;
+use tests::tests;
+check_expected (IGNORE_EXIT_CODES => 1, [<<'EOF']);
+(check-stat) begin
+(check-stat) create "yoit"
+(check-stat) open "yoit"
+(check-stat) return 0 from stat() call on "yoit"
+(check-stat) should have 512 logical size: actual 512
+(check-stat) should have 0 physical size: actual 0
+(check-stat) valid inode number
+(check-stat) should have 0 block: actual 0
+(check-stat) end
+EOF
+pass;
diff -ruN aos_pintos/src/tests/threads/Make.tests pintos-solution/src/tests/threads/Make.tests
--- aos_pintos/src/tests/threads/Make.tests	2024-02-09 01:26:31.699969288 +0000
+++ pintos-solution/src/tests/threads/Make.tests	2024-03-31 05:11:44.000000000 +0000
@@ -4,14 +4,13 @@
 tests/threads_TESTS = $(addprefix tests/threads/,alarm-single		\
 alarm-multiple alarm-simultaneous alarm-priority alarm-zero		\
 alarm-negative priority-change priority-donate-one			\
-priority-donate-one-sema        \
-priority-donate-multiple priority-donate-multiple-sema      \
+priority-donate-multiple       \
 priority-donate-multiple2			\
-priority-donate-nest priority-donate-nest-sema          \
+priority-donate-nest           \
 priority-donate-sema       \
-priority-donate-lower priority-donate-lower-sema		\
+priority-donate-lower 		\
 priority-fifo priority-preempt priority-sema priority-condvar		\
-priority-donate-chain priority-donate-chain-sema)
+priority-donate-chain )
 
 # Sources for tests.
 tests/threads_SRC  = tests/threads/tests.c
@@ -22,20 +21,14 @@
 tests/threads_SRC += tests/threads/alarm-negative.c
 tests/threads_SRC += tests/threads/priority-change.c
 tests/threads_SRC += tests/threads/priority-donate-one.c
-tests/threads_SRC += tests/threads/priority-donate-one-sema.c
 tests/threads_SRC += tests/threads/priority-donate-multiple.c
-tests/threads_SRC += tests/threads/priority-donate-multiple-sema.c
 tests/threads_SRC += tests/threads/priority-donate-multiple2.c
 tests/threads_SRC += tests/threads/priority-donate-nest.c
-tests/threads_SRC += tests/threads/priority-donate-nest-sema.c
 tests/threads_SRC += tests/threads/priority-donate-sema.c
 tests/threads_SRC += tests/threads/priority-donate-lower.c
-tests/threads_SRC += tests/threads/priority-donate-lower-sema.c
 tests/threads_SRC += tests/threads/priority-fifo.c
 tests/threads_SRC += tests/threads/priority-preempt.c
 tests/threads_SRC += tests/threads/priority-sema.c
 tests/threads_SRC += tests/threads/priority-condvar.c
 tests/threads_SRC += tests/threads/priority-donate-chain.c
-tests/threads_SRC += tests/threads/priority-donate-chain-sema.c
-
 
diff -ruN aos_pintos/src/tests/threads/priority-donate-chain-sema.c pintos-solution/src/tests/threads/priority-donate-chain-sema.c
--- aos_pintos/src/tests/threads/priority-donate-chain-sema.c	2024-02-09 01:26:31.723968230 +0000
+++ pintos-solution/src/tests/threads/priority-donate-chain-sema.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,107 +0,0 @@
-/* The main thread set its priority to PRI_MIN and creates 7 threads
-   (thread 1..7) with priorities PRI_MIN + 3, 6, 9, 12, ...
-   The main thread initializes 8 locks: lock 0..7 and acquires lock 0.
-
-   When thread[i] starts, it first acquires lock[i] (unless i == 7.)
-   Subsequently, thread[i] attempts to acquire lock[i-1], which is held by
-   thread[i-1], except for lock[0], which is held by the main thread.
-   Because the lock is held, thread[i] donates its priority to thread[i-1],
-   which donates to thread[i-2], and so on until the main thread
-   receives the donation.
-
-   After threads[1..7] have been created and are blocked on locks[0..7],
-   the main thread releases lock[0], unblocking thread[1], and being
-   preempted by it.
-   Thread[1] then completes acquiring lock[0], then releases lock[0],
-   then releases lock[1], unblocking thread[2], etc.
-   Thread[7] finally acquires & releases lock[7] and exits, allowing
-   thread[6], then thread[5] etc. to run and exit until finally the
-   main thread exits.
-
-   In addition, interloper threads are created at priority levels
-   p = PRI_MIN + 2, 5, 8, 11, ... which should not be run until the
-   corresponding thread with priority p + 1 has finished.
-
-   Written by Godmar Back <gback@cs.vt.edu> */
-
-#include <stdio.h>
-#include "tests/threads/tests.h"
-#include "threads/init.h"
-#include "threads/synch.h"
-#include "threads/thread.h"
-
-#define NESTING_DEPTH 8
-
-struct sema_pair
-{
-  struct semaphore *second;
-  struct semaphore *first;
-};
-
-static thread_func donor_thread_func;
-static thread_func interloper_thread_func;
-
-void test_priority_donate_chain_sema (void)
-{
-  int i;
-  struct semaphore semas[NESTING_DEPTH - 1];
-  struct sema_pair sema_pairs[NESTING_DEPTH];
-
-  thread_set_priority (PRI_MIN);
-
-  for (i = 0; i < NESTING_DEPTH - 1; i++)
-    sema_init (&semas[i], 1);
-
-  sema_down (&semas[0]);
-  msg ("%s downed semaphore.", thread_name ());
-
-  for (i = 1; i < NESTING_DEPTH; i++)
-    {
-      char name[16];
-      int thread_priority;
-
-      snprintf (name, sizeof name, "thread %d", i);
-      thread_priority = PRI_MIN + i * 3;
-      sema_pairs[i].first = i < NESTING_DEPTH - 1 ? semas + i : NULL;
-      sema_pairs[i].second = semas + i - 1;
-
-      thread_create (name, thread_priority, donor_thread_func, sema_pairs + i);
-      msg ("%s should have priority %d.  Actual priority: %d.", thread_name (),
-           thread_priority, thread_get_priority ());
-
-      snprintf (name, sizeof name, "interloper %d", i);
-      thread_create (name, thread_priority - 1, interloper_thread_func, NULL);
-    }
-
-  sema_up (&semas[0]);
-  msg ("%s finishing with priority %d.", thread_name (),
-       thread_get_priority ());
-}
-
-static void donor_thread_func (void *semas_)
-{
-  struct sema_pair *semas = semas_;
-
-  if (semas->first)
-    sema_down (semas->first);
-
-  sema_down (semas->second);
-  msg ("%s downed semaphore", thread_name ());
-
-  sema_up (semas->second);
-  msg ("%s should have priority %d. Actual priority: %d", thread_name (),
-       (NESTING_DEPTH - 1) * 3, thread_get_priority ());
-
-  if (semas->first)
-    sema_up (semas->first);
-
-  msg ("%s finishing with priority %d.", thread_name (),
-       thread_get_priority ());
-}
-
-static void interloper_thread_func (void *arg_ UNUSED)
-{
-  msg ("%s finished.", thread_name ());
-}
-
-// vim: sw=2
diff -ruN aos_pintos/src/tests/threads/priority-donate-chain-sema.ck pintos-solution/src/tests/threads/priority-donate-chain-sema.ck
--- aos_pintos/src/tests/threads/priority-donate-chain-sema.ck	2024-02-09 01:26:31.727968054 +0000
+++ pintos-solution/src/tests/threads/priority-donate-chain-sema.ck	1970-01-01 00:00:00.000000000 +0000
@@ -1,46 +0,0 @@
-# -*- perl -*-
-use strict;
-use warnings;
-use tests::tests;
-check_expected ([<<'EOF']);
-(priority-donate-chain-sema) begin
-(priority-donate-chain-sema) main downed semaphore.
-(priority-donate-chain-sema) main should have priority 3.  Actual priority: 3.
-(priority-donate-chain-sema) main should have priority 6.  Actual priority: 6.
-(priority-donate-chain-sema) main should have priority 9.  Actual priority: 9.
-(priority-donate-chain-sema) main should have priority 12.  Actual priority: 12.
-(priority-donate-chain-sema) main should have priority 15.  Actual priority: 15.
-(priority-donate-chain-sema) main should have priority 18.  Actual priority: 18.
-(priority-donate-chain-sema) main should have priority 21.  Actual priority: 21.
-(priority-donate-chain-sema) thread 1 downed semaphore
-(priority-donate-chain-sema) thread 1 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 2 downed semaphore
-(priority-donate-chain-sema) thread 2 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 3 downed semaphore
-(priority-donate-chain-sema) thread 3 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 4 downed semaphore
-(priority-donate-chain-sema) thread 4 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 5 downed semaphore
-(priority-donate-chain-sema) thread 5 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 6 downed semaphore
-(priority-donate-chain-sema) thread 6 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 7 downed semaphore
-(priority-donate-chain-sema) thread 7 should have priority 21. Actual priority: 21
-(priority-donate-chain-sema) thread 7 finishing with priority 21.
-(priority-donate-chain-sema) interloper 7 finished.
-(priority-donate-chain-sema) thread 6 finishing with priority 18.
-(priority-donate-chain-sema) interloper 6 finished.
-(priority-donate-chain-sema) thread 5 finishing with priority 15.
-(priority-donate-chain-sema) interloper 5 finished.
-(priority-donate-chain-sema) thread 4 finishing with priority 12.
-(priority-donate-chain-sema) interloper 4 finished.
-(priority-donate-chain-sema) thread 3 finishing with priority 9.
-(priority-donate-chain-sema) interloper 3 finished.
-(priority-donate-chain-sema) thread 2 finishing with priority 6.
-(priority-donate-chain-sema) interloper 2 finished.
-(priority-donate-chain-sema) thread 1 finishing with priority 3.
-(priority-donate-chain-sema) interloper 1 finished.
-(priority-donate-chain-sema) main finishing with priority 0.
-(priority-donate-chain-sema) end
-EOF
-pass;
diff -ruN aos_pintos/src/tests/threads/priority-donate-lower-sema.c pintos-solution/src/tests/threads/priority-donate-lower-sema.c
--- aos_pintos/src/tests/threads/priority-donate-lower-sema.c	2024-02-09 01:26:31.715968583 +0000
+++ pintos-solution/src/tests/threads/priority-donate-lower-sema.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,46 +0,0 @@
-/* The main thread downs a semaphore.  Then it creates a
-   higher-priority thread that blocks being able to down the semaphore
-   again, causing it to donate its priority to the main thread.  The main
-   thread attempts to lower its priority, which should not take
-   effect until the donation is released. */
-
-#include <stdio.h>
-#include "tests/threads/tests.h"
-#include "threads/init.h"
-#include "threads/synch.h"
-#include "threads/thread.h"
-
-static thread_func down_thread_func;
-
-void test_priority_donate_lower_sema (void)
-{
-  struct semaphore sema;
-
-  /* Make sure our priority is the default. */
-  ASSERT (thread_get_priority () == PRI_DEFAULT);
-
-  sema_init (&sema, 1);
-  sema_down (&sema);
-  thread_create ("down", PRI_DEFAULT + 10, down_thread_func, &sema);
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 10, thread_get_priority ());
-
-  msg ("Lowering base priority...");
-  thread_set_priority (PRI_DEFAULT - 10);
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 10, thread_get_priority ());
-  sema_up (&sema);
-  msg ("down must already have finished.");
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT - 10, thread_get_priority ());
-}
-
-static void down_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("down: downed the semaphore");
-  sema_up (sema);
-  msg ("down: done");
-}
diff -ruN aos_pintos/src/tests/threads/priority-donate-lower-sema.ck pintos-solution/src/tests/threads/priority-donate-lower-sema.ck
--- aos_pintos/src/tests/threads/priority-donate-lower-sema.ck	2024-02-09 01:26:31.695969464 +0000
+++ pintos-solution/src/tests/threads/priority-donate-lower-sema.ck	1970-01-01 00:00:00.000000000 +0000
@@ -1,16 +0,0 @@
-# -*- perl -*-
-use strict;
-use warnings;
-use tests::tests;
-check_expected ([<<'EOF']);
-(priority-donate-lower-sema) begin
-(priority-donate-lower-sema) Main thread should have priority 41.  Actual priority: 41.
-(priority-donate-lower-sema) Lowering base priority...
-(priority-donate-lower-sema) Main thread should have priority 41.  Actual priority: 41.
-(priority-donate-lower-sema) down: downed the semaphore
-(priority-donate-lower-sema) down: done
-(priority-donate-lower-sema) down must already have finished.
-(priority-donate-lower-sema) Main thread should have priority 21.  Actual priority: 21.
-(priority-donate-lower-sema) end
-EOF
-pass;
diff -ruN aos_pintos/src/tests/threads/priority-donate-multiple-sema.c pintos-solution/src/tests/threads/priority-donate-multiple-sema.c
--- aos_pintos/src/tests/threads/priority-donate-multiple-sema.c	2024-02-09 01:26:31.687969816 +0000
+++ pintos-solution/src/tests/threads/priority-donate-multiple-sema.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,67 +0,0 @@
-/* The main thread downs semaphores A and B, then it creates two
-   higher-priority threads.  Each of these threads blocks
-   being able to down one of the semaphores again and thus donate
-   their priority to the main thread.  The main thread ups the semaphores
-   in turn and relinquishes its donated priorities.
-*/
-
-#include <stdio.h>
-#include "tests/threads/tests.h"
-#include "threads/init.h"
-#include "threads/synch.h"
-#include "threads/thread.h"
-
-static thread_func a_thread_func;
-static thread_func b_thread_func;
-
-void test_priority_donate_multiple_sema (void)
-{
-  struct semaphore a, b;
-
-  /* Make sure our priority is the default. */
-  ASSERT (thread_get_priority () == PRI_DEFAULT);
-
-  sema_init (&a, 1);
-  sema_init (&b, 1);
-
-  sema_down (&a);
-  sema_down (&b);
-
-  thread_create ("a", PRI_DEFAULT + 1, a_thread_func, &a);
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 1, thread_get_priority ());
-
-  thread_create ("b", PRI_DEFAULT + 2, b_thread_func, &b);
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 2, thread_get_priority ());
-
-  sema_up (&b);
-  msg ("Thread b should have just finished.");
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 1, thread_get_priority ());
-
-  sema_up (&a);
-  msg ("Thread a should have just finished.");
-  msg ("Main thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT, thread_get_priority ());
-}
-
-static void a_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("Thread a downed semaphore a.");
-  sema_up (sema);
-  msg ("Thread a finished.");
-}
-
-static void b_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("Thread b downed semaphore b.");
-  sema_up (sema);
-  msg ("Thread b finished.");
-}
diff -ruN aos_pintos/src/tests/threads/priority-donate-multiple-sema.ck pintos-solution/src/tests/threads/priority-donate-multiple-sema.ck
--- aos_pintos/src/tests/threads/priority-donate-multiple-sema.ck	2024-02-09 01:26:31.703969112 +0000
+++ pintos-solution/src/tests/threads/priority-donate-multiple-sema.ck	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-# -*- perl -*-
-use strict;
-use warnings;
-use tests::tests;
-check_expected ([<<'EOF']);
-(priority-donate-multiple-sema) begin
-(priority-donate-multiple-sema) Main thread should have priority 32.  Actual priority: 32.
-(priority-donate-multiple-sema) Main thread should have priority 33.  Actual priority: 33.
-(priority-donate-multiple-sema) Thread b downed semaphore b.
-(priority-donate-multiple-sema) Thread b finished.
-(priority-donate-multiple-sema) Thread b should have just finished.
-(priority-donate-multiple-sema) Main thread should have priority 32.  Actual priority: 32.
-(priority-donate-multiple-sema) Thread a downed semaphore a.
-(priority-donate-multiple-sema) Thread a finished.
-(priority-donate-multiple-sema) Thread a should have just finished.
-(priority-donate-multiple-sema) Main thread should have priority 31.  Actual priority: 31.
-(priority-donate-multiple-sema) end
-EOF
-pass;
diff -ruN aos_pintos/src/tests/threads/priority-donate-nest-sema.c pintos-solution/src/tests/threads/priority-donate-nest-sema.c
--- aos_pintos/src/tests/threads/priority-donate-nest-sema.c	2024-02-09 01:26:31.707968935 +0000
+++ pintos-solution/src/tests/threads/priority-donate-nest-sema.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,84 +0,0 @@
-/* Low-priority main thread L downs semaphore A.  Medium-priority
-   thread M then downs semaphore B, but is blocked from being able to down 
-   semaphore A again. High-priority thread H is blocked from being able
-   to down semaphore B again.  Thus, thread H donates its priority to M,
-   which in turn donates it to thread L.
- */
-
-#include <stdio.h>
-#include "tests/threads/tests.h"
-#include "threads/init.h"
-#include "threads/synch.h"
-#include "threads/thread.h"
-
-struct semas
-{
-  struct semaphore *a;
-  struct semaphore *b;
-};
-
-static thread_func medium_thread_func;
-static thread_func high_thread_func;
-
-void test_priority_donate_nest_sema (void)
-{
-  struct semaphore a, b;
-  struct semas semas;
-
-  /* Make sure our priority is the default. */
-  ASSERT (thread_get_priority () == PRI_DEFAULT);
-
-  sema_init (&a, 1);
-  sema_init (&b, 1);
-
-  sema_down (&a);
-
-  semas.a = &a;
-  semas.b = &b;
-  thread_create ("medium", PRI_DEFAULT + 1, medium_thread_func, &semas);
-  thread_yield ();
-  msg ("Low thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 1, thread_get_priority ());
-
-  thread_create ("high", PRI_DEFAULT + 2, high_thread_func, &b);
-  thread_yield ();
-  msg ("Low thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 2, thread_get_priority ());
-
-  sema_up (&a);
-  thread_yield ();
-  msg ("Medium thread should just have finished.");
-  msg ("Low thread should have priority %d.  Actual priority: %d.", PRI_DEFAULT,
-       thread_get_priority ());
-}
-
-static void medium_thread_func (void *semas_)
-{
-  struct semas *semas = semas_;
-
-  sema_down (semas->b);
-  sema_down (semas->a);
-
-  msg ("Medium thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 2, thread_get_priority ());
-  msg ("Medium thread downed the semaphores.");
-
-  sema_up (semas->a);
-  thread_yield ();
-
-  sema_up (semas->b);
-  thread_yield ();
-
-  msg ("High thread should have just finished.");
-  msg ("Middle thread finished.");
-}
-
-static void high_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("High thread downed the semaphore.");
-  sema_up (sema);
-  msg ("High thread finished.");
-}
diff -ruN aos_pintos/src/tests/threads/priority-donate-nest-sema.ck pintos-solution/src/tests/threads/priority-donate-nest-sema.ck
--- aos_pintos/src/tests/threads/priority-donate-nest-sema.ck	2024-02-09 01:26:31.711968759 +0000
+++ pintos-solution/src/tests/threads/priority-donate-nest-sema.ck	1970-01-01 00:00:00.000000000 +0000
@@ -1,19 +0,0 @@
-# -*- perl -*-
-use strict;
-use warnings;
-use tests::tests;
-check_expected ([<<'EOF']);
-(priority-donate-nest-sema) begin
-(priority-donate-nest-sema) Low thread should have priority 32.  Actual priority: 32.
-(priority-donate-nest-sema) Low thread should have priority 33.  Actual priority: 33.
-(priority-donate-nest-sema) Medium thread should have priority 33.  Actual priority: 33.
-(priority-donate-nest-sema) Medium thread downed the semaphores.
-(priority-donate-nest-sema) High thread downed the semaphore.
-(priority-donate-nest-sema) High thread finished.
-(priority-donate-nest-sema) High thread should have just finished.
-(priority-donate-nest-sema) Middle thread finished.
-(priority-donate-nest-sema) Medium thread should just have finished.
-(priority-donate-nest-sema) Low thread should have priority 31.  Actual priority: 31.
-(priority-donate-nest-sema) end
-EOF
-pass;
diff -ruN aos_pintos/src/tests/threads/priority-donate-one-sema.c pintos-solution/src/tests/threads/priority-donate-one-sema.c
--- aos_pintos/src/tests/threads/priority-donate-one-sema.c	2024-02-09 01:26:31.675970345 +0000
+++ pintos-solution/src/tests/threads/priority-donate-one-sema.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,55 +0,0 @@
-/* The main thread creates and downs a binary semaphore.  Then it creates two
-   higher-priority threads that block being able to down the semaphore again,
-   causing them to donate their priorities to the main thread.  When the
-   main thread ups the semaphore, the other threads should
-   down it in priority order.
- */
-
-#include <stdio.h>
-#include "tests/threads/tests.h"
-#include "threads/init.h"
-#include "threads/synch.h"
-#include "threads/thread.h"
-
-static thread_func down1_thread_func;
-static thread_func down2_thread_func;
-
-void test_priority_donate_one_sema (void)
-{
-  struct semaphore sema;
-
-  /* Make sure our priority is the default. */
-  ASSERT (thread_get_priority () == PRI_DEFAULT);
-
-  sema_init (&sema, 1);
-  sema_down (&sema);
-  thread_create ("down1", PRI_DEFAULT + 1, down1_thread_func, &sema);
-  msg ("This thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 1, thread_get_priority ());
-  thread_create ("down2", PRI_DEFAULT + 2, down2_thread_func, &sema);
-  msg ("This thread should have priority %d.  Actual priority: %d.",
-       PRI_DEFAULT + 2, thread_get_priority ());
-  sema_up (&sema);
-  msg ("down2, down1 must already have finished, in that order.");
-  msg ("This should be the last line before finishing this test.");
-}
-
-static void down1_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("down1: downed the semaphore");
-  sema_up (sema);
-  msg ("down1: done");
-}
-
-static void down2_thread_func (void *sema_)
-{
-  struct semaphore *sema = sema_;
-
-  sema_down (sema);
-  msg ("down2: downed the semaphore");
-  sema_up (sema);
-  msg ("down2: done");
-}
diff -ruN aos_pintos/src/tests/threads/priority-donate-one-sema.ck pintos-solution/src/tests/threads/priority-donate-one-sema.ck
--- aos_pintos/src/tests/threads/priority-donate-one-sema.ck	2024-02-09 01:26:31.707968935 +0000
+++ pintos-solution/src/tests/threads/priority-donate-one-sema.ck	1970-01-01 00:00:00.000000000 +0000
@@ -1,17 +0,0 @@
-# -*- perl -*-
-use strict;
-use warnings;
-use tests::tests;
-check_expected ([<<'EOF']);
-(priority-donate-one-sema) begin
-(priority-donate-one-sema) This thread should have priority 32.  Actual priority: 32.
-(priority-donate-one-sema) This thread should have priority 33.  Actual priority: 33.
-(priority-donate-one-sema) down2: downed the semaphore
-(priority-donate-one-sema) down2: done
-(priority-donate-one-sema) down1: downed the semaphore
-(priority-donate-one-sema) down1: done
-(priority-donate-one-sema) down2, down1 must already have finished, in that order.
-(priority-donate-one-sema) This should be the last line before finishing this test.
-(priority-donate-one-sema) end
-EOF
-pass;
diff -ruN aos_pintos/src/tests/threads/tests.c pintos-solution/src/tests/threads/tests.c
--- aos_pintos/src/tests/threads/tests.c	2024-02-09 01:26:31.699969288 +0000
+++ pintos-solution/src/tests/threads/tests.c	2024-03-31 05:11:44.000000000 +0000
@@ -18,17 +18,12 @@
     {"alarm-negative", test_alarm_negative},
     {"priority-change", test_priority_change},
     {"priority-donate-one", test_priority_donate_one},
-    {"priority-donate-one-sema", test_priority_donate_one_sema},
     {"priority-donate-multiple", test_priority_donate_multiple},
-    {"priority-donate-multiple-sema", test_priority_donate_multiple_sema},
     {"priority-donate-multiple2", test_priority_donate_multiple2},
     {"priority-donate-nest", test_priority_donate_nest},
-    {"priority-donate-nest-sema", test_priority_donate_nest_sema},
     {"priority-donate-sema", test_priority_donate_sema},
     {"priority-donate-lower", test_priority_donate_lower},
-    {"priority-donate-lower-sema", test_priority_donate_lower_sema},
     {"priority-donate-chain", test_priority_donate_chain},
-    {"priority-donate-chain-sema", test_priority_donate_chain_sema},
     {"priority-fifo", test_priority_fifo},
     {"priority-preempt", test_priority_preempt},
     {"priority-sema", test_priority_sema},
diff -ruN aos_pintos/src/tests/threads/tests.h pintos-solution/src/tests/threads/tests.h
--- aos_pintos/src/tests/threads/tests.h	2024-02-09 01:26:31.675970345 +0000
+++ pintos-solution/src/tests/threads/tests.h	2024-03-31 05:11:44.000000000 +0000
@@ -13,17 +13,12 @@
 extern test_func test_alarm_negative;
 extern test_func test_priority_change;
 extern test_func test_priority_donate_one;
-extern test_func test_priority_donate_one_sema;
 extern test_func test_priority_donate_multiple;
-extern test_func test_priority_donate_multiple_sema;
 extern test_func test_priority_donate_multiple2;
 extern test_func test_priority_donate_sema;
 extern test_func test_priority_donate_nest;
-extern test_func test_priority_donate_nest_sema;
 extern test_func test_priority_donate_lower;
-extern test_func test_priority_donate_lower_sema;
 extern test_func test_priority_donate_chain;
-extern test_func test_priority_donate_chain_sema;
 extern test_func test_priority_fifo;
 extern test_func test_priority_preempt;
 extern test_func test_priority_sema;
diff -ruN aos_pintos/src/tests/userprog/Rubric.functionality pintos-solution/src/tests/userprog/Rubric.functionality
--- aos_pintos/src/tests/userprog/Rubric.functionality	2024-02-09 01:26:31.995956245 +0000
+++ pintos-solution/src/tests/userprog/Rubric.functionality	2024-03-31 05:11:46.000000000 +0000
@@ -44,10 +44,10 @@
 3	halt
 
 - Test "symlink" system call.
-5   symlink-bad-target
-5   symlink-check
-5   symlink-remove
-10  symlink-read
+5	sl-bad-target
+5	sl-check
+5	sl-remove
+10	sl-read
 
 - Test recursive execution of user programs.
 15	multi-recurse
diff -ruN aos_pintos/src/tests/userprog/sl-read.c pintos-solution/src/tests/userprog/sl-read.c
--- aos_pintos/src/tests/userprog/sl-read.c	2024-02-09 01:26:31.771966115 +0000
+++ pintos-solution/src/tests/userprog/sl-read.c	2024-03-31 05:11:44.000000000 +0000
@@ -27,12 +27,11 @@
   CHECK ((link_fd = open ("test-link.txt")) > 1, "open \"test-link.txt\"");
 
   char content[] = "This is a test";
-  CHECK (write (target_fd, content, sizeof content - 1) == sizeof content - 1,
+  CHECK (write (target_fd, content, sizeof content) == sizeof content,
          "write content to \"test.txt\"");
   char buf[sizeof content];
-  CHECK (read (link_fd, buf, sizeof content - 1) == sizeof content - 1,
+  CHECK (read (link_fd, buf, sizeof content) == sizeof content,
          "read \"test-link.txt\"");
 
-  buf[sizeof content] = '\0';
   msg ("test-link.txt reads: '%s'", buf);
-}
+}
\ No newline at end of file
diff -ruN aos_pintos/src/threads/palloc.c pintos-solution/src/threads/palloc.c
--- aos_pintos/src/threads/palloc.c	2024-02-09 01:26:32.155949199 +0000
+++ pintos-solution/src/threads/palloc.c	2024-03-31 05:11:48.000000000 +0000
@@ -147,7 +147,8 @@
 {
   /* We'll put the pool's used_map at its base.
      Calculate the space needed for the bitmap
-     and subtract it from the pool's size. */
+     and subtract it from the pool's size. 
+     [placeholder] - it is turtles all the way down */
   size_t bm_pages = DIV_ROUND_UP (bitmap_buf_size (page_cnt), PGSIZE);
   if (bm_pages > page_cnt)
     PANIC ("Not enough memory in %s for bitmap.", name);
diff -ruN aos_pintos/src/threads/thread.c pintos-solution/src/threads/thread.c
--- aos_pintos/src/threads/thread.c	2024-02-09 01:26:32.143949727 +0000
+++ pintos-solution/src/threads/thread.c	2024-03-31 05:11:48.000000000 +0000
@@ -11,8 +11,13 @@
 #include "threads/switch.h"
 #include "threads/synch.h"
 #include "threads/vaddr.h"
+#include "lib/kernel/stdio.h"
+#include "threads/malloc.h"
+#include "userprog/process.h"
 #ifdef USERPROG
 #include "userprog/process.h"
+#include "filesys/filesys.h"
+#include "filesys/file.h"
 #endif
 
 /* Random value for struct thread's `magic' member.
@@ -193,6 +198,30 @@
   sf->eip = switch_entry;
   sf->ebp = 0;
 
+  t->parent = thread_current (); // Creating thread is parent of new thread
+
+  // Add new thread to children struct of parent
+  struct child *child = malloc (sizeof (struct child));
+  child->child_thread = t;
+  child->exit_status = -1;
+  child->pid = tid;
+  sema_init(&child->exited, 0);
+  list_push_front (&thread_current()->children, &child->elem);
+
+  t->fd_table = (struct file **) palloc_get_page(PAL_USER | PAL_ZERO);
+  if (t->fd_table == NULL){
+    free(child);
+    palloc_free_page(t);
+    return TID_ERROR;
+  }
+  
+  // Deny writes to currently executing file
+  if (strcmp("idle", name)){
+    t->fd_table[0] = filesys_open(name);
+    if (t->fd_table[0] != NULL)
+      file_deny_write(t->fd_table[0]);
+  }
+
   /* Add to run queue. */
   thread_unblock (t);
 
@@ -432,6 +461,9 @@
   old_level = intr_disable ();
   list_push_back (&all_list, &t->allelem);
   intr_set_level (old_level);
+
+  sema_init (&t->child_created, 0);
+  list_init (&t->children);
 }
 
 /* Allocates a SIZE-byte frame at the top of thread T's stack and
diff -ruN aos_pintos/src/threads/thread.h pintos-solution/src/threads/thread.h
--- aos_pintos/src/threads/thread.h	2024-02-09 02:53:00.333657240 +0000
+++ pintos-solution/src/threads/thread.h	2024-04-30 04:52:23.000000000 +0000
@@ -4,6 +4,7 @@
 #include <debug.h>
 #include <list.h>
 #include <stdint.h>
+#include "threads/synch.h"
 
 /* States in a thread's life cycle. */
 enum thread_status
@@ -95,11 +96,22 @@
   /* Shared between thread.c and synch.c. */
   struct list_elem elem; /* List element. */
 
+  struct thread* parent; // Pointer to parent thread
+  struct list children; // List of children threads & metadata
+
+  struct semaphore child_created; // Synchronize exec method
+  bool success; // Was exec successful 
+
+  struct file** fd_table; // Map fd (index) to files
+
 #ifdef USERPROG
   /* Owned by userprog/process.c. */
   uint32_t *pagedir; /* Page directory. */
 #endif
 
+   // P4 tryout:
+   // struct dir *cwd;
+
   /* Owned by thread.c. */
   unsigned magic; /* Detects stack overflow. */
 };
@@ -140,7 +152,4 @@
 int thread_get_recent_cpu (void);
 int thread_get_load_avg (void);
 
-bool less_tid(const struct list_elem *a, const struct list_elem *b, void *aux);  
-
-
 #endif /* threads/thread.h */
diff -ruN aos_pintos/src/userprog/exception.c pintos-solution/src/userprog/exception.c
--- aos_pintos/src/userprog/exception.c	2024-02-09 01:26:32.251944971 +0000
+++ pintos-solution/src/userprog/exception.c	2024-03-31 05:11:48.000000000 +0000
@@ -1,4 +1,5 @@
 #include "userprog/exception.h"
+#include "userprog/syscall.h"
 #include <inttypes.h>
 #include <stdio.h>
 #include "userprog/gdt.h"
@@ -140,15 +141,6 @@
   not_present = (f->error_code & PF_P) == 0;
   write = (f->error_code & PF_W) != 0;
   user = (f->error_code & PF_U) != 0;
-
-  /* To implement virtual memory, delete the rest of the function
-     body, and replace it with code that brings in the page to
-     which fault_addr refers. */
-  printf ("Page fault at %p: %s error %s page in %s context.\n", fault_addr,
-          not_present ? "not present" : "rights violation",
-          write ? "writing" : "reading", user ? "user" : "kernel");
-
-  printf ("There is no crying in Pintos!\n");
-
-  kill (f);
+  
+  exit(-1);
 }
diff -ruN aos_pintos/src/userprog/process.c pintos-solution/src/userprog/process.c
--- aos_pintos/src/userprog/process.c	2024-02-09 01:26:32.243945324 +0000
+++ pintos-solution/src/userprog/process.c	2024-03-31 05:11:48.000000000 +0000
@@ -8,6 +8,7 @@
 #include "userprog/gdt.h"
 #include "userprog/pagedir.h"
 #include "userprog/tss.h"
+#include "userprog/syscall.h"
 #include "filesys/directory.h"
 #include "filesys/file.h"
 #include "filesys/filesys.h"
@@ -15,11 +16,14 @@
 #include "threads/init.h"
 #include "threads/interrupt.h"
 #include "threads/palloc.h"
+#include "threads/malloc.h"
+#include "lib/string.h"
 #include "threads/thread.h"
 #include "threads/vaddr.h"
 
+#define ALIGN(ADDR) ((void *) ((uintptr_t) ADDR - (uintptr_t) ADDR % 4))
+
 static thread_func start_process NO_RETURN;
-static bool load (const char *cmdline, void (**eip) (void), void **esp);
 
 /* Starts a new thread running a user program loaded from
    FILENAME.  The new thread may be scheduled (and may even exit)
@@ -37,8 +41,16 @@
     return TID_ERROR;
   strlcpy (fn_copy, file_name, PGSIZE);
 
+  // Get executable name for thread create
+  char *save_ptr;
+  const char delimiter[7] = " \t\r\n\f\v";
+  int len = strlen (file_name);
+  char args_copy[len + 1];
+  strlcpy (args_copy, file_name, len + 1);
+  char *exec_name = strtok_r ((char *) args_copy, delimiter, &save_ptr);
+
   /* Create a new thread to execute FILE_NAME. */
-  tid = thread_create (file_name, PRI_DEFAULT, start_process, fn_copy);
+  tid = thread_create (exec_name, PRI_DEFAULT, start_process, fn_copy);
   if (tid == TID_ERROR)
     palloc_free_page (fn_copy);
   return tid;
@@ -46,9 +58,8 @@
 
 /* A thread function that loads a user process and starts it
    running. */
-static void start_process (void *file_name_)
+static void start_process (void *filename)
 {
-  char *file_name = file_name_;
   struct intr_frame if_;
   bool success;
 
@@ -57,12 +68,20 @@
   if_.gs = if_.fs = if_.es = if_.ds = if_.ss = SEL_UDSEG;
   if_.cs = SEL_UCSEG;
   if_.eflags = FLAG_IF | FLAG_MBS;
-  success = load (file_name, &if_.eip, &if_.esp);
+  success = load (filename, &if_.eip, &if_.esp);
+
+  if (!is_kernel_vaddr (filename))
+    palloc_free_page (filename);
+
+  thread_current ()->parent->success = success;
+  sema_up (&thread_current ()->parent->child_created);
 
   /* If load failed, quit. */
-  palloc_free_page (file_name);
+  palloc_free_page (filename);
   if (!success)
-    thread_exit ();
+    {
+      exit (-1);
+    }
 
   /* Start the user process by simulating a return from an
      interrupt, implemented by intr_exit (in
@@ -70,7 +89,7 @@
      arguments on the stack in the form of a `struct intr_frame',
      we just point the stack pointer (%esp) to our stack frame
      and jump to it. */
-  asm volatile("movl %0, %%esp; jmp intr_exit" : : "g"(&if_) : "memory");
+  asm volatile ("movl %0, %%esp; jmp intr_exit" : : "g"(&if_) : "memory");
   NOT_REACHED ();
 }
 
@@ -83,7 +102,33 @@
 
    This function will be implemented in problem 2-2.  For now, it
    does nothing. */
-int process_wait (tid_t child_tid UNUSED) { return -1; }
+int process_wait (tid_t child_tid UNUSED)
+{
+  struct thread *parent = thread_current ();
+  struct list *children = &parent->children;
+
+  if (list_empty (children))
+    {
+      return -1;
+    }
+
+  // Find child if in children list and wait on its exit returning status
+  struct list_elem *curr;
+  for (curr = list_front (children); curr != list_end (children);
+       curr = list_next (curr))
+    {
+      struct child *curr_item = list_entry (curr, struct child, elem);
+      if (curr_item->pid == child_tid)
+        {
+          sema_down (&curr_item->exited);
+          list_remove (curr);
+          int status = curr_item->exit_status;
+          free (curr_item);
+          return status;
+        }
+    }
+  return -1;
+}
 
 /* Free the current process's resources. */
 void process_exit (void)
@@ -124,54 +169,6 @@
   tss_update ();
 }
 
-/* We load ELF binaries.  The following definitions are taken
-   from the ELF specification, [ELF1], more-or-less verbatim.  */
-
-/* ELF types.  See [ELF1] 1-2. */
-typedef uint32_t Elf32_Word, Elf32_Addr, Elf32_Off;
-typedef uint16_t Elf32_Half;
-
-/* For use with ELF types in printf(). */
-#define PE32Wx PRIx32 /* Print Elf32_Word in hexadecimal. */
-#define PE32Ax PRIx32 /* Print Elf32_Addr in hexadecimal. */
-#define PE32Ox PRIx32 /* Print Elf32_Off in hexadecimal. */
-#define PE32Hx PRIx16 /* Print Elf32_Half in hexadecimal. */
-
-/* Executable header.  See [ELF1] 1-4 to 1-8.
-   This appears at the very beginning of an ELF binary. */
-struct Elf32_Ehdr
-{
-  unsigned char e_ident[16];
-  Elf32_Half e_type;
-  Elf32_Half e_machine;
-  Elf32_Word e_version;
-  Elf32_Addr e_entry;
-  Elf32_Off e_phoff;
-  Elf32_Off e_shoff;
-  Elf32_Word e_flags;
-  Elf32_Half e_ehsize;
-  Elf32_Half e_phentsize;
-  Elf32_Half e_phnum;
-  Elf32_Half e_shentsize;
-  Elf32_Half e_shnum;
-  Elf32_Half e_shstrndx;
-};
-
-/* Program header.  See [ELF1] 2-2 to 2-4.
-   There are e_phnum of these, starting at file offset e_phoff
-   (see [ELF1] 1-6). */
-struct Elf32_Phdr
-{
-  Elf32_Word p_type;
-  Elf32_Off p_offset;
-  Elf32_Addr p_vaddr;
-  Elf32_Addr p_paddr;
-  Elf32_Word p_filesz;
-  Elf32_Word p_memsz;
-  Elf32_Word p_flags;
-  Elf32_Word p_align;
-};
-
 /* Values for p_type.  See [ELF1] 2-3. */
 #define PT_NULL 0           /* Ignore. */
 #define PT_LOAD 1           /* Loadable segment. */
@@ -187,7 +184,7 @@
 #define PF_W 2 /* Writable. */
 #define PF_R 4 /* Readable. */
 
-static bool setup_stack (void **esp);
+static bool setup_stack (void **esp, const char *filename);
 static bool validate_segment (const struct Elf32_Phdr *, struct file *);
 static bool load_segment (struct file *file, off_t ofs, uint8_t *upage,
                           uint32_t read_bytes, uint32_t zero_bytes,
@@ -197,14 +194,21 @@
    Stores the executable's entry point into *EIP
    and its initial stack pointer into *ESP.
    Returns true if successful, false otherwise. */
-bool load (const char *file_name, void (**eip) (void), void **esp)
+bool load (const char *args, void (**eip) (void), void **esp)
 {
   struct thread *t = thread_current ();
   struct Elf32_Ehdr ehdr;
   struct file *file = NULL;
   off_t file_ofs;
   bool success = false;
-  int i;
+  int argc;
+
+  char *save_ptr;
+  const char delimiter[7] = " \t\r\n\f\v";
+  int len = strlen (args);
+  char args_copy[len + 1];
+  strlcpy (args_copy, args, len + 1);
+  char *filename = strtok_r ((char *) args_copy, delimiter, &save_ptr);
 
   /* Allocate and activate page directory. */
   t->pagedir = pagedir_create ();
@@ -213,10 +217,10 @@
   process_activate ();
 
   /* Open executable file. */
-  file = filesys_open (file_name);
+  file = filesys_open (filename);
   if (file == NULL)
     {
-      printf ("load: %s: open failed\n", file_name);
+      printf ("load: %s: open failed\n", filename);
       goto done;
     }
 
@@ -226,13 +230,13 @@
       ehdr.e_machine != 3 || ehdr.e_version != 1 ||
       ehdr.e_phentsize != sizeof (struct Elf32_Phdr) || ehdr.e_phnum > 1024)
     {
-      printf ("load: %s: error loading executable\n", file_name);
+      printf ("load: %s: error loading executable\n", filename);
       goto done;
     }
 
   /* Read program headers. */
   file_ofs = ehdr.e_phoff;
-  for (i = 0; i < ehdr.e_phnum; i++)
+  for (argc = 0; argc < ehdr.e_phnum; argc++)
     {
       struct Elf32_Phdr phdr;
 
@@ -243,6 +247,9 @@
       if (file_read (file, &phdr, sizeof phdr) != sizeof phdr)
         goto done;
       file_ofs += sizeof phdr;
+      
+      // [placeholder] - it is turtles all the way down
+      
       switch (phdr.p_type)
         {
           case PT_NULL:
@@ -291,7 +298,7 @@
     }
 
   /* Set up stack. */
-  if (!setup_stack (esp))
+  if (!setup_stack (esp, args))
     goto done;
 
   /* Start address. */
@@ -412,21 +419,109 @@
   return true;
 }
 
+static bool decrement_stack (char **char_esp, void *stackpg, char **tokens,
+                             int d)
+{
+  *char_esp -= d;
+  bool valid_dec =
+      ((uintptr_t) *char_esp >= (uintptr_t) PHYS_BASE - (uintptr_t) PGSIZE);
+  if (!valid_dec)
+    {
+      palloc_free_page (tokens);
+      palloc_free_page (stackpg);
+    }
+  return valid_dec;
+}
+
 /* Create a minimal stack by mapping a zeroed page at the top of
    user virtual memory. */
-static bool setup_stack (void **esp)
+static bool setup_stack (void **esp, const char *filename)
 {
   uint8_t *kpage;
   bool success = false;
+  char *file_name = (char *) filename;
+
+  char **tokens = palloc_get_page (0);
+  if (tokens == NULL)
+    return false;
+  char *save_ptr;
+  const char delimiter[7] = " \t\r\n\f\v";
+  tokens[0] = strtok_r (file_name, delimiter, &save_ptr);
+  int argc = 0;
+  while (tokens[argc])
+    {
+      argc++;
+      if (argc > 128)
+        {
+          return false;
+        }
+      tokens[argc] = strtok_r (NULL, delimiter, &save_ptr);
+    }
 
   kpage = palloc_get_page (PAL_USER | PAL_ZERO);
   if (kpage != NULL)
     {
       success = install_page (((uint8_t *) PHYS_BASE) - PGSIZE, kpage, true);
       if (success)
-        *esp = PHYS_BASE;
+        {
+          *esp = PHYS_BASE;
+          char *char_esp = (char *) *esp;
+          int i = argc - 1;
+          while (i >= 0)
+            {
+              int len = strlen (tokens[i]) + 1;
+              if (!decrement_stack (&char_esp, kpage, tokens, len))
+                {
+                  return false;
+                }
+              memcpy (char_esp, tokens[i], len);
+              i--;
+            }
+
+          char_esp = ALIGN (char_esp); // align down to nearest multiple of 4
+
+          if (!decrement_stack (&char_esp, kpage, tokens, 4))
+            {
+              return false;
+            }
+          int *arg_end = (int *) char_esp;
+          *arg_end = 0;
+
+          i = argc - 1;
+          char *top = *esp;
+          while (i >= 0)
+            {
+              if (!decrement_stack (&char_esp, kpage, tokens, 4))
+                {
+                  return false;
+                }
+              top -= strlen (tokens[i]) + 1;
+              memcpy (char_esp, &top, 4);
+              i--;
+            }
+          char *arg_start = char_esp;
+          if (!decrement_stack (&char_esp, kpage, tokens, 4))
+            {
+              return false;
+            }
+          memcpy (char_esp, &arg_start, 4);
+          if (!decrement_stack (&char_esp, kpage, tokens, 4))
+            {
+              return false;
+            }
+          memcpy (char_esp, &argc, 4);
+          if (!decrement_stack (&char_esp, kpage, tokens, 4))
+            {
+              return false;
+            }
+          *esp = char_esp;
+          palloc_free_page (tokens);
+        }
       else
-        palloc_free_page (kpage);
+        {
+          palloc_free_page (tokens);
+          palloc_free_page (kpage);
+        }
     }
   return success;
 }
diff -ruN aos_pintos/src/userprog/process.h pintos-solution/src/userprog/process.h
--- aos_pintos/src/userprog/process.h	2024-02-09 01:26:32.259944619 +0000
+++ pintos-solution/src/userprog/process.h	2024-03-31 05:11:50.000000000 +0000
@@ -2,7 +2,67 @@
 #define USERPROG_PROCESS_H
 
 #include "threads/thread.h"
+#include "lib/kernel/list.h"
+#include "threads/synch.h"
 
+struct child
+{
+   struct thread* child_thread;
+   struct list_elem elem;
+   struct semaphore exited;
+   int pid;
+   int exit_status;
+};
+
+/* We load ELF binaries.  The following definitions are taken
+   from the ELF specification, [ELF1], more-or-less verbatim.  */
+
+/* ELF types.  See [ELF1] 1-2. */
+typedef uint32_t Elf32_Word, Elf32_Addr, Elf32_Off;
+typedef uint16_t Elf32_Half;
+
+/* For use with ELF types in printf(). */
+#define PE32Wx PRIx32 /* Print Elf32_Word in hexadecimal. */
+#define PE32Ax PRIx32 /* Print Elf32_Addr in hexadecimal. */
+#define PE32Ox PRIx32 /* Print Elf32_Off in hexadecimal. */
+#define PE32Hx PRIx16 /* Print Elf32_Half in hexadecimal. */
+
+/* Executable header.  See [ELF1] 1-4 to 1-8.
+   This appears at the very beginning of an ELF binary. */
+struct Elf32_Ehdr
+{
+  unsigned char e_ident[16];
+  Elf32_Half e_type;
+  Elf32_Half e_machine;
+  Elf32_Word e_version;
+  Elf32_Addr e_entry;
+  Elf32_Off e_phoff;
+  Elf32_Off e_shoff;
+  Elf32_Word e_flags;
+  Elf32_Half e_ehsize;
+  Elf32_Half e_phentsize;
+  Elf32_Half e_phnum;
+  Elf32_Half e_shentsize;
+  Elf32_Half e_shnum;
+  Elf32_Half e_shstrndx;
+};
+
+/* Program header.  See [ELF1] 2-2 to 2-4.
+   There are e_phnum of these, starting at file offset e_phoff
+   (see [ELF1] 1-6). */
+struct Elf32_Phdr
+{
+  Elf32_Word p_type;
+  Elf32_Off p_offset;
+  Elf32_Addr p_vaddr;
+  Elf32_Addr p_paddr;
+  Elf32_Word p_filesz;
+  Elf32_Word p_memsz;
+  Elf32_Word p_flags;
+  Elf32_Word p_align;
+};
+
+bool load (const char *cmdline, void (**eip) (void), void **esp);
 tid_t process_execute (const char *file_name);
 int process_wait (tid_t);
 void process_exit (void);
diff -ruN aos_pintos/src/userprog/syscall.c pintos-solution/src/userprog/syscall.c
--- aos_pintos/src/userprog/syscall.c	2024-02-09 01:26:32.255944795 +0000
+++ pintos-solution/src/userprog/syscall.c	2024-04-30 04:51:58.000000000 +0000
@@ -1,19 +1,670 @@
 #include "userprog/syscall.h"
+#include "userprog/pagedir.h"
 #include <stdio.h>
 #include <syscall-nr.h>
-#include "devices/block.h"
 #include "threads/interrupt.h"
 #include "threads/thread.h"
+#include "threads/vaddr.h"
+#include "threads/malloc.h"
+#include "threads/synch.h"
+#include "userprog/process.h"
+#include "devices/shutdown.h"
+#include "threads/palloc.h"
+#include "threads/malloc.h"
+#include "lib/kernel/stdio.h"
+#include "lib/stdio.h"
+#include "lib/string.h"
+#include "filesys/filesys.h"
+#include "filesys/file.h"
+#include "filesys/inode.h"
+#include "userprog/gdt.h"
+#include "threads/flags.h"
+#include "devices/input.h"
+#include "devices/block.h"
 
+// P2 solution:
 static void syscall_handler (struct intr_frame *);
+static bool valid_ptr (void *);
+
+static struct semaphore filesys_mutex; // Ensure mutual exclusion to filesys
+
+const int MAX_OPEN_FILES = 1024; // Max open files per process
 
 void syscall_init (void)
 {
   intr_register_int (0x30, 3, INTR_ON, syscall_handler, "syscall");
+  sema_init (&filesys_mutex, 1);
+}
+
+/* Check if pointers to arguments are valid */
+static int check_args (void *esp, int num_args)
+{
+  int *int_esp = (int *) esp;
+  for (int i = 0; i < num_args; i++)
+    {
+      int_esp += 1;
+      if (!valid_ptr (int_esp))
+        {
+          return 1;
+        }
+    }
+  return 0;
 }
 
 static void syscall_handler (struct intr_frame *f UNUSED)
 {
-  printf ("system call!\n");
+  if (!valid_ptr (f->esp))
+    {
+      exit (-1);
+    }
+  int syscall_num = *(int *) f->esp;
+
+  switch (syscall_num)
+    {
+      case SYS_HALT:
+        halt ();
+        break;
+      case SYS_EXIT:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        int status = *((int *) f->esp + 1);
+        exit (status);
+        break;
+      case SYS_EXEC:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        char *filename = *((char **) f->esp + 1);
+        f->eax = exec (filename);
+        break;
+      case SYS_WAIT:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        pid_t pid = *((pid_t *) f->esp + 1);
+        f->eax = wait (pid);
+        break;
+      case SYS_CREATE:
+        if (check_args (f->esp, 3))
+          {
+            exit (-1);
+          }
+        void *file_c = *((char **) f->esp + 1);
+        unsigned initial_size = *((int *) f->esp + 2);
+        f->eax = create (file_c, initial_size);
+        break;
+      case SYS_REMOVE:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        void *file_r = *((char **) f->esp + 1);
+        f->eax = remove (file_r);
+        break;
+      case SYS_OPEN:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        char *file_o = *((char **) f->esp + 1);
+        f->eax = open (file_o);
+        break;
+      case SYS_FILESIZE:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        unsigned fd_f = *((int *) f->esp + 1);
+        f->eax = filesize (fd_f);
+        break;
+      case SYS_READ:
+        if (check_args (f->esp, 3))
+          {
+            exit (-1);
+          }
+        int fd_r = *((int *) f->esp + 1);
+        void *buffer_r = *((char **) f->esp + 2);
+        unsigned size_r = *((int *) f->esp + 3);
+        f->eax = read (fd_r, buffer_r, size_r);
+        break;
+      case SYS_WRITE:
+        if (check_args (f->esp, 3))
+          {
+            exit (-1);
+          }
+        int fd_w = *((int *) f->esp + 1);
+        void *buffer_w = *((char **) f->esp + 2);
+        unsigned size_w = *((int *) f->esp + 3);
+        f->eax = write (fd_w, buffer_w, size_w);
+        break;
+      case SYS_SEEK:
+        if (check_args (f->esp, 2))
+          {
+            exit (-1);
+          }
+        int fd_s = *((int *) f->esp + 1);
+        unsigned position = *((unsigned *) f->esp + 2);
+        seek (fd_s, position);
+        break;
+      case SYS_TELL:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        int fd_t = *((int *) f->esp + 1);
+        f->eax = tell (fd_t);
+        break;
+      case SYS_CLOSE:
+        if (check_args (f->esp, 1))
+          {
+            exit (-1);
+          }
+        int fd_c = *((int *) f->esp + 1);
+        close (fd_c);
+        break;
+      case SYS_SYMLINK:
+        if (check_args (f->esp, 2))
+          {
+            exit (-1);
+          }
+        char *target = *((char **) f->esp + 1);
+        char *linkpath = *((char **) f->esp + 2);
+        f->eax = symlink (target, linkpath);
+        break;
+      
+      // P4 tryout:
+      case SYS_CHDIR: // 15
+      if (check_args (f->esp, 1)) {
+        exit (-1);
+      }
+      char *file_cd = *((char **) f->esp + 1);
+      f->eax = chdir (file_cd);
+      break;
+
+    case SYS_MKDIR: // 16
+      if (check_args (f->esp, 1)) {
+        exit (-1);
+      }
+      char *file_m = *((char **) f->esp + 1);
+      f->eax = mkdir (file_m);
+      break;
+
+    case SYS_READDIR: // 17
+      if (check_args (f->esp, 2)) {
+        exit (-1);
+      }
+      int fd_rd = *((int *) f->esp + 1);
+      char *name = *((char **) f->esp + 2);
+      f->eax = readdir (fd_rd, name);
+      break;
+
+    case SYS_ISDIR: // 18
+      if (check_args (f->esp, 1)){
+        exit (-1);
+      }
+      int fd_is = *((int *) f->esp + 1);
+      f->eax = isdir (fd_is);
+      break;
+
+    case SYS_INUMBER: // 19
+      if (check_args (f->esp, 1)){
+        exit (-1);
+      }
+      int fd_in = *((int *) f->esp + 1);
+      f->eax = inumber (fd_in);
+      break;
+    
+    case SYS_STAT:
+      if (check_args (f->esp, 2)) {
+        exit (-1);
+      }
+      char *pathname = *((char **) f->esp + 1);
+      void *buffer_s = *((char **) f->esp + 2);
+      f->eax = stat (pathname, buffer_s);
+      break;
+    }
+}
+
+void halt () { shutdown_power_off (); }
+
+void exit (int status)
+{
+  printf ("%s: exit(%d)\n", thread_current ()->name, status);
+
+  // Free all of exiting thread's children
+  struct list *our_children = &(thread_current ()->children);
+  if (!list_empty (our_children))
+    {
+      struct list_elem *curr;
+      for (curr = list_front (our_children); curr != list_end (our_children);)
+        {
+          struct child *curr_item = list_entry (curr, struct child, elem);
+          curr_item->child_thread->parent = NULL;
+          curr = curr->next;
+          free (curr_item);
+        }
+    }
+
+  // Close all open files
+  int fd = 2;
+  struct file **fds = thread_current ()->fd_table;
+  while (fd < MAX_OPEN_FILES)
+    {
+      if (fds[fd] != NULL)
+        {
+          close (fd);
+        }
+      fd++;
+    }
+
+  /* Find current thread in parents children data structure and communicate exit
+  status */
+  if (thread_current ()->parent)
+    {
+      struct list *children = &(thread_current ()->parent->children);
+      if (!list_empty (children))
+        {
+          struct list_elem *curr;
+          struct child *curr_item;
+          for (curr = list_front (children); curr != list_end (children);
+               curr = list_next (curr))
+            {
+              curr_item = list_entry (curr, struct child, elem);
+              if (curr_item->pid == thread_current ()->tid)
+                {
+                  curr_item->exit_status = status;
+                  // Let waiting parent know you are finished
+                  sema_up (&curr_item->exited);
+                  break;
+                }
+            }
+        }
+    }
+  // Re-enable writes to executable associated w/ this process
+  close (0);
+  palloc_free_page (thread_current ()->fd_table);
   thread_exit ();
-}
\ No newline at end of file
+}
+
+pid_t exec (const char *cmd_line)
+{
+  if (!valid_ptr ((void *) cmd_line))
+    {
+      exit (-1);
+    }
+
+  int tid = process_execute (cmd_line);
+
+  sema_down (&thread_current ()->child_created); // wait for child creation
+  tid = !thread_current ()->success ? -1 : tid;  // if exec fails tid = -1
+  thread_current ()->success = false;            // reset success value
+  return tid;
+}
+
+int wait (pid_t pid) { return process_wait (pid); }
+
+bool create (const char *file, unsigned initial_size)
+{
+  if (!valid_ptr ((void *) file))
+    {
+      exit (-1);
+    }
+
+  sema_down (&filesys_mutex);
+  bool opened = filesys_create (file, initial_size);
+  sema_up (&filesys_mutex);
+
+  return opened;
+}
+
+bool remove (const char *file)
+{
+  if (!valid_ptr ((void *) file))
+    {
+      exit (-1);
+    }
+  sema_down (&filesys_mutex);
+  bool removed = filesys_remove (file);
+  sema_up (&filesys_mutex);
+  return removed;
+}
+
+int open (const char *filename)
+{
+  if (!valid_ptr ((void *) filename))
+    {
+      exit (-1);
+    }
+
+  struct file **fds = thread_current ()->fd_table;
+  int fd = 2;
+  struct file *curr = fds[fd];
+
+  // Find open spot in table to open file
+  while (curr != NULL)
+    {
+      curr = fds[++fd];
+      if (fd == MAX_OPEN_FILES)
+        {
+          return -1;
+        }
+    }
+
+  sema_down (&filesys_mutex);
+  struct file *file = filesys_open (filename);
+  sema_up (&filesys_mutex);
+  if (file == NULL)
+    {
+      return -1;
+    }
+
+  fds[fd] = file;
+  return fd;
+}
+
+int filesize (int fd)
+{
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL)
+    {
+      return 0;
+    }
+  sema_down (&filesys_mutex);
+  int length = file_length (file);
+  sema_up (&filesys_mutex);
+  return length;
+}
+
+int read (int fd, void *buffer, unsigned size)
+{
+  if (fd >= MAX_OPEN_FILES || fd == 1 || fd < 0)
+    {
+      return -1;
+    }
+  if (!valid_ptr ((void *) buffer) || !valid_ptr ((char *) buffer + size))
+    {
+      exit (-1);
+    }
+
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL)
+    {
+      return 0;
+    }
+  unsigned bytes_read = 0;
+
+  // Read from stdin
+  if (fd == 0)
+    {
+      for (unsigned i = 0; i < size; i++)
+        {
+          *((char *) buffer + i) = input_getc ();
+          bytes_read++;
+        }
+    }
+  else // Read from file
+    {
+      sema_down (&filesys_mutex);
+      bytes_read = file_read (file, buffer, size);
+      sema_up (&filesys_mutex);
+    }
+
+  return bytes_read;
+}
+
+int write (int fd, const void *buffer, unsigned size)
+{
+  if (!valid_ptr ((void *) buffer) || !valid_ptr ((char *) buffer + size))
+    {
+      exit (-1);
+    }
+  if (fd >= MAX_OPEN_FILES || fd <= 0)
+    {
+      return 0;
+    }
+  if (fd == 1) // Write to stdout
+    {
+      putbuf (((char *) buffer), (size_t) size);
+      return size;
+    }
+
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL || file->deny_write)
+    {
+      return 0;
+    }
+
+  sema_down (&filesys_mutex);
+  unsigned bytes_written = file_write (file, buffer, size);
+  sema_up (&filesys_mutex);
+  return bytes_written;
+}
+
+void seek (int fd, unsigned position)
+{
+  if (fd >= MAX_OPEN_FILES || fd == 1)
+    {
+      return;
+    }
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL)
+    {
+      return;
+    }
+  sema_down (&filesys_mutex);
+  file_seek (file, position);
+  sema_up (&filesys_mutex);
+}
+
+unsigned tell (int fd)
+{
+  if (fd >= MAX_OPEN_FILES)
+    {
+      return 0;
+    }
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL)
+    {
+      return 0;
+    }
+  sema_down (&filesys_mutex);
+  unsigned pos = file_tell (file);
+  sema_up (&filesys_mutex);
+  return pos;
+}
+
+void close (int fd)
+{
+  struct file **fds = thread_current ()->fd_table;
+  if (fd >= MAX_OPEN_FILES)
+    {
+      return;
+    }
+  sema_down (&filesys_mutex);
+  file_close (fds[fd]);
+  fds[fd] = NULL;
+  sema_up (&filesys_mutex);
+}
+
+int symlink (char *target, char *linkpath)
+{
+  sema_down (&filesys_mutex);
+  struct file *target_file = filesys_open (target);
+  sema_up (&filesys_mutex);
+
+  if (target_file == NULL)
+    {
+      return -1;
+    }
+
+  sema_down (&filesys_mutex);
+  bool success = filesys_symlink (target, linkpath);
+  sema_up (&filesys_mutex);
+
+  return success ? 0 : -1;
+}
+
+bool valid_ptr (void *ptr)
+{
+  return ptr && !is_kernel_vaddr (ptr) &&
+         pagedir_get_page (thread_current ()->pagedir, ptr);
+}
+
+
+// P4 tryout:
+/* System Call: bool chdir (const char *dir) */
+bool chdir (const char *dir)
+{
+  if (!valid_ptr ((void *) dir)) {
+    return false;
+  }
+
+  // sema_down (&filesys_mutex);
+  // bool ret = filesys_chdir (dir);
+  // // if (directory == NULL) {
+  // //   sema_up (&filesys_mutex);
+  // //   return false;
+  // // }
+
+  // // struct thread *cur = thread_current ();
+  // // dir_close (cur->cwd);  // Close the current working directory
+  // // cur->cwd = directory;  // Update the current working directory
+  // sema_up (&filesys_mutex);
+
+  return true;
+}
+
+/* System Call: bool mkdir (const char *dir) */
+bool mkdir (const char *dir)
+{
+  if (!valid_ptr ((void *) dir)) {
+    return false;
+  }
+  
+  // sema_down (&filesys_mutex);
+  // bool ret = filesys_create (dir, 0, true);
+  // sema_up (&filesys_mutex);
+
+  return true;
+}
+
+/* System Call: bool readdir (int fd, char *name) */
+bool readdir (int fd, char *name)
+{
+  if (fd < 3 || fd >= MAX_OPEN_FILES || name == NULL || !valid_ptr (name)) {
+    return false;
+  }
+
+  sema_down (&filesys_mutex);
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL) {
+    sema_up (&filesys_mutex);
+    return false;
+  }
+
+  // struct inode *inode = file_get_inode(file);
+  // if(inode == NULL) {
+  //   sema_up (&filesys_mutex);
+  //   return false;
+  // }
+
+  // if(! inode_is_dir(inode)) {
+  //   sema_up (&filesys_mutex);
+  //   return false;
+  // }
+
+  // struct dir *dir = dir_open (inode);
+  // if (dir == NULL) {
+  //   sema_up (&filesys_mutex);
+  //   return false;
+  // }
+
+  // bool success = dir_readdir (dir, name);
+  // // dir_close (dir);
+  sema_up (&filesys_mutex);
+
+  return true;
+}
+
+/* System Call: bool isdir (int fd) */
+bool isdir (int fd)
+{
+  if (fd < 3 || fd >= MAX_OPEN_FILES) {
+    return false;
+  }
+
+  sema_down (&filesys_mutex);
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL) {
+    sema_up (&filesys_mutex);
+    return false;
+  }
+  
+  // bool ret = inode_is_dir (file_get_inode (file));
+  sema_up (&filesys_mutex);
+
+  return true;
+}
+
+/* System Call: int inumber (int fd) */
+int inumber (int fd)
+{
+  if (fd < 3 || fd >= MAX_OPEN_FILES) {
+    return -1;
+  }
+
+  sema_down (&filesys_mutex);
+  struct file *file = thread_current ()->fd_table[fd];
+  if (file == NULL) {
+    sema_up (&filesys_mutex);
+    return -1;
+  }
+  
+  // int ret = (int) inode_get_inumber (file_get_inode (file));
+  sema_up (&filesys_mutex);
+
+  return 0;
+}
+
+/* System Call: int stat (char *pathname, void *buf) */
+int stat(const char *pathname, void *buf)
+{
+    struct stat *stat_buf;
+    struct inode *inode;
+    int result = -1; // Default error return value
+
+    /* Check if the buffer pointer is valid */
+    if (!valid_ptr ((void *) buf) || !valid_ptr ((char *) buf + sizeof(struct stat))) {
+        return -1;
+    }
+
+    /* Allocate memory for the stat structure */
+    sema_down (&filesys_mutex);
+    stat_buf = (struct stat *)malloc(sizeof(struct stat));
+    if (stat_buf == NULL) {
+        sema_up (&filesys_mutex);
+        return -1; // Memory allocation failed
+    }
+
+    /* Open the inode corresponding to the pathname */
+    // inode = filesys_open_inode(pathname);
+    // if (inode != NULL)
+    // {
+    //     /* Fill the stat structure with inode information */
+    //     stat_buf->logical_size = inode_length(inode);
+    //     stat_buf->physical_size = inode_length_physical(inode);
+    //     stat_buf->inode_number = inode_get_inumber(inode);
+    //     stat_buf->blocks = inode_get_blocks(inode);
+
+    //     /* Copy the stat structure to the user-provided buffer */
+    //     memcpy(buf, stat_buf, sizeof(struct stat));
+    // }
+
+    free(stat_buf); // Free allocated memory
+    sema_up (&filesys_mutex);
+    return result;
+}
diff -ruN aos_pintos/src/userprog/syscall.h pintos-solution/src/userprog/syscall.h
--- aos_pintos/src/userprog/syscall.h	2024-02-09 01:26:32.263944443 +0000
+++ pintos-solution/src/userprog/syscall.h	2024-04-30 04:48:45.000000000 +0000
@@ -3,6 +3,28 @@
 
 #include <stdbool.h>
 
+typedef int pid_t;
 void syscall_init (void);
+void halt (void);
+void exit (int);
+pid_t exec (const char *);
+int wait (pid_t);
+bool create (const char *, unsigned);
+bool remove (const char *);
+int open (const char *);
+int filesize (int);
+int read (int, void *, unsigned);
+int write (int, const void *, unsigned);
+void seek (int, unsigned);
+unsigned tell (int);
+void close (int);
+int symlink (char *, char *);
+
+bool chdir (const char *dir);
+bool mkdir (const char *dir);
+bool readdir (int fd, char *name);
+bool isdir (int fd);
+int inumber (int fd);
+int stat (const char *pathname, void *buf);
 
 #endif /* userprog/syscall.h */
